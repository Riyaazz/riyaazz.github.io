(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&n(t)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();var Mn=!1,Dn=!1,At=[],$n=-1;function qa(e){za(e)}function za(e){At.includes(e)||At.push(e),Va()}function Ua(e){let r=At.indexOf(e);r!==-1&&r>$n&&At.splice(r,1)}function Va(){!Dn&&!Mn&&(Mn=!0,queueMicrotask(Ka))}function Ka(){Mn=!1,Dn=!0;for(let e=0;e<At.length;e++)At[e](),$n=e;At.length=0,$n=-1,Dn=!1}var Xt,Dt,Jt,_s,Bn=!0;function Wa(e){Bn=!1,e(),Bn=!0}function Ga(e){Xt=e.reactive,Jt=e.release,Dt=r=>e.effect(r,{scheduler:i=>{Bn?qa(i):i()}}),_s=e.raw}function qi(e){Dt=e}function Xa(e){let r=()=>{};return[n=>{let a=Dt(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(o=>o())}),e._x_effects.add(a),r=()=>{a!==void 0&&(e._x_effects.delete(a),Jt(a))},a},()=>{r()}]}function bs(e,r){let i=!0,n,a=Dt(()=>{let o=e();JSON.stringify(o),i?n=o:queueMicrotask(()=>{r(o,n),n=o}),i=!1});return()=>Jt(a)}var vs=[],ks=[],xs=[];function Ja(e){xs.push(e)}function ei(e,r){typeof r=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(r)):(r=e,ks.push(r))}function Ss(e){vs.push(e)}function Es(e,r,i){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[r]||(e._x_attributeCleanups[r]=[]),e._x_attributeCleanups[r].push(i)}function Cs(e,r){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([i,n])=>{(r===void 0||r.includes(i))&&(n.forEach(a=>a()),delete e._x_attributeCleanups[i])})}function Ya(e){var r,i;for((r=e._x_effects)==null||r.forEach(Ua);(i=e._x_cleanups)!=null&&i.length;)e._x_cleanups.pop()()}var ti=new MutationObserver(si),ri=!1;function ni(){ti.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ri=!0}function Ts(){Qa(),ti.disconnect(),ri=!1}var mr=[];function Qa(){let e=ti.takeRecords();mr.push(()=>e.length>0&&si(e));let r=mr.length;queueMicrotask(()=>{if(mr.length===r)for(;mr.length>0;)mr.shift()()})}function be(e){if(!ri)return e();Ts();let r=e();return ni(),r}var ii=!1,Vr=[];function Za(){ii=!0}function el(){ii=!1,si(Vr),Vr=[]}function si(e){if(ii){Vr=Vr.concat(e);return}let r=[],i=new Set,n=new Map,a=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&(e[o].type==="childList"&&(e[o].removedNodes.forEach(t=>{t.nodeType===1&&t._x_marker&&i.add(t)}),e[o].addedNodes.forEach(t=>{if(t.nodeType===1){if(i.has(t)){i.delete(t);return}t._x_marker||r.push(t)}})),e[o].type==="attributes")){let t=e[o].target,s=e[o].attributeName,l=e[o].oldValue,u=()=>{n.has(t)||n.set(t,[]),n.get(t).push({name:s,value:t.getAttribute(s)})},d=()=>{a.has(t)||a.set(t,[]),a.get(t).push(s)};t.hasAttribute(s)&&l===null?u():t.hasAttribute(s)?(d(),u()):d()}a.forEach((o,t)=>{Cs(t,o)}),n.forEach((o,t)=>{vs.forEach(s=>s(t,o))});for(let o of i)r.some(t=>t.contains(o))||ks.forEach(t=>t(o));for(let o of r)o.isConnected&&xs.forEach(t=>t(o));r=null,i=null,n=null,a=null}function As(e){return xr(Vt(e))}function kr(e,r,i){return e._x_dataStack=[r,...Vt(i||e)],()=>{e._x_dataStack=e._x_dataStack.filter(n=>n!==r)}}function Vt(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Vt(e.host):e.parentNode?Vt(e.parentNode):[]}function xr(e){return new Proxy({objects:e},tl)}var tl={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(r=>Object.keys(r))))},has({objects:e},r){return r==Symbol.unscopables?!1:e.some(i=>Object.prototype.hasOwnProperty.call(i,r)||Reflect.has(i,r))},get({objects:e},r,i){return r=="toJSON"?rl:Reflect.get(e.find(n=>Reflect.has(n,r))||{},r,i)},set({objects:e},r,i,n){const a=e.find(t=>Object.prototype.hasOwnProperty.call(t,r))||e[e.length-1],o=Object.getOwnPropertyDescriptor(a,r);return o!=null&&o.set&&(o!=null&&o.get)?o.set.call(n,i)||!0:Reflect.set(a,r,i)}};function rl(){return Reflect.ownKeys(this).reduce((r,i)=>(r[i]=Reflect.get(this,i),r),{})}function Ls(e){let r=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,i=(n,a="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([o,{value:t,enumerable:s}])=>{if(s===!1||t===void 0||typeof t=="object"&&t!==null&&t.__v_skip)return;let l=a===""?o:`${a}.${o}`;typeof t=="object"&&t!==null&&t._x_interceptor?n[o]=t.initialize(e,l,o):r(t)&&t!==n&&!(t instanceof Element)&&i(t,l)})};return i(e)}function Ps(e,r=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(n,a,o){return e(this.initialValue,()=>nl(n,a),t=>In(n,a,t),a,o)}};return r(i),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let a=i.initialize.bind(i);i.initialize=(o,t,s)=>{let l=n.initialize(o,t,s);return i.initialValue=l,a(o,t,s)}}else i.initialValue=n;return i}}function nl(e,r){return r.split(".").reduce((i,n)=>i[n],e)}function In(e,r,i){if(typeof r=="string"&&(r=r.split(".")),r.length===1)e[r[0]]=i;else{if(r.length===0)throw error;return e[r[0]]||(e[r[0]]={}),In(e[r[0]],r.slice(1),i)}}var Os={};function Ke(e,r){Os[e]=r}function Nn(e,r){let i=il(r);return Object.entries(Os).forEach(([n,a])=>{Object.defineProperty(e,`$${n}`,{get(){return a(r,i)},enumerable:!1})}),e}function il(e){let[r,i]=Bs(e),n={interceptor:Ps,...r};return ei(e,i),n}function sl(e,r,i,...n){try{return i(...n)}catch(a){vr(a,e,r)}}function vr(e,r,i=void 0){e=Object.assign(e??{message:"No error message given."},{el:r,expression:i}),console.warn(`Alpine Expression Error: ${e.message}

${i?'Expression: "'+i+`"

`:""}`,r),setTimeout(()=>{throw e},0)}var zr=!0;function Fs(e){let r=zr;zr=!1;let i=e();return zr=r,i}function Lt(e,r,i={}){let n;return Oe(e,r)(a=>n=a,i),n}function Oe(...e){return Rs(...e)}var Rs=Ms;function ol(e){Rs=e}function Ms(e,r){let i={};Nn(i,e);let n=[i,...Vt(e)],a=typeof r=="function"?al(n,r):ul(n,r,e);return sl.bind(null,e,r,a)}function al(e,r){return(i=()=>{},{scope:n={},params:a=[]}={})=>{let o=r.apply(xr([n,...e]),a);Kr(i,o)}}var Cn={};function ll(e,r){if(Cn[e])return Cn[e];let i=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,o=(()=>{try{let t=new i(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`);return Object.defineProperty(t,"name",{value:`[Alpine] ${e}`}),t}catch(t){return vr(t,r,e),Promise.resolve()}})();return Cn[e]=o,o}function ul(e,r,i){let n=ll(r,i);return(a=()=>{},{scope:o={},params:t=[]}={})=>{n.result=void 0,n.finished=!1;let s=xr([o,...e]);if(typeof n=="function"){let l=n(n,s).catch(u=>vr(u,i,r));n.finished?(Kr(a,n.result,s,t,i),n.result=void 0):l.then(u=>{Kr(a,u,s,t,i)}).catch(u=>vr(u,i,r)).finally(()=>n.result=void 0)}}}function Kr(e,r,i,n,a){if(zr&&typeof r=="function"){let o=r.apply(i,n);o instanceof Promise?o.then(t=>Kr(e,t,i,n)).catch(t=>vr(t,a,r)):e(o)}else typeof r=="object"&&r instanceof Promise?r.then(o=>e(o)):e(r)}var oi="x-";function Yt(e=""){return oi+e}function cl(e){oi=e}var Wr={};function Se(e,r){return Wr[e]=r,{before(i){if(!Wr[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${e}\` will use the default order of execution`);return}const n=Tt.indexOf(i);Tt.splice(n>=0?n:Tt.indexOf("DEFAULT"),0,e)}}}function dl(e){return Object.keys(Wr).includes(e)}function ai(e,r,i){if(r=Array.from(r),e._x_virtualDirectives){let o=Object.entries(e._x_virtualDirectives).map(([s,l])=>({name:s,value:l})),t=Ds(o);o=o.map(s=>t.find(l=>l.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),r=r.concat(o)}let n={};return r.map(Hs((o,t)=>n[o]=t)).filter(qs).map(pl(n,i)).sort(ml).map(o=>hl(e,o))}function Ds(e){return Array.from(e).map(Hs()).filter(r=>!qs(r))}var Hn=!1,yr=new Map,$s=Symbol();function fl(e){Hn=!0;let r=Symbol();$s=r,yr.set(r,[]);let i=()=>{for(;yr.get(r).length;)yr.get(r).shift()();yr.delete(r)},n=()=>{Hn=!1,i()};e(i),n()}function Bs(e){let r=[],i=s=>r.push(s),[n,a]=Xa(e);return r.push(a),[{Alpine:Sr,effect:n,cleanup:i,evaluateLater:Oe.bind(Oe,e),evaluate:Lt.bind(Lt,e)},()=>r.forEach(s=>s())]}function hl(e,r){let i=()=>{},n=Wr[r.type]||i,[a,o]=Bs(e);Es(e,r.original,o);let t=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,r,a),n=n.bind(n,e,r,a),Hn?yr.get($s).push(n):n())};return t.runCleanups=o,t}var Is=(e,r)=>({name:i,value:n})=>(i.startsWith(e)&&(i=i.replace(e,r)),{name:i,value:n}),Ns=e=>e;function Hs(e=()=>{}){return({name:r,value:i})=>{let{name:n,value:a}=js.reduce((o,t)=>t(o),{name:r,value:i});return n!==r&&e(n,r),{name:n,value:a}}}var js=[];function li(e){js.push(e)}function qs({name:e}){return zs().test(e)}var zs=()=>new RegExp(`^${oi}([^:^.]+)\\b`);function pl(e,r){return({name:i,value:n})=>{let a=i.match(zs()),o=i.match(/:([a-zA-Z0-9\-_:]+)/),t=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=r||e[i]||i;return{type:a?a[1]:null,value:o?o[1]:null,modifiers:t.map(l=>l.replace(".","")),expression:n,original:s}}}var jn="DEFAULT",Tt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",jn,"teleport"];function ml(e,r){let i=Tt.indexOf(e.type)===-1?jn:e.type,n=Tt.indexOf(r.type)===-1?jn:r.type;return Tt.indexOf(i)-Tt.indexOf(n)}function _r(e,r,i={}){e.dispatchEvent(new CustomEvent(r,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function Rt(e,r){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(a=>Rt(a,r));return}let i=!1;if(r(e,()=>i=!0),i)return;let n=e.firstElementChild;for(;n;)Rt(n,r),n=n.nextElementSibling}function qe(e,...r){console.warn(`Alpine Warning: ${e}`,...r)}var zi=!1;function gl(){zi&&qe("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),zi=!0,document.body||qe("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),_r(document,"alpine:init"),_r(document,"alpine:initializing"),ni(),Ja(r=>nt(r,Rt)),ei(r=>Zt(r)),Ss((r,i)=>{ai(r,i).forEach(n=>n())});let e=r=>!sn(r.parentElement,!0);Array.from(document.querySelectorAll(Ks().join(","))).filter(e).forEach(r=>{nt(r)}),_r(document,"alpine:initialized"),setTimeout(()=>{bl()})}var ui=[],Us=[];function Vs(){return ui.map(e=>e())}function Ks(){return ui.concat(Us).map(e=>e())}function Ws(e){ui.push(e)}function Gs(e){Us.push(e)}function sn(e,r=!1){return Qt(e,i=>{if((r?Ks():Vs()).some(a=>i.matches(a)))return!0})}function Qt(e,r){if(e){if(r(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Qt(e.parentElement,r)}}function wl(e){return Vs().some(r=>e.matches(r))}var Xs=[];function yl(e){Xs.push(e)}var _l=1;function nt(e,r=Rt,i=()=>{}){Qt(e,n=>n._x_ignore)||fl(()=>{r(e,(n,a)=>{n._x_marker||(i(n,a),Xs.forEach(o=>o(n,a)),ai(n,n.attributes).forEach(o=>o()),n._x_ignore||(n._x_marker=_l++),n._x_ignore&&a())})})}function Zt(e,r=Rt){r(e,i=>{Ya(i),Cs(i),delete i._x_marker})}function bl(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([r,i,n])=>{dl(i)||n.some(a=>{if(document.querySelector(a))return qe(`found "${a}", but missing ${r} plugin`),!0})})}var qn=[],ci=!1;function di(e=()=>{}){return queueMicrotask(()=>{ci||setTimeout(()=>{zn()})}),new Promise(r=>{qn.push(()=>{e(),r()})})}function zn(){for(ci=!1;qn.length;)qn.shift()()}function vl(){ci=!0}function fi(e,r){return Array.isArray(r)?Ui(e,r.join(" ")):typeof r=="object"&&r!==null?kl(e,r):typeof r=="function"?fi(e,r()):Ui(e,r)}function Ui(e,r){let i=a=>a.split(" ").filter(o=>!e.classList.contains(o)).filter(Boolean),n=a=>(e.classList.add(...a),()=>{e.classList.remove(...a)});return r=r===!0?r="":r||"",n(i(r))}function kl(e,r){let i=s=>s.split(" ").filter(Boolean),n=Object.entries(r).flatMap(([s,l])=>l?i(s):!1).filter(Boolean),a=Object.entries(r).flatMap(([s,l])=>l?!1:i(s)).filter(Boolean),o=[],t=[];return a.forEach(s=>{e.classList.contains(s)&&(e.classList.remove(s),t.push(s))}),n.forEach(s=>{e.classList.contains(s)||(e.classList.add(s),o.push(s))}),()=>{t.forEach(s=>e.classList.add(s)),o.forEach(s=>e.classList.remove(s))}}function on(e,r){return typeof r=="object"&&r!==null?xl(e,r):Sl(e,r)}function xl(e,r){let i={};return Object.entries(r).forEach(([n,a])=>{i[n]=e.style[n],n.startsWith("--")||(n=El(n)),e.style.setProperty(n,a)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{on(e,i)}}function Sl(e,r){let i=e.getAttribute("style",r);return e.setAttribute("style",r),()=>{e.setAttribute("style",i||"")}}function El(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Un(e,r=()=>{}){let i=!1;return function(){i?r.apply(this,arguments):(i=!0,e.apply(this,arguments))}}Se("transition",(e,{value:r,modifiers:i,expression:n},{evaluate:a})=>{typeof n=="function"&&(n=a(n)),n!==!1&&(!n||typeof n=="boolean"?Tl(e,i,r):Cl(e,n,r))});function Cl(e,r,i){Js(e,fi,""),{enter:a=>{e._x_transition.enter.during=a},"enter-start":a=>{e._x_transition.enter.start=a},"enter-end":a=>{e._x_transition.enter.end=a},leave:a=>{e._x_transition.leave.during=a},"leave-start":a=>{e._x_transition.leave.start=a},"leave-end":a=>{e._x_transition.leave.end=a}}[i](r)}function Tl(e,r,i){Js(e,on);let n=!r.includes("in")&&!r.includes("out")&&!i,a=n||r.includes("in")||["enter"].includes(i),o=n||r.includes("out")||["leave"].includes(i);r.includes("in")&&!n&&(r=r.filter((z,ee)=>ee<r.indexOf("out"))),r.includes("out")&&!n&&(r=r.filter((z,ee)=>ee>r.indexOf("out")));let t=!r.includes("opacity")&&!r.includes("scale"),s=t||r.includes("opacity"),l=t||r.includes("scale"),u=s?0:1,d=l?gr(r,"scale",95)/100:1,h=gr(r,"delay",0)/1e3,g=gr(r,"origin","center"),R="opacity, transform",$=gr(r,"duration",150)/1e3,X=gr(r,"duration",75)/1e3,O="cubic-bezier(0.4, 0.0, 0.2, 1)";a&&(e._x_transition.enter.during={transformOrigin:g,transitionDelay:`${h}s`,transitionProperty:R,transitionDuration:`${$}s`,transitionTimingFunction:O},e._x_transition.enter.start={opacity:u,transform:`scale(${d})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:g,transitionDelay:`${h}s`,transitionProperty:R,transitionDuration:`${X}s`,transitionTimingFunction:O},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${d})`})}function Js(e,r,i={}){e._x_transition||(e._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(n=()=>{},a=()=>{}){Vn(e,r,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,a)},out(n=()=>{},a=()=>{}){Vn(e,r,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,a)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,r,i,n){const a=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>a(i);if(r){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(i):o():e._x_transition?e._x_transition.in(i):o();return}e._x_hidePromise=e._x_transition?new Promise((t,s)=>{e._x_transition.out(()=>{},()=>t(n)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>s({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let t=Ys(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):a(()=>{let s=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(s)]).then(([d])=>d==null?void 0:d());return delete l._x_hidePromise,delete l._x_hideChildren,u};s(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Ys(e){let r=e.parentNode;if(r)return r._x_hidePromise?r:Ys(r)}function Vn(e,r,{during:i,start:n,end:a}={},o=()=>{},t=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(n).length===0&&Object.keys(a).length===0){o(),t();return}let s,l,u;Al(e,{start(){s=r(e,n)},during(){l=r(e,i)},before:o,end(){s(),u=r(e,a)},after:t,cleanup(){l(),u()}})}function Al(e,r){let i,n,a,o=Un(()=>{be(()=>{i=!0,n||r.before(),a||(r.end(),zn()),r.after(),e.isConnected&&r.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(t){this.beforeCancels.push(t)},cancel:Un(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},be(()=>{r.start(),r.during()}),vl(),requestAnimationFrame(()=>{if(i)return;let t=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,s=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;t===0&&(t=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),be(()=>{r.before()}),n=!0,requestAnimationFrame(()=>{i||(be(()=>{r.end()}),zn(),setTimeout(e._x_transitioning.finish,t+s),a=!0)})})}function gr(e,r,i){if(e.indexOf(r)===-1)return i;const n=e[e.indexOf(r)+1];if(!n||r==="scale"&&isNaN(n))return i;if(r==="duration"||r==="delay"){let a=n.match(/([0-9]+)ms/);if(a)return a[1]}return r==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(r)+2])?[n,e[e.indexOf(r)+2]].join(" "):n}var ht=!1;function gt(e,r=()=>{}){return(...i)=>ht?r(...i):e(...i)}function Ll(e){return(...r)=>ht&&e(...r)}var Qs=[];function an(e){Qs.push(e)}function Pl(e,r){Qs.forEach(i=>i(e,r)),ht=!0,Zs(()=>{nt(r,(i,n)=>{n(i,()=>{})})}),ht=!1}var Kn=!1;function Ol(e,r){r._x_dataStack||(r._x_dataStack=e._x_dataStack),ht=!0,Kn=!0,Zs(()=>{Fl(r)}),ht=!1,Kn=!1}function Fl(e){let r=!1;nt(e,(n,a)=>{Rt(n,(o,t)=>{if(r&&wl(o))return t();r=!0,a(o,t)})})}function Zs(e){let r=Dt;qi((i,n)=>{let a=r(i);return Jt(a),()=>{}}),e(),qi(r)}function eo(e,r,i,n=[]){switch(e._x_bindings||(e._x_bindings=Xt({})),e._x_bindings[r]=i,r=n.includes("camel")?Hl(r):r,r){case"value":Rl(e,i);break;case"style":Dl(e,i);break;case"class":Ml(e,i);break;case"selected":case"checked":$l(e,r,i);break;default:to(e,r,i);break}}function Rl(e,r){if(io(e))e.attributes.value===void 0&&(e.value=r),window.fromModel&&(typeof r=="boolean"?e.checked=Ur(e.value)===r:e.checked=Vi(e.value,r));else if(hi(e))Number.isInteger(r)?e.value=r:!Array.isArray(r)&&typeof r!="boolean"&&![null,void 0].includes(r)?e.value=String(r):Array.isArray(r)?e.checked=r.some(i=>Vi(i,e.value)):e.checked=!!r;else if(e.tagName==="SELECT")Nl(e,r);else{if(e.value===r)return;e.value=r===void 0?"":r}}function Ml(e,r){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=fi(e,r)}function Dl(e,r){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=on(e,r)}function $l(e,r,i){to(e,r,i),Il(e,r,i)}function to(e,r,i){[null,void 0,!1].includes(i)&&ql(r)?e.removeAttribute(r):(ro(r)&&(i=r),Bl(e,r,i))}function Bl(e,r,i){e.getAttribute(r)!=i&&e.setAttribute(r,i)}function Il(e,r,i){e[r]!==i&&(e[r]=i)}function Nl(e,r){const i=[].concat(r).map(n=>n+"");Array.from(e.options).forEach(n=>{n.selected=i.includes(n.value)})}function Hl(e){return e.toLowerCase().replace(/-(\w)/g,(r,i)=>i.toUpperCase())}function Vi(e,r){return e==r}function Ur(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var jl=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function ro(e){return jl.has(e)}function ql(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function zl(e,r,i){return e._x_bindings&&e._x_bindings[r]!==void 0?e._x_bindings[r]:no(e,r,i)}function Ul(e,r,i,n=!0){if(e._x_bindings&&e._x_bindings[r]!==void 0)return e._x_bindings[r];if(e._x_inlineBindings&&e._x_inlineBindings[r]!==void 0){let a=e._x_inlineBindings[r];return a.extract=n,Fs(()=>Lt(e,a.expression))}return no(e,r,i)}function no(e,r,i){let n=e.getAttribute(r);return n===null?typeof i=="function"?i():i:n===""?!0:ro(r)?!![r,"true"].includes(n):n}function hi(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function io(e){return e.type==="radio"||e.localName==="ui-radio"}function so(e,r){var i;return function(){var n=this,a=arguments,o=function(){i=null,e.apply(n,a)};clearTimeout(i),i=setTimeout(o,r)}}function oo(e,r){let i;return function(){let n=this,a=arguments;i||(e.apply(n,a),i=!0,setTimeout(()=>i=!1,r))}}function ao({get:e,set:r},{get:i,set:n}){let a=!0,o,t=Dt(()=>{let s=e(),l=i();if(a)n(Tn(s)),a=!1;else{let u=JSON.stringify(s),d=JSON.stringify(l);u!==o?n(Tn(s)):u!==d&&r(Tn(l))}o=JSON.stringify(e()),JSON.stringify(i())});return()=>{Jt(t)}}function Tn(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function Vl(e){(Array.isArray(e)?e:[e]).forEach(i=>i(Sr))}var Ct={},Ki=!1;function Kl(e,r){if(Ki||(Ct=Xt(Ct),Ki=!0),r===void 0)return Ct[e];Ct[e]=r,Ls(Ct[e]),typeof r=="object"&&r!==null&&r.hasOwnProperty("init")&&typeof r.init=="function"&&Ct[e].init()}function Wl(){return Ct}var lo={};function Gl(e,r){let i=typeof r!="function"?()=>r:r;return e instanceof Element?uo(e,i()):(lo[e]=i,()=>{})}function Xl(e){return Object.entries(lo).forEach(([r,i])=>{Object.defineProperty(e,r,{get(){return(...n)=>i(...n)}})}),e}function uo(e,r,i){let n=[];for(;n.length;)n.pop()();let a=Object.entries(r).map(([t,s])=>({name:t,value:s})),o=Ds(a);return a=a.map(t=>o.find(s=>s.name===t.name)?{name:`x-bind:${t.name}`,value:`"${t.value}"`}:t),ai(e,a,i).map(t=>{n.push(t.runCleanups),t()}),()=>{for(;n.length;)n.pop()()}}var co={};function Jl(e,r){co[e]=r}function Yl(e,r){return Object.entries(co).forEach(([i,n])=>{Object.defineProperty(e,i,{get(){return(...a)=>n.bind(r)(...a)},enumerable:!1})}),e}var Ql={get reactive(){return Xt},get release(){return Jt},get effect(){return Dt},get raw(){return _s},version:"3.14.9",flushAndStopDeferringMutations:el,dontAutoEvaluateFunctions:Fs,disableEffectScheduling:Wa,startObservingMutations:ni,stopObservingMutations:Ts,setReactivityEngine:Ga,onAttributeRemoved:Es,onAttributesAdded:Ss,closestDataStack:Vt,skipDuringClone:gt,onlyDuringClone:Ll,addRootSelector:Ws,addInitSelector:Gs,interceptClone:an,addScopeToNode:kr,deferMutations:Za,mapAttributes:li,evaluateLater:Oe,interceptInit:yl,setEvaluator:ol,mergeProxies:xr,extractProp:Ul,findClosest:Qt,onElRemoved:ei,closestRoot:sn,destroyTree:Zt,interceptor:Ps,transition:Vn,setStyles:on,mutateDom:be,directive:Se,entangle:ao,throttle:oo,debounce:so,evaluate:Lt,initTree:nt,nextTick:di,prefixed:Yt,prefix:cl,plugin:Vl,magic:Ke,store:Kl,start:gl,clone:Ol,cloneNode:Pl,bound:zl,$data:As,watch:bs,walk:Rt,data:Jl,bind:Gl},Sr=Ql;function Zl(e,r){const i=Object.create(null),n=e.split(",");for(let a=0;a<n.length;a++)i[n[a]]=!0;return a=>!!i[a]}var eu=Object.freeze({}),tu=Object.prototype.hasOwnProperty,ln=(e,r)=>tu.call(e,r),Pt=Array.isArray,br=e=>fo(e)==="[object Map]",ru=e=>typeof e=="string",pi=e=>typeof e=="symbol",un=e=>e!==null&&typeof e=="object",nu=Object.prototype.toString,fo=e=>nu.call(e),ho=e=>fo(e).slice(8,-1),mi=e=>ru(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,iu=e=>{const r=Object.create(null);return i=>r[i]||(r[i]=e(i))},su=iu(e=>e.charAt(0).toUpperCase()+e.slice(1)),po=(e,r)=>e!==r&&(e===e||r===r),Wn=new WeakMap,wr=[],Je,Ot=Symbol("iterate"),Gn=Symbol("Map key iterate");function ou(e){return e&&e._isEffect===!0}function au(e,r=eu){ou(e)&&(e=e.raw);const i=cu(e,r);return r.lazy||i(),i}function lu(e){e.active&&(mo(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var uu=0;function cu(e,r){const i=function(){if(!i.active)return e();if(!wr.includes(i)){mo(i);try{return fu(),wr.push(i),Je=i,e()}finally{wr.pop(),go(),Je=wr[wr.length-1]}}};return i.id=uu++,i.allowRecurse=!!r.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=r,i}function mo(e){const{deps:r}=e;if(r.length){for(let i=0;i<r.length;i++)r[i].delete(e);r.length=0}}var Kt=!0,gi=[];function du(){gi.push(Kt),Kt=!1}function fu(){gi.push(Kt),Kt=!0}function go(){const e=gi.pop();Kt=e===void 0?!0:e}function Ve(e,r,i){if(!Kt||Je===void 0)return;let n=Wn.get(e);n||Wn.set(e,n=new Map);let a=n.get(i);a||n.set(i,a=new Set),a.has(Je)||(a.add(Je),Je.deps.push(a),Je.options.onTrack&&Je.options.onTrack({effect:Je,target:e,type:r,key:i}))}function pt(e,r,i,n,a,o){const t=Wn.get(e);if(!t)return;const s=new Set,l=d=>{d&&d.forEach(h=>{(h!==Je||h.allowRecurse)&&s.add(h)})};if(r==="clear")t.forEach(l);else if(i==="length"&&Pt(e))t.forEach((d,h)=>{(h==="length"||h>=n)&&l(d)});else switch(i!==void 0&&l(t.get(i)),r){case"add":Pt(e)?mi(i)&&l(t.get("length")):(l(t.get(Ot)),br(e)&&l(t.get(Gn)));break;case"delete":Pt(e)||(l(t.get(Ot)),br(e)&&l(t.get(Gn)));break;case"set":br(e)&&l(t.get(Ot));break}const u=d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:e,key:i,type:r,newValue:n,oldValue:a,oldTarget:o}),d.options.scheduler?d.options.scheduler(d):d()};s.forEach(u)}var hu=Zl("__proto__,__v_isRef,__isVue"),wo=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(pi)),pu=yo(),mu=yo(!0),Wi=gu();function gu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(r=>{e[r]=function(...i){const n=_e(this);for(let o=0,t=this.length;o<t;o++)Ve(n,"get",o+"");const a=n[r](...i);return a===-1||a===!1?n[r](...i.map(_e)):a}}),["push","pop","shift","unshift","splice"].forEach(r=>{e[r]=function(...i){du();const n=_e(this)[r].apply(this,i);return go(),n}}),e}function yo(e=!1,r=!1){return function(n,a,o){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_raw"&&o===(e?r?Pu:ko:r?Lu:vo).get(n))return n;const t=Pt(n);if(!e&&t&&ln(Wi,a))return Reflect.get(Wi,a,o);const s=Reflect.get(n,a,o);return(pi(a)?wo.has(a):hu(a))||(e||Ve(n,"get",a),r)?s:Xn(s)?!t||!mi(a)?s.value:s:un(s)?e?xo(s):bi(s):s}}var wu=yu();function yu(e=!1){return function(i,n,a,o){let t=i[n];if(!e&&(a=_e(a),t=_e(t),!Pt(i)&&Xn(t)&&!Xn(a)))return t.value=a,!0;const s=Pt(i)&&mi(n)?Number(n)<i.length:ln(i,n),l=Reflect.set(i,n,a,o);return i===_e(o)&&(s?po(a,t)&&pt(i,"set",n,a,t):pt(i,"add",n,a)),l}}function _u(e,r){const i=ln(e,r),n=e[r],a=Reflect.deleteProperty(e,r);return a&&i&&pt(e,"delete",r,void 0,n),a}function bu(e,r){const i=Reflect.has(e,r);return(!pi(r)||!wo.has(r))&&Ve(e,"has",r),i}function vu(e){return Ve(e,"iterate",Pt(e)?"length":Ot),Reflect.ownKeys(e)}var ku={get:pu,set:wu,deleteProperty:_u,has:bu,ownKeys:vu},xu={get:mu,set(e,r){return console.warn(`Set operation on key "${String(r)}" failed: target is readonly.`,e),!0},deleteProperty(e,r){return console.warn(`Delete operation on key "${String(r)}" failed: target is readonly.`,e),!0}},wi=e=>un(e)?bi(e):e,yi=e=>un(e)?xo(e):e,_i=e=>e,cn=e=>Reflect.getPrototypeOf(e);function Br(e,r,i=!1,n=!1){e=e.__v_raw;const a=_e(e),o=_e(r);r!==o&&!i&&Ve(a,"get",r),!i&&Ve(a,"get",o);const{has:t}=cn(a),s=n?_i:i?yi:wi;if(t.call(a,r))return s(e.get(r));if(t.call(a,o))return s(e.get(o));e!==a&&e.get(r)}function Ir(e,r=!1){const i=this.__v_raw,n=_e(i),a=_e(e);return e!==a&&!r&&Ve(n,"has",e),!r&&Ve(n,"has",a),e===a?i.has(e):i.has(e)||i.has(a)}function Nr(e,r=!1){return e=e.__v_raw,!r&&Ve(_e(e),"iterate",Ot),Reflect.get(e,"size",e)}function Gi(e){e=_e(e);const r=_e(this);return cn(r).has.call(r,e)||(r.add(e),pt(r,"add",e,e)),this}function Xi(e,r){r=_e(r);const i=_e(this),{has:n,get:a}=cn(i);let o=n.call(i,e);o?bo(i,n,e):(e=_e(e),o=n.call(i,e));const t=a.call(i,e);return i.set(e,r),o?po(r,t)&&pt(i,"set",e,r,t):pt(i,"add",e,r),this}function Ji(e){const r=_e(this),{has:i,get:n}=cn(r);let a=i.call(r,e);a?bo(r,i,e):(e=_e(e),a=i.call(r,e));const o=n?n.call(r,e):void 0,t=r.delete(e);return a&&pt(r,"delete",e,void 0,o),t}function Yi(){const e=_e(this),r=e.size!==0,i=br(e)?new Map(e):new Set(e),n=e.clear();return r&&pt(e,"clear",void 0,void 0,i),n}function Hr(e,r){return function(n,a){const o=this,t=o.__v_raw,s=_e(t),l=r?_i:e?yi:wi;return!e&&Ve(s,"iterate",Ot),t.forEach((u,d)=>n.call(a,l(u),l(d),o))}}function jr(e,r,i){return function(...n){const a=this.__v_raw,o=_e(a),t=br(o),s=e==="entries"||e===Symbol.iterator&&t,l=e==="keys"&&t,u=a[e](...n),d=i?_i:r?yi:wi;return!r&&Ve(o,"iterate",l?Gn:Ot),{next(){const{value:h,done:g}=u.next();return g?{value:h,done:g}:{value:s?[d(h[0]),d(h[1])]:d(h),done:g}},[Symbol.iterator](){return this}}}}function ct(e){return function(...r){{const i=r[0]?`on key "${r[0]}" `:"";console.warn(`${su(e)} operation ${i}failed: target is readonly.`,_e(this))}return e==="delete"?!1:this}}function Su(){const e={get(o){return Br(this,o)},get size(){return Nr(this)},has:Ir,add:Gi,set:Xi,delete:Ji,clear:Yi,forEach:Hr(!1,!1)},r={get(o){return Br(this,o,!1,!0)},get size(){return Nr(this)},has:Ir,add:Gi,set:Xi,delete:Ji,clear:Yi,forEach:Hr(!1,!0)},i={get(o){return Br(this,o,!0)},get size(){return Nr(this,!0)},has(o){return Ir.call(this,o,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Hr(!0,!1)},n={get(o){return Br(this,o,!0,!0)},get size(){return Nr(this,!0)},has(o){return Ir.call(this,o,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Hr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=jr(o,!1,!1),i[o]=jr(o,!0,!1),r[o]=jr(o,!1,!0),n[o]=jr(o,!0,!0)}),[e,i,r,n]}var[Eu,Cu,Jf,Yf]=Su();function _o(e,r){const i=e?Cu:Eu;return(n,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(ln(i,a)&&a in n?i:n,a,o)}var Tu={get:_o(!1)},Au={get:_o(!0)};function bo(e,r,i){const n=_e(i);if(n!==i&&r.call(e,n)){const a=ho(e);console.warn(`Reactive ${a} contains both the raw and reactive versions of the same object${a==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var vo=new WeakMap,Lu=new WeakMap,ko=new WeakMap,Pu=new WeakMap;function Ou(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fu(e){return e.__v_skip||!Object.isExtensible(e)?0:Ou(ho(e))}function bi(e){return e&&e.__v_isReadonly?e:So(e,!1,ku,Tu,vo)}function xo(e){return So(e,!0,xu,Au,ko)}function So(e,r,i,n,a){if(!un(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(r&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const t=Fu(e);if(t===0)return e;const s=new Proxy(e,t===2?n:i);return a.set(e,s),s}function _e(e){return e&&_e(e.__v_raw)||e}function Xn(e){return!!(e&&e.__v_isRef===!0)}Ke("nextTick",()=>di);Ke("dispatch",e=>_r.bind(_r,e));Ke("watch",(e,{evaluateLater:r,cleanup:i})=>(n,a)=>{let o=r(n),s=bs(()=>{let l;return o(u=>l=u),l},a);i(s)});Ke("store",Wl);Ke("data",e=>As(e));Ke("root",e=>sn(e));Ke("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=xr(Ru(e))),e._x_refs_proxy));function Ru(e){let r=[];return Qt(e,i=>{i._x_refs&&r.push(i._x_refs)}),r}var An={};function Eo(e){return An[e]||(An[e]=0),++An[e]}function Mu(e,r){return Qt(e,i=>{if(i._x_ids&&i._x_ids[r])return!0})}function Du(e,r){e._x_ids||(e._x_ids={}),e._x_ids[r]||(e._x_ids[r]=Eo(r))}Ke("id",(e,{cleanup:r})=>(i,n=null)=>{let a=`${i}${n?`-${n}`:""}`;return $u(e,a,r,()=>{let o=Mu(e,i),t=o?o._x_ids[i]:Eo(i);return n?`${i}-${t}-${n}`:`${i}-${t}`})});an((e,r)=>{e._x_id&&(r._x_id=e._x_id)});function $u(e,r,i,n){if(e._x_id||(e._x_id={}),e._x_id[r])return e._x_id[r];let a=n();return e._x_id[r]=a,i(()=>{delete e._x_id[r]}),a}Ke("el",e=>e);Co("Focus","focus","focus");Co("Persist","persist","persist");function Co(e,r,i){Ke(r,n=>qe(`You can't use [$${r}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,n))}Se("modelable",(e,{expression:r},{effect:i,evaluateLater:n,cleanup:a})=>{let o=n(r),t=()=>{let d;return o(h=>d=h),d},s=n(`${r} = __placeholder`),l=d=>s(()=>{},{scope:{__placeholder:d}}),u=t();l(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let d=e._x_model.get,h=e._x_model.set,g=ao({get(){return d()},set(R){h(R)}},{get(){return t()},set(R){l(R)}});a(g)})});Se("teleport",(e,{modifiers:r,expression:i},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&qe("x-teleport can only be used on a <template> tag",e);let a=Qi(i),o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(s=>{o.addEventListener(s,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),kr(o,{},e);let t=(s,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(s,l):u.includes("append")?l.parentNode.insertBefore(s,l.nextSibling):l.appendChild(s)};be(()=>{t(o,a,r),gt(()=>{nt(o)})()}),e._x_teleportPutBack=()=>{let s=Qi(i);be(()=>{t(e._x_teleport,s,r)})},n(()=>be(()=>{o.remove(),Zt(o)}))});var Bu=document.createElement("div");function Qi(e){let r=gt(()=>document.querySelector(e),()=>Bu)();return r||qe(`Cannot find x-teleport element for selector: "${e}"`),r}var To=()=>{};To.inline=(e,{modifiers:r},{cleanup:i})=>{r.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,i(()=>{r.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};Se("ignore",To);Se("effect",gt((e,{expression:r},{effect:i})=>{i(Oe(e,r))}));function Jn(e,r,i,n){let a=e,o=l=>n(l),t={},s=(l,u)=>d=>u(l,d);if(i.includes("dot")&&(r=Iu(r)),i.includes("camel")&&(r=Nu(r)),i.includes("passive")&&(t.passive=!0),i.includes("capture")&&(t.capture=!0),i.includes("window")&&(a=window),i.includes("document")&&(a=document),i.includes("debounce")){let l=i[i.indexOf("debounce")+1]||"invalid-wait",u=Gr(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=so(o,u)}if(i.includes("throttle")){let l=i[i.indexOf("throttle")+1]||"invalid-wait",u=Gr(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=oo(o,u)}return i.includes("prevent")&&(o=s(o,(l,u)=>{u.preventDefault(),l(u)})),i.includes("stop")&&(o=s(o,(l,u)=>{u.stopPropagation(),l(u)})),i.includes("once")&&(o=s(o,(l,u)=>{l(u),a.removeEventListener(r,o,t)})),(i.includes("away")||i.includes("outside"))&&(a=document,o=s(o,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),i.includes("self")&&(o=s(o,(l,u)=>{u.target===e&&l(u)})),(ju(r)||Ao(r))&&(o=s(o,(l,u)=>{qu(u,i)||l(u)})),a.addEventListener(r,o,t),()=>{a.removeEventListener(r,o,t)}}function Iu(e){return e.replace(/-/g,".")}function Nu(e){return e.toLowerCase().replace(/-(\w)/g,(r,i)=>i.toUpperCase())}function Gr(e){return!Array.isArray(e)&&!isNaN(e)}function Hu(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function ju(e){return["keydown","keyup"].includes(e)}function Ao(e){return["contextmenu","click","mouse"].some(r=>e.includes(r))}function qu(e,r){let i=r.filter(o=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(o));if(i.includes("debounce")){let o=i.indexOf("debounce");i.splice(o,Gr((i[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let o=i.indexOf("throttle");i.splice(o,Gr((i[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&Zi(e.key).includes(i[0]))return!1;const a=["ctrl","shift","alt","meta","cmd","super"].filter(o=>i.includes(o));return i=i.filter(o=>!a.includes(o)),!(a.length>0&&a.filter(t=>((t==="cmd"||t==="super")&&(t="meta"),e[`${t}Key`])).length===a.length&&(Ao(e.type)||Zi(e.key).includes(i[0])))}function Zi(e){if(!e)return[];e=Hu(e);let r={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return r[e]=e,Object.keys(r).map(i=>{if(r[i]===e)return i}).filter(i=>i)}Se("model",(e,{modifiers:r,expression:i},{effect:n,cleanup:a})=>{let o=e;r.includes("parent")&&(o=e.parentNode);let t=Oe(o,i),s;typeof i=="string"?s=Oe(o,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?s=Oe(o,`${i()} = __placeholder`):s=()=>{};let l=()=>{let g;return t(R=>g=R),es(g)?g.get():g},u=g=>{let R;t($=>R=$),es(R)?R.set(g):s(()=>{},{scope:{__placeholder:g}})};typeof i=="string"&&e.type==="radio"&&be(()=>{e.hasAttribute("name")||e.setAttribute("name",i)});var d=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||r.includes("lazy")?"change":"input";let h=ht?()=>{}:Jn(e,d,r,g=>{u(Ln(e,r,g,l()))});if(r.includes("fill")&&([void 0,null,""].includes(l())||hi(e)&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&u(Ln(e,r,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=h,a(()=>e._x_removeModelListeners.default()),e.form){let g=Jn(e.form,"reset",[],R=>{di(()=>e._x_model&&e._x_model.set(Ln(e,r,{target:e},l())))});a(()=>g())}e._x_model={get(){return l()},set(g){u(g)}},e._x_forceModelUpdate=g=>{g===void 0&&typeof i=="string"&&i.match(/\./)&&(g=""),window.fromModel=!0,be(()=>eo(e,"value",g)),delete window.fromModel},n(()=>{let g=l();r.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(g)})});function Ln(e,r,i,n){return be(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;if(hi(e))if(Array.isArray(n)){let a=null;return r.includes("number")?a=Pn(i.target.value):r.includes("boolean")?a=Ur(i.target.value):a=i.target.value,i.target.checked?n.includes(a)?n:n.concat([a]):n.filter(o=>!zu(o,a))}else return i.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return r.includes("number")?Array.from(i.target.selectedOptions).map(a=>{let o=a.value||a.text;return Pn(o)}):r.includes("boolean")?Array.from(i.target.selectedOptions).map(a=>{let o=a.value||a.text;return Ur(o)}):Array.from(i.target.selectedOptions).map(a=>a.value||a.text);{let a;return io(e)?i.target.checked?a=i.target.value:a=n:a=i.target.value,r.includes("number")?Pn(a):r.includes("boolean")?Ur(a):r.includes("trim")?a.trim():a}}})}function Pn(e){let r=e?parseFloat(e):null;return Uu(r)?r:e}function zu(e,r){return e==r}function Uu(e){return!Array.isArray(e)&&!isNaN(e)}function es(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}Se("cloak",e=>queueMicrotask(()=>be(()=>e.removeAttribute(Yt("cloak")))));Gs(()=>`[${Yt("init")}]`);Se("init",gt((e,{expression:r},{evaluate:i})=>typeof r=="string"?!!r.trim()&&i(r,{},!1):i(r,{},!1)));Se("text",(e,{expression:r},{effect:i,evaluateLater:n})=>{let a=n(r);i(()=>{a(o=>{be(()=>{e.textContent=o})})})});Se("html",(e,{expression:r},{effect:i,evaluateLater:n})=>{let a=n(r);i(()=>{a(o=>{be(()=>{e.innerHTML=o,e._x_ignoreSelf=!0,nt(e),delete e._x_ignoreSelf})})})});li(Is(":",Ns(Yt("bind:"))));var Lo=(e,{value:r,modifiers:i,expression:n,original:a},{effect:o,cleanup:t})=>{if(!r){let l={};Xl(l),Oe(e,n)(d=>{uo(e,d,a)},{scope:l});return}if(r==="key")return Vu(e,n);if(e._x_inlineBindings&&e._x_inlineBindings[r]&&e._x_inlineBindings[r].extract)return;let s=Oe(e,n);o(()=>s(l=>{l===void 0&&typeof n=="string"&&n.match(/\./)&&(l=""),be(()=>eo(e,r,l,i))})),t(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};Lo.inline=(e,{value:r,modifiers:i,expression:n})=>{r&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[r]={expression:n,extract:!1})};Se("bind",Lo);function Vu(e,r){e._x_keyExpression=r}Ws(()=>`[${Yt("data")}]`);Se("data",(e,{expression:r},{cleanup:i})=>{if(Ku(e))return;r=r===""?"{}":r;let n={};Nn(n,e);let a={};Yl(a,n);let o=Lt(e,r,{scope:a});(o===void 0||o===!0)&&(o={}),Nn(o,e);let t=Xt(o);Ls(t);let s=kr(e,t);t.init&&Lt(e,t.init),i(()=>{t.destroy&&Lt(e,t.destroy),s()})});an((e,r)=>{e._x_dataStack&&(r._x_dataStack=e._x_dataStack,r.setAttribute("data-has-alpine-state",!0))});function Ku(e){return ht?Kn?!0:e.hasAttribute("data-has-alpine-state"):!1}Se("show",(e,{modifiers:r,expression:i},{effect:n})=>{let a=Oe(e,i);e._x_doHide||(e._x_doHide=()=>{be(()=>{e.style.setProperty("display","none",r.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{be(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let o=()=>{e._x_doHide(),e._x_isShown=!1},t=()=>{e._x_doShow(),e._x_isShown=!0},s=()=>setTimeout(t),l=Un(h=>h?t():o(),h=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,h,t,o):h?s():o()}),u,d=!0;n(()=>a(h=>{!d&&h===u||(r.includes("immediate")&&(h?s():o()),l(h),u=h,d=!1)}))});Se("for",(e,{expression:r},{effect:i,cleanup:n})=>{let a=Gu(r),o=Oe(e,a.items),t=Oe(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},i(()=>Wu(e,a,o,t)),n(()=>{Object.values(e._x_lookup).forEach(s=>be(()=>{Zt(s),s.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function Wu(e,r,i,n){let a=t=>typeof t=="object"&&!Array.isArray(t),o=e;i(t=>{Xu(t)&&t>=0&&(t=Array.from(Array(t).keys(),O=>O+1)),t===void 0&&(t=[]);let s=e._x_lookup,l=e._x_prevKeys,u=[],d=[];if(a(t))t=Object.entries(t).map(([O,z])=>{let ee=ts(r,z,O,t);n(Y=>{d.includes(Y)&&qe("Duplicate key on x-for",e),d.push(Y)},{scope:{index:O,...ee}}),u.push(ee)});else for(let O=0;O<t.length;O++){let z=ts(r,t[O],O,t);n(ee=>{d.includes(ee)&&qe("Duplicate key on x-for",e),d.push(ee)},{scope:{index:O,...z}}),u.push(z)}let h=[],g=[],R=[],$=[];for(let O=0;O<l.length;O++){let z=l[O];d.indexOf(z)===-1&&R.push(z)}l=l.filter(O=>!R.includes(O));let X="template";for(let O=0;O<d.length;O++){let z=d[O],ee=l.indexOf(z);if(ee===-1)l.splice(O,0,z),h.push([X,O]);else if(ee!==O){let Y=l.splice(O,1)[0],I=l.splice(ee-1,1)[0];l.splice(O,0,I),l.splice(ee,0,Y),g.push([Y,I])}else $.push(z);X=z}for(let O=0;O<R.length;O++){let z=R[O];z in s&&(be(()=>{Zt(s[z]),s[z].remove()}),delete s[z])}for(let O=0;O<g.length;O++){let[z,ee]=g[O],Y=s[z],I=s[ee],J=document.createElement("div");be(()=>{I||qe('x-for ":key" is undefined or invalid',o,ee,s),I.after(J),Y.after(I),I._x_currentIfEl&&I.after(I._x_currentIfEl),J.before(Y),Y._x_currentIfEl&&Y.after(Y._x_currentIfEl),J.remove()}),I._x_refreshXForScope(u[d.indexOf(ee)])}for(let O=0;O<h.length;O++){let[z,ee]=h[O],Y=z==="template"?o:s[z];Y._x_currentIfEl&&(Y=Y._x_currentIfEl);let I=u[ee],J=d[ee],re=document.importNode(o.content,!0).firstElementChild,H=Xt(I);kr(re,H,o),re._x_refreshXForScope=k=>{Object.entries(k).forEach(([b,S])=>{H[b]=S})},be(()=>{Y.after(re),gt(()=>nt(re))()}),typeof J=="object"&&qe("x-for key cannot be an object, it must be a string or an integer",o),s[J]=re}for(let O=0;O<$.length;O++)s[$[O]]._x_refreshXForScope(u[d.indexOf($[O])]);o._x_prevKeys=d})}function Gu(e){let r=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,a=e.match(n);if(!a)return;let o={};o.items=a[2].trim();let t=a[1].replace(i,"").trim(),s=t.match(r);return s?(o.item=t.replace(r,"").trim(),o.index=s[1].trim(),s[2]&&(o.collection=s[2].trim())):o.item=t,o}function ts(e,r,i,n){let a={};return/^\[.*\]$/.test(e.item)&&Array.isArray(r)?e.item.replace("[","").replace("]","").split(",").map(t=>t.trim()).forEach((t,s)=>{a[t]=r[s]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(r)&&typeof r=="object"?e.item.replace("{","").replace("}","").split(",").map(t=>t.trim()).forEach(t=>{a[t]=r[t]}):a[e.item]=r,e.index&&(a[e.index]=i),e.collection&&(a[e.collection]=n),a}function Xu(e){return!Array.isArray(e)&&!isNaN(e)}function Po(){}Po.inline=(e,{expression:r},{cleanup:i})=>{let n=sn(e);n._x_refs||(n._x_refs={}),n._x_refs[r]=e,i(()=>delete n._x_refs[r])};Se("ref",Po);Se("if",(e,{expression:r},{effect:i,cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&qe("x-if can only be used on a <template> tag",e);let a=Oe(e,r),o=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let s=e.content.cloneNode(!0).firstElementChild;return kr(s,{},e),be(()=>{e.after(s),gt(()=>nt(s))()}),e._x_currentIfEl=s,e._x_undoIf=()=>{be(()=>{Zt(s),s.remove()}),delete e._x_currentIfEl},s},t=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};i(()=>a(s=>{s?o():t()})),n(()=>e._x_undoIf&&e._x_undoIf())});Se("id",(e,{expression:r},{evaluate:i})=>{i(r).forEach(a=>Du(e,a))});an((e,r)=>{e._x_ids&&(r._x_ids=e._x_ids)});li(Is("@",Ns(Yt("on:"))));Se("on",gt((e,{value:r,modifiers:i,expression:n},{cleanup:a})=>{let o=n?Oe(e,n):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(r)||e._x_forwardEvents.push(r));let t=Jn(e,r,i,s=>{o(()=>{},{scope:{$event:s},params:[s]})});a(()=>t())}));dn("Collapse","collapse","collapse");dn("Intersect","intersect","intersect");dn("Focus","trap","focus");dn("Mask","mask","mask");function dn(e,r,i){Se(r,n=>qe(`You can't use [x-${r}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,n))}Sr.setEvaluator(Ms);Sr.setReactivityEngine({reactive:bi,effect:au,release:lu,raw:_e});var Ju=Sr,mt=Ju;function Yu(e){let r=()=>{let i,n;try{n=localStorage}catch(a){console.error(a),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let o=new Map;n={getItem:o.get.bind(o),setItem:o.set.bind(o)}}return e.interceptor((a,o,t,s,l)=>{let u=i||`_x_${s}`,d=rs(u,n)?ns(u,n):a;return t(d),e.effect(()=>{let h=o();is(u,h,n),t(h)}),d},a=>{a.as=o=>(i=o,a),a.using=o=>(n=o,a)})};Object.defineProperty(e,"$persist",{get:()=>r()}),e.magic("persist",r),e.persist=(i,{get:n,set:a},o=localStorage)=>{let t=rs(i,o)?ns(i,o):n();a(t),e.effect(()=>{let s=n();is(i,s,o),a(s)})}}function rs(e,r){return r.getItem(e)!==null}function ns(e,r){let i=r.getItem(e,r);if(i!==void 0)return JSON.parse(i)}function is(e,r,i){i.setItem(e,JSON.stringify(r))}var Qu=Yu,ss={},os;function Zu(){return os||(os=1,function(){(()=>{var e=[,()=>{window.up={version:"3.10.2"}},()=>{up.mockable=function(n){if(window.jasmine){let a=n.name,o={[a]:n},t=function(){return o[a].apply(this,arguments)};return t.mock=()=>spyOn(o,a),t}else return n}},()=>{up.util=function(){function n(){}function a(){return Promise.resolve()}function o(c){let p,x;return function(...B){return x?p:(x=!0,p=c.apply(this,B))}}function t(c,p){p=it(p,{host:"cross-domain"});const x=R(c);let B="";p.host==="cross-domain"&&(p.host=g(x)),p.host&&(B+=x.protocol+"//"+x.host);let{pathname:te}=x;return p.trailingSlash===!1&&te!=="/"&&(te=te.replace(/\/$/,"")),B+=te,p.search!==!1&&(B+=x.search),p.hash!==!1&&(B+=x.hash),B}function s(c,p,x){return l(c,x)===l(p,x)}function l(c,p){if(c)return t(c,{hash:!1,trailingSlash:!1,...p})}function u(c){return c.endsWith("/")?[c,c.slice(0,-1)]:c.includes("/?")?[c,c.replace("/?","?")]:c.endsWith("/*")?[c,c.slice(0,-2),c.slice(0,-2)+"?*"]:c}const d=location.protocol,h=location.hostname;function g(c){if(ne(c)&&c.indexOf("//")===-1)return!1;const p=R(c);return h!==p.hostname||d!==p.protocol}function R(c){if(c.pathname)return c;let p=document.createElement("a");return p.href=c,p}function $(c){return c?c.toUpperCase():"GET"}function X(c){return c!=="GET"&&c!=="HEAD"}function O(c){return ne(c)?p=>p[c]:c}function z(c,p){if(c.length===0)return[];p=O(p);let x=[],B=0;for(let te of c)x.push(p(te,B++));return x}function ee(c,p){const x=function(B,te){return B[te[0]]=te[1],B};return z(c,p).reduce(x,{})}function Y(c,p){let x=0;for(let B of c)p(B,x++)}function I(c){return c===null}function J(c){return c===void 0}const re=Dr(J);function H(c){return J(c)||I(c)}const k=Dr(H);function b(c){return H(c)?!0:A(c)&&c[b.key]?c[b.key]():ne(c)||P(c)?c.length===0:Q(c)?Object.keys(c).length===0:!1}b.key="up.util.isBlank";function S(c,p=v){if(p(c))return c}const v=Dr(b);function U(c){return typeof c=="function"}function ne(c){return typeof c=="string"||c instanceof String}function M(c){return typeof c=="boolean"||c instanceof Boolean}function q(c){return typeof c=="number"||c instanceof Number}function Q(c){return typeof c=="object"&&!I(c)&&(J(c.constructor)||c.constructor===Object)}function A(c){const p=typeof c;return p==="object"&&!I(c)||p==="function"}function j(c){return c instanceof Element}function E(c){return c instanceof Text}function L(c){return c instanceof RegExp}function K(c){return c instanceof Error}function F(c){return up.browser.canJQuery()&&c instanceof jQuery}function _(c){var p;return!!(c&&(c.addEventListener||F(c)&&((p=c[0])!=null&&p.addEventListener)))}function T(c){return A(c)&&U(c.then)}const{isArray:G}=Array;function se(c){return c instanceof FormData}function le(c){return G(c)?c:We(c)}function P(c){return G(c)||V(c)||ue(c)||F(c)||oe(c)}function V(c){return c instanceof NodeList}function oe(c){return c instanceof HTMLCollection}function ue(c){return Object.prototype.toString.call(c)==="[object Arguments]"}function pe(c){return/^(before|after)/.test(c)}function He(c){return P(c)?c:H(c)?[]:[c]}function Ce(c){return A(c)&&c[Ce.key]?c=c[Ce.key]():P(c)?c=We(c):Q(c)&&(c=Object.assign({},c)),c}function We(c){return Array.prototype.slice.call(c)}Ce.key="up.util.copy",Date.prototype[Ce.key]=function(){return new Date(+this)};function Ue(...c){return Object.assign({},...c)}function Ze(...c){const p={};for(let x of c)if(x)for(let B in x){const te=x[B];re(te)&&(p[B]=te)}return p}function it(c,p){return p?Ue(p,c):c?Ce(c):{}}function wt(c,p){let[x,B]=Ii(c,"val","options");return re(x)&&(B[p]=x),B}function je(c,p){p=O(p);let x;for(let B of c)if(p(B)){x=B;break}return x}function yt(c,p){return!!_t(c,p)}function _t(c,p){p=O(p);let x=0;for(let B of c){const te=p(B,x++);if(te)return te}}function st(c,p){p=O(p);let x=!0,B=0;for(let te of c)if(!p(te,B++)){x=!1;break}return x}function ot(c){return Ge(c,k)}function ir(c){return m(c,k)}function sr(c){return c.length<2?c:Array.from(new Set(c))}function or(c,p){if(c.length<2)return c;p=O(p);const x=new Set;return Ge(c,function(B,te){const we=p(B,te);return x.has(we)?!1:(x.add(we),!0)})}function Ge(c,p){p=O(p);const x=[];return Y(c,function(B,te){if(p(B,te))return x.push(B)}),x}function ar(c,p){return p=Dr(O(p)),Ge(c,p)}function lr(c,p){return Ge(c,x=>Xe(p,x))}function ur(c,p){return setTimeout(p,c)}function cr(c){return setTimeout(c)}function et(c){return c[c.length-1]}function Xe(c,p){return(c.indexOf||Array.prototype.indexOf).call(c,p)>=0}function It(c,p){return st(p,x=>Xe(c,x))}function dr(c,p){const x=bt(c,Object.keys(p));return ae(p,x)}function bt(c,p){const x={};for(let B of p)B in c&&(x[B]=c[B]);return x}function m(c,p){p=O(p);const x={};for(let B in c){const te=c[B];p(te,B,c)&&(x[B]=c[B])}return x}function w(c,p){return m(c,(x,B)=>!Xe(p,B))}function D(){return new Promise(n)}function W(c,p){const x=c.indexOf(p);if(x>=0)return c.splice(x,1),p}function Z(c,...p){return U(c)?c(...p):c}function ce(c,p,...x){return c=Z(c,...x),c==="auto"&&(c=Z(p,...x)),c}const fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};function me(c){return c.replace(/[&<>"']/g,p=>fe[p])}function Ee(c){return c.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}function Me(c,p){const x=c[p];return delete c[p],x}function vt(c,p,x){p in c&&(c[x]=Me(c,p))}function at(c,p){if(p(et(c)))return c.pop()}function Or(c){return at(c,U)}function Fr(c){return at(c,Q)||{}}function kt(c){return c}function wn(c){return c=ot(c),(...p)=>z(c,x=>x(...p))}function Rr(c){const p=[];for(let x of c)P(x)?p.push(...x):p.push(x);return p}function yn(c,p){return Rr(z(c,p))}function f(c,p=kt){return c.then(p,p)}function y(){let c,p;const x=new Promise(function(B,te){c=B,p=te});return x.resolve=c,x.reject=p,x}function N(c){return Object.prototype.hasOwnProperty(c)}function ae(c,p){if(c!=null&&c.valueOf&&(c=c.valueOf()),p!=null&&p.valueOf&&(p=p.valueOf()),typeof c!=typeof p)return!1;if(P(c)&&P(p))return ge(c,p);if(A(c)&&c[ae.key])return c[ae.key](p);if(Q(c)&&Q(p)){const x=Object.keys(c),B=Object.keys(p);return ge(x,B)?st(x,te=>ae(c[te],p[te])):!1}else return c===p}ae.key="up.util.isEqual";function ge(c,p){return c.length===p.length&&st(c,(x,B)=>ae(x,p[B]))}function xe(c,{json:p=!1,separator:x=/[,\s]/}={}){return ne(c)?p&&/^\[.*]$/.test(c)?xn(c):Te(c,x):He(c)}function Te(c,p){var B,te;return(((te=(B=up.migrate).splitAtOr)==null?void 0:te.call(B,c))||c.split(p)).map(we=>we.trim()).filter(kt)}function Pe(c){if(ne(c)){let{maskedTokens:p,restore:x}=De(c);return p.map(B=>x(B))}else return He(c)}function De(c){let{masked:p,restore:x}=Hi(c);return{maskedTokens:Te(p,","),restore:x}}function xt(c,...p){return p[0]instanceof c?p[0]:new c(...p)}let tt=0;function Nt(){return tt++}function _n(c){return Ce(c).reverse()}function $i(c,p){const x={};for(let B in c){let te=p(B);k(te)&&(x[te]=c[B])}return x}function fr(c){return c.replace(/[A-Z]/g,p=>"-"+p.toLowerCase())}function Mr(c){return c[0].toLowerCase()+c.slice(1)}function Ca(c){return c[0].toUpperCase()+c.slice(1)}function Bi(c,p,x){for(let B of p)Object.defineProperty(c,B,{get(){const te=x.call(this);let we=te[B];return U(we)&&(we=we.bind(te)),we},set(te){const we=x.call(this);we[B]=te}})}function Ta(c,p){return Bi(c,["then","catch","finally"],p)}function bn(c,p="%o"){let x;if(p==="%c")return"";if(p==="%s"&&k(c)&&(c=c.toString()),ne(c))x=c.trim().replace(/[\n\r\t ]+/g," "),p==="%o"&&(x=JSON.stringify(x));else if(J(c))x="undefined";else if(q(c)||U(c))x=c.toString();else if(G(c))x=`[${z(c,bn).join(", ")}]`;else if(F(c))x=`$(${z(c,bn).join(", ")})`;else if(j(c)){x=`<${c.tagName.toLowerCase()}`;for(let te of["id","up-id","name","class"]){let we=c.getAttribute(te);we&&(x+=` ${te}="${we}"`)}x+=">"}else if(L(c)||K(c))x=c.toString();else try{x=JSON.stringify(c)}catch(te){if(te.name==="TypeError")x="(circular structure)";else throw te}return x.length>200&&(x=`${x.substr(0,200)}…${et(x)}`),x}const Aa=/%[oOdisfc]/g;function La(c,...p){return c.replace(Aa,x=>bn(p.shift(),x))}function Dr(c){return function(...p){return!c(...p)}}function Pa(c){if(c.error)throw c.error;return c.value}function Oa(c,p,x){try{return{value:c.apply(p,x)}}catch(B){return{error:B}}}function Fa(c,p){for(let x in p){let te=Object.getOwnPropertyDescriptor(c,x).value,we=function(...lt){var ut;let Ht=this[ut=`__${x}MemoizeCache`]||(this[ut]={}),hr=JSON.stringify(lt);return Ht[hr]||(Ht[hr]=Oa(te,this,lt)),Pa(Ht[hr])};c[x]=we}}function Ra(c){let p=JSON.stringify(c);return Ma(p)}function Ma(c){let p=x=>"\\u"+x.charCodeAt(0).toString(16).padStart(4,"0");return c.replace(/[^\x00-\x7F]/g,p)}function Da(c,p={}){let x=Object.create(c);return Object.assign(x,p),x}function Ii(c,...p){let x=[];for(;p.length;){let B=p.pop();if(B==="options")x.unshift(Fr(c));else if(B==="callback")x.unshift(Or(c));else if(B==="val")x.unshift(c.pop());else if(U(B)){let te=B(et(c))?c.pop():void 0;x.unshift(te)}}return x}function vn(...c){return c.flat().filter(U)}function $a(){let c=[],p=function(B,te){B=vn(...B).map(te),c.push(...vn(...B))},x=function(...B){p(B,kt)};return x.guard=function(...B){p(B,up.error.guardFn)},x.clean=function(...B){let{length:te}=c;for(let we=te-1;we>=0;we--)c[we](...B);c=[]},x}function kn(c,p,{keepDelimiters:x=!1}={}){let B=0,te=/§(\d+)/g,we=[],lt=0,Ht=ut=>{let $r=!1;c=c.replaceAll(ut,function(St){$r=!0;let Sn="§"+B++,pr,En;if(x){let Ha=St[0],ja=St.slice(-1);En=St.slice(1,-1),pr=Ha+Sn+ja}else En=St,pr=Sn;return we.push(En),pr}),$r&&lt++};return[te,...p].forEach(Ht),{masked:c,restore:(ut,$r=kt)=>{for(let St=0;St<lt;St++)ut=ut.replace(te,(Sn,pr)=>$r(we[pr]));return ut}}}const Ni=/'(?:\\\\|\\'|[^'])*'|"(?:\\\\|\\"|[^"])*"/g,Ba=/{(?:[^{}]|{[^{}]*})*}|\((?:[^\(\)]|\([^\(\)]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\]/g;function Hi(c){return kn(c,[Ni,Ba],{keepDelimiters:!0})}function ji(c){return c[0]==='"'?c:(c=c.slice(1,-1),'"'+c.replace(/(\\\\)|(\\')|(\\")|(")/g,function(x,B,te,we){return B||te&&"'"||'\\"'})+'"')}function Ia(c){return JSON.parse(ji(c))}function xn(c){let{masked:p,restore:x}=kn(c,[Ni]);return p=p.replace(/([a-z_$][\w$]*:)/gi,B=>'"'+B.slice(0,-1)+'":'),p=p.replace(/,\s*([}\]])/g,"$1"),p=x(p,ji),JSON.parse(p)}function Na(c){let{maskedTokens:p,restore:x}=De(c);return p.map(B=>{let[te,we,lt]=B.match(/([^{]+)({[^}]*})?/);return[x(we.trim()),lt&&xn(x(lt))]})}return{parseURL:R,normalizeURL:t,matchableURL:l,matchableURLPatternAtom:u,matchURLs:s,normalizeMethod:$,methodAllowsPayload:X,copy:Ce,merge:Ue,mergeDefined:Ze,options:it,parseArgIntoOptions:wt,each:Y,map:z,flatMap:yn,mapObject:ee,findResult:_t,some:yt,every:st,find:je,filter:Ge,reject:ar,intersect:lr,compact:ot,compactObject:ir,uniq:sr,uniqBy:or,last:et,isNull:I,isDefined:re,isUndefined:J,isGiven:k,isMissing:H,isPresent:v,isBlank:b,presence:S,isObject:A,isFunction:U,isString:ne,isBoolean:M,isNumber:q,isElement:j,isTextNode:E,isJQuery:F,isElementLike:_,isPromise:T,isOptions:Q,isArray:G,isFormData:se,isList:P,isRegExp:L,isAdjacentPosition:pe,timer:ur,contains:Xe,containsAll:It,objectContains:dr,toArray:le,pick:bt,pickBy:m,omit:w,unresolvablePromise:D,remove:W,memoize:o,pluckKey:Me,renameKey:vt,extractOptions:Fr,extractCallback:Or,noop:n,asyncNoop:a,identity:kt,escapeHTML:me,escapeRegExp:Ee,sequence:wn,evalOption:Z,evalAutoOption:ce,flatten:Rr,newDeferred:y,always:f,isBasicObjectProperty:N,isCrossOrigin:g,task:cr,isEqual:ae,getSimpleTokens:xe,getComplexTokens:Pe,wrapList:He,wrapValue:xt,uid:Nt,upperCaseFirst:Ca,lowerCaseFirst:Mr,delegate:Bi,delegatePromise:Ta,reverse:_n,camelToKebabCase:fr,sprintf:La,withRenamedKeys:$i,memoizeMethod:Fa,safeStringifyJSON:Ra,variant:Da,cleaner:$a,scanFunctions:vn,args:Ii,parseRelaxedJSON:xn,parseScalarJSONPairs:Na,maskPattern:kn,expressionOutline:Hi,parseString:Ia}}()},()=>{up.error=function(){function n(...d){throw new up.Error(d)}function a(d){return typeof d!="object"||d.name!=="AbortError"&&!(d instanceof up.RenderResult)&&!(d instanceof up.Response)}function o(d){return d.catch(s)}function t(d){try{return d()}catch(h){s(h)}}function s(d){if(a(d))throw d}function l(d,...h){try{return d(...h)}catch(g){reportError(g)}}function u(d){return(...h)=>l(()=>d(...h))}return{fail:n,throwCritical:s,muteUncriticalRejection:o,muteUncriticalSync:t,guard:l,guardFn:u}}(),up.fail=up.error.fail},()=>{up.migrate={config:{}}},()=>{up.browser=function(){function n(l){l.submit()}function a(){return up.protocol.initialRequestMethod()==="GET"}function o(){return!!window.jQuery}function t(l){var d;let u=(d=document.cookie.match(new RegExp(l+"=(\\w+)")))==null?void 0:d[1];if(u)return document.cookie=l+"=;Max-Age=0;Path=/",u}function s(l){if(!(!l.confirm||window.confirm(l.confirm)))throw new up.Aborted("User canceled action");return!0}return{submitForm:n,canPushState:a,canJQuery:o,assertConfirmed:s,popCookie:t}}()},(n,a,o)=>{o(8),up.element=function(){const t=up.util;function s(...f){let[y=document,N]=t.args(f,"val","val");return y.querySelector(N)}function l(f,y){const N=[];return d(f,y)&&N.push(f),N.push(...f.querySelectorAll(y)),N}function u(f,y){return d(f,y)?f:f.querySelector(y)}function d(f,y){return t.isElement(f)&&f.matches(y)}function h(f,y){const N=$(y);return Node.prototype.contains.call(f,N)}function g(f,y){var N;return(N=f.parentNode)==null?void 0:N.closest(y)}function R(f,y){return X(f.closest(y),l(f,y))}function $(...f){const y=f.pop();return t.isElement(y)?y:t.isString(y)?s(...f,y):t.isList(y)?(y.length>1&&up.fail("up.element.get(): Cannot cast multiple elements (%o) to a single element",y),y[0]):y}function X(...f){return t.flatMap(f,O)}function O(f){return t.isString(f)?document.querySelectorAll(f):t.wrapList(f)}function z(f){re(f,!1)}function ee(f){re(f,!0)}function Y(f){return J(f,!0)}function I(f){return J(f,!1)}function J(f,y){return y===fe(f)?t.noop:(re(f,y),()=>re(f,!y))}function re(f,y){y?(f.removeAttribute("hidden"),f.style.display==="none"&&(f.style.display="")):f.setAttribute("hidden","")}function H(f,y=!fe(f)){re(f,y)}function k(f,y,N,ae){return ae?f.setAttribute(y,N):f.removeAttribute(y)}function b(f,y){for(let N in y){const ae=y[N];t.isGiven(ae)?f.setAttribute(N,ae):f.removeAttribute(N)}}function S(f,y){let N=Object.keys(y),ae=Ee(f,N);return b(f,y),()=>b(f,ae)}function v(f){var N;const y="meta"+L("name",f);return(N=s(y))==null?void 0:N.getAttribute("content")}function U(f,y){f.parentNode.insertBefore(y,f)}function ne(f,y={}){let{includePath:N}=q(f),ae,ge,xe;for(let Te of N){let{tagName:Pe}=Te;(!Pe||Pe==="*")&&(Pe="div"),ge=document.createElement(Pe),ae||(ae=ge),M(ge,Te),xe==null||xe.appendChild(ge),xe=ge}for(let Te in y){let Pe=y[Te];Te==="class"?Xe(ae,t.wrapList(Pe)):Te==="style"?Z(ae,Pe):Te==="text"?ae.textContent=Pe:Te==="content"?t.isString(Pe)?ae.innerHTML=Pe:ae.append(...t.wrapList(Pe)):ae.setAttribute(Te,Pe)}return ae}function M(f,{id:y,classNames:N,attributes:ae}){y&&(f.id=y);for(let[ge,xe]of Object.entries(ae))f.setAttribute(ge,xe);Xe(f,N)}function q(f){let y;const{masked:N,restore:ae}=t.expressionOutline(f),ge=N.replace(/:not\([^)]*\)/,function(De){return y=ae(De),""});let xe=ae(ge);return{includePath:ge.split(/[ >]+/).map(function(De){let xt={tagName:null,classNames:[],id:null,attributes:{}};return De=De.replace(/^[\w-*]+/,function(tt){return xt.tagName=tt,""}),De=De.replace(/#([\w-]+)/,function(tt,Nt){return xt.id=Nt,""}),De=De.replace(/\.([\w-]+)/g,function(tt,Nt){return xt.classNames.push(Nt),""}),De=De.replace(/\[[^\]]*]/g,function(tt){tt=ae(tt);let[Nt,_n,$i,fr,Mr]=tt.match(/\[([\w-]+)(?:([~|^$*]?=)(["'])?([^\3\]]*?)\3)?]/);return fr||(fr='"'),xt.attributes[_n]=Mr?t.parseString(fr+Mr+fr):"",""}),De&&up.fail("Cannot parse selector: "+f),xt}),includeRaw:xe,excludeRaw:y}}function Q(...f){let[y,N="beforeend",ae,ge]=t.args(f,"val",t.isAdjacentPosition,"val","options");const xe=ne(ae,ge);return y.insertAdjacentElement(N,xe),xe}const A=["HTML","BODY","HEAD","TITLE"],j=up.mockable(f=>f.matches(A.join()));function E(f){return f.tagName.toLowerCase()}function L(f,y){return t.isGiven(y)?(y=y.replace(/"/g,'\\"'),`[${f}="${y}"]`):`[${f}]`}function K(f){return f.match(/^[a-z][a-z0-9\-_]*$/i)?`#${f}`:L("id",f)}function F(f){return f=f.replace(/[^\w-]/g,"\\$&"),`.${f}`}function _(f){return new DOMParser().parseFromString(f,"text/html")}function T(f){let y=G(f.outerHTML);f.replaceWith(y)}function G(f){return se(le(f))}function se(f){if(f.length===1&&t.isElementLike(f[0]))return f[0];up.fail("Expected a single element, but got %d elements",f.length)}function le(f){f=f.trim();const y=document.createRange();return y.setStart(document.body,0),y.createContextualFragment(f).childNodes}function P(){return document.documentElement}function V(f){f.offsetHeight}function oe(f){const y=ce(f,{transition:"none"});return V(f),y}function ue(f){const y=f["transition-property"],N=f["transition-duration"];return!(y==="none"||y==="all"&&N===0)}function pe(f){const y=f.getBoundingClientRect();f.style.position="absolute";const N=f.offsetParent.getBoundingClientRect();Z(f,{left:y.left-w(f,"margin-left")-N.left+"px",top:y.top-w(f,"margin-top")-N.top+"px",right:"",bottom:""})}function He(f,y){for(let N in y)Ce(f,N,y[N])}function Ce(f,y,N){t.isMissing(f.getAttribute(y))&&f.setAttribute(y,N)}function We(f){wt(function(){let y=[...f.childNodes];for(let N of y)U(f,N);f.remove()})}function Ue(f){const y=document.createElement("up-wrapper");return y.append(...t.wrapList(f)),y}function Ze(f){return f.length===1&&t.isElement(f[0])?f[0]:Ue(f)}function it(f){const y=Ue(f.childNodes);return f.append(y),y}function wt(f){const y=document.activeElement;try{return f()}finally{y&&y!==document.activeElement&&y.focus({preventScroll:!0})}}function je(f,y,...N){var ge;if(!((ge=f.hasAttribute)!=null&&ge.call(f,y)))return;let ae=f.getAttribute(y);for(let xe of N){let Te=xe(ae,y,f);if(t.isDefined(Te))return Te}}function yt(f,y){return je(f,y,_t)}let _t=t.identity;function st(f,y){return je(f,y,ot)}function ot(f,y){switch(f){case"false":return!1;case"true":case"":case y:return!0}}function ir(f,y){return je(f,y,ot,_t)}function sr(f,y){return je(f,y,ot,Ge)}function or(f,y){return je(f,y,Ge)}function Ge(f){if(f=f.replaceAll("_",""),f.match(/^-?[\d.]+$/))return parseFloat(f)}function ar(f,y){return je(f,y,lr)}function lr(f){if(f!=null&&f.trim())return t.parseRelaxedJSON(f)}function ur(f,y,N){return je(f,y,ae=>cr(ae,f,N))}function cr(f,y,{exposedKeys:N=[],mainKey:ae="event"}={}){const ge=up.NonceableCallback.fromString(f).toFunction(ae,...N);return function(xe){const Te=Object.values(t.pick(xe,N));return ge.call(y,xe,...Te)}}function et(f,y,N=yt){let ae=f.closest("["+y+"]");if(ae)return N(ae,y)}function Xe(f,y){for(let N of y)f.classList.add(N)}function It(f,y){return bt(f,y,!0)}function dr(f,y){return bt(f,y,!1)}function bt(f,y,N){return f.classList.contains(y)===N?t.noop:(f.classList.toggle(y,N),()=>f.classList.toggle(y,!N))}function m(f,y){const N=window.getComputedStyle(f);return W(N,y)}function w(f,y){const N=m(f,y);if(t.isPresent(N))return parseFloat(N)}function D(f,y){const{style:N}=f;return W(N,y)}function W(f,y){return up.migrate.loaded&&(y=up.migrate.fixStyleProps(y)),t.isString(y)?f.getPropertyValue(y):t.mapObject(y,N=>[N,f.getPropertyValue(N)])}function Z(f,y,N=""){if(up.migrate.loaded&&(y=up.migrate.fixStyleProps(y,N)),t.isString(y))f.setAttribute("style",y);else{const{style:ae}=f;for(let ge in y){let xe=y[ge];ae.setProperty(ge,xe+N)}}}function ce(f,y){const N=D(f,Object.keys(y));return Z(f,y),()=>Z(f,N)}function fe(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)}function me(f){return/^up-/.test(f)}function Ee(f,y){return t.mapObject(y,N=>[N,f.getAttribute(N)])}function Me(f){let y=f.getAttributeNames().filter(me);return Ee(f,y)}function vt(f){return t.filter(f.classList.values(),me)}function at(f){up.browser.canJQuery()&&jQuery(f).remove()}function Or(f){return!f.children.length>0&&!f.innerText.trim()}function Fr(f){return`[${f}*="//"]:not([${f}*="//${location.host}/"])`}function kt(f,{margin:y=0}={}){const N=up.Rect.fromElement(f);return N.grow(y),N.bottom>0&&N.top<window.innerHeight&&N.right>0&&N.left<window.innerWidth}function wn(f,y){let N=`:is(${f.join()})`;return t.isPresent(y)&&(N+=`:not(${y.join()})`),N}function Rr(f,y){let N=[];if(f)for(let[ae,ge]of Object.entries(f))t.isDefined(ge)&&y.matches(ae)&&N.push(ge);return N}function yn(f){let y=f.nextElementSibling;return y?[y,"beforebegin"]:[f.parentElement,"beforeend"]}return{subtree:l,subtreeFirst:u,contains:h,closestAttr:et,ancestor:g,around:R,get:$,list:X,toggle:H,hide:z,hideTemp:I,show:ee,showTemp:Y,metaContent:v,insertBefore:U,createFromSelector:ne,setAttrs:b,setAttrsTemp:S,affix:Q,idSelector:K,classSelector:F,isSingleton:j,attrSelector:L,tagName:E,createBrokenDocumentFromHTML:_,fixParserDamage:T,createNodesFromHTML:le,createFromHTML:G,extractSingular:se,get root(){return P()},paint:V,concludeCSSTransition:oe,hasCSSTransition:ue,fixedToAbsolute:pe,setMissingAttrs:He,setMissingAttr:Ce,unwrap:We,wrapChildren:it,wrapIfRequired:Ze,attr:yt,booleanAttr:st,numberAttr:or,jsonAttr:ar,callbackAttr:ur,booleanOrStringAttr:ir,booleanOrNumberAttr:sr,setStyleTemp:ce,style:m,styleNumber:w,inlineStyle:D,setStyle:Z,isVisible:fe,upAttrs:Me,upClasses:vt,setAttrPresence:k,addClasses:Xe,addClassTemp:It,removeClassTemp:dr,cleanJQuery:at,parseSelector:q,isEmpty:Or,crossOriginSelector:Fr,isIntersectingWindow:kt,unionSelector:wn,matchSelectorMap:Rr,elementLikeMatches:d,documentPosition:yn}}()},(n,a,o)=>{o.r(a)},()=>{up.Error=class extends window.Error{constructor(a,o={}){Array.isArray(a)&&(a=up.util.sprintf(...a)),super(a);let t="up."+this.constructor.name;Object.assign(this,{name:t},o)}}},()=>{up.NotImplemented=class extends up.Error{}},()=>{up.Aborted=class extends up.Error{constructor(a){super(a,{name:"AbortError"})}}},()=>{up.CannotMatch=class extends up.Error{}},()=>{up.CannotParse=class extends up.Error{}},()=>{up.CannotTarget=class extends up.Error{}},()=>{up.Offline=class extends up.Error{}},()=>{const n=up.util;up.Record=class{keys(){throw"Return an array of keys"}defaults(o){return{}}constructor(o){Object.assign(this,this.defaults(o),this.attributes(o))}attributes(o=this){return n.pick(o,this.keys())}[n.copy.key](){return n.variant(this)}[n.isEqual.key](o){return this.constructor===o.constructor&&n.isEqual(this.attributes(),o.attributes())}}},()=>{const n=up.util,a=up.element;up.Config=class{constructor(t=()=>({})){this._blueprintFn=t,this.reset(),document.addEventListener("up:framework:reset",()=>this.reset())}reset(){Object.assign(this,this._blueprintFn())}matches(t,s){return t.matches(this.selector(s))}selector(t){let s=this[t],l=this["no"+n.upperCaseFirst(t)];return a.unionSelector(s,l)}selectorFn(t){return()=>this.selector(t)}}},()=>{let n="up.log.enabled",a=!1;try{a=!!(sessionStorage!=null&&sessionStorage.getItem(n))}catch{}up.LogConfig=class extends up.Config{constructor(){super(()=>({banner:!0,format:!0}))}get enabled(){return a}set enabled(t){a=t;try{sessionStorage==null||sessionStorage.setItem(n,t?"1":"")}catch{}}}},()=>{const n=up.util,a=up.element;up.OptionsParser=class{constructor(t,s,l={}){this._options=s,this._element=t,this._parserOptions=l,this._fail=l.fail,this._closest=l.closest,this._attrPrefix=l.attrPrefix||"up-",this._defaults=l.defaults||{}}string(t,s){this.parse(a.attr,t,s)}boolean(t,s){this.parse(a.booleanAttr,t,s)}number(t,s){this.parse(a.numberAttr,t,s)}booleanOrString(t,s){this.parse(a.booleanOrStringAttr,t,s)}booleanOrNumber(t,s){this.parse(a.booleanOrNumberAttr,t,s)}json(t,s){this.parse(a.jsonAttr,t,s)}callback(t,s={}){let l=(u,d)=>a.callbackAttr(u,d,s);this.parse(l,t,s)}parse(t,s,l={}){const u=n.wrapList(l.attr??this._attrNameForKey(s));let d=this._options[s];for(let R of u)d??(d=this._parseFromAttr(t,this._element,R));d??(d=l.default??this._defaults[s]);let h=l.normalize;h&&(d=h(d)),n.isDefined(d)&&(this._options[s]=d);let g;if(this._fail&&(g=up.fragment.failKey(s))){const R=n.compact(n.map(u,$=>this._deriveFailAttrName($)));this.parse(t,g,{...l,attr:R})}}include(t){let s=t(this._element,this._options,this._parserOptions);Object.assign(this._options,s)}_parseFromAttr(t,s,l){return this._closest?a.closestAttr(s,l,t):t(s,l)}_deriveFailAttrName(t){return this._deriveFailAttrNameForPrefix(t,this._attrPrefix+"on-")||this._deriveFailAttrNameForPrefix(t,this._attrPrefix)}_deriveFailAttrNameForPrefix(t,s){if(t.startsWith(s))return`${s}fail-${t.substring(s.length)}`}_attrNameForKey(t){return`${this._attrPrefix}${n.camelToKebabCase(t)}`}}},()=>{const n=up.util;up.FIFOCache=class{constructor({capacity:o=10,normalizeKey:t=n.identity}={}){this._map=new Map,this._capacity=o,this._normalizeKey=t}get(o){return o=this._normalizeKey(o),this._map.get(o)}set(o,t){if(this._map.size===this._capacity){let s=this._map.keys().next().value;this._map.delete(s)}o=this._normalizeKey(o),this._map.set(o,t)}clear(){this._map.clear()}}},()=>{up.Rect=class extends up.Record{keys(){return["left","top","width","height"]}get bottom(){return this.top+this.height}get right(){return this.left+this.width}grow(a){this.left-=a,this.top-=a,this.width+=a*2,this.height+=a*2}static fromElement(a){return new this(a.getBoundingClientRect())}}},()=>{const n=up.element,a=up.util,o="up-scrollbar-away";up.BodyShifter=class{constructor(){this._anchoredElements=new Set,this._stack=0,this._cleaner=a.cleaner()}lowerStack(){--this._stack===0&&this._cleaner.clean()}raiseStack(){++this._stack===1&&this._shiftNow()}onAnchoredElementInserted(s){return this._anchoredElements.add(s),this._shiftElement(s,"right"),()=>this._anchoredElements.delete(s)}_isShifted(){return this._rootScrollbarWidth&&this._stack>0}_shiftNow(){this._rootScrollbarWidth=up.viewport.rootScrollbarWidth(),this._cleaner(n.setStyleTemp(n.root,{"--up-scrollbar-width":this._rootScrollbarWidth+"px"})),this._shiftElement(document.body,"padding-right");for(let s of this._anchoredElements)this._shiftElement(s,"right")}_shiftElement(s,l){if(!this._isShifted())return;let u=n.style(s,l);this._cleaner(n.setStyleTemp(s,{["--up-original-"+l]:u}),n.addClassTemp(s,o))}}},()=>{const n=up.util;up.Change=class{constructor(o){this.options=o}execute(){throw new up.NotImplemented}improveHistoryValue(o,t){return o===!1||n.isString(o)?o:t}deriveFailOptions(){return up.RenderOptions.deriveFailOptions(this.options)}}},()=>{const n=up.util,a=up.element;up.Change.Addition=class extends up.Change{constructor(t){super(t),this._acceptLayer=t.acceptLayer,this._dismissLayer=t.dismissLayer,this._eventPlans=t.eventPlans||[],this._response=t.response}handleLayerChangeRequests(){this.layer.isOverlay()&&(this._tryAcceptLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryAcceptForLocation(this._responseOptions()),this.abortWhenLayerClosed(),this._tryDismissLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryDismissForLocation(this._responseOptions()),this.abortWhenLayerClosed()),this.layer.asCurrent(()=>{for(let t of this._eventPlans)up.emit({...t,...this._responseOptions()}),this.abortWhenLayerClosed()})}_tryAcceptLayerFromServer(){n.isDefined(this._acceptLayer)&&this.layer.isOverlay()&&this.layer.accept(this._acceptLayer,this._responseOptions())}_tryDismissLayerFromServer(){n.isDefined(this._dismissLayer)&&this.layer.isOverlay()&&this.layer.dismiss(this._dismissLayer,this._responseOptions())}abortWhenLayerClosed(t=this.layer){if(t.isClosed())throw new up.Aborted("Layer was closed")}_setSource({oldElement:t,newElement:s,source:l}){l==="keep"&&(l=t&&up.fragment.source(t)),l&&a.setMissingAttr(s,"up-source",up.fragment.normalizeSource(l))}_setTime({newElement:t,time:s}){a.setMissingAttr(t,"up-time",s?s.toUTCString():!1)}_setETag({newElement:t,etag:s}){a.setMissingAttr(t,"up-etag",s||!1)}setReloadAttrs(t){this._setSource(t),this._setTime(t),this._setETag(t)}_responseOptions(){return{response:this._response}}executeSteps(t,s,l){return new up.Change.UpdateSteps({steps:t,noneOptions:l}).execute(s)}}},()=>{var n;const a=up.util;up.RenderJob=(n=class{constructor(t){this.options=t}execute(){return this._rendered=this._executePromise(),this}async _executePromise(){try{this._emitGuardEvent(),this.options=up.RenderOptions.preprocess(this.options),up.browser.assertConfirmed(this.options),up.RenderOptions.assertContentGiven(this.options);let t=await this._getChange().execute();return this._handleResult(t),t}catch(t){throw this._handleResult(t)||this._handleError(t),t}}_handleResult(t){if(t instanceof up.RenderResult){let{onRendered:s,onFinished:l}=t.options;t.none||up.error.guard(()=>s==null?void 0:s(t));let u=function(d){up.error.guard(()=>l==null?void 0:l(d))};return this.finished.then(u,a.noop),!0}}_handleError(t){let s=t instanceof up.Aborted?"Rendering was aborted":"Error while rendering";up.puts("up.render()",`${s}: ${t.name}: ${t.message}`),up.error.guard(()=>{var l,u;return(u=(l=this.options).onError)==null?void 0:u.call(l,t)})}get finished(){return this._awaitFinished()}async _awaitFinished(){try{return await(await this._rendered).finished}catch(t){throw t instanceof up.RenderResult?await t.finished:t}}_getChange(){let t=a.memoize(l=>this._handleAbortOption(l)),s={...this.options,handleAbort:t};return s.url?new up.Change.FromURL(s):s.response?new up.Change.FromResponse(s):new up.Change.FromContent(s)}_emitGuardEvent(){let t=a.pluckKey(this.options,"guardEvent");if(t&&(t.renderOptions=this.options,up.emit(t,{target:this.options.origin}).defaultPrevented))throw new up.Aborted(`Rendering was prevented by ${t.type} listener`)}_handleAbortOption(t){let{abort:s}=this.options;if(!s||!up.network.isBusy())return;let{bindFragments:l,bindLayer:u,origin:d,layer:h}=this._getChange().getPreflightProps(),g={except:t,logOnce:["up.render()","Change with { abort } option will abort other requests"],newLayer:h==="new",origin:d};s==="target"?up.fragment.abort(l,{...g}):s==="layer"?up.fragment.abort({...g,layer:u}):s==="all"||s===!0?up.fragment.abort({...g,layer:"any"}):a.isFunction(s)?s(g):up.fragment.abort(s,{...g,layer:u})}},a.delegatePromise(n.prototype,function(){return this._rendered}),a.memoizeMethod(n.prototype,{_awaitFinished:!0,_getChange:!0}),n)},()=>{up.Change.DestroyFragment=class extends up.Change{constructor(a){super(a),this._layer=up.layer.get(a)||up.layer.current,this._element=this.options.element,this._animation=this.options.animation,this._log=this.options.log,this._onFinished=this.options.onFinished}execute(){this._parent=this._element.parentNode,up.fragment.markAsDestroying(this._element),up.motion.willAnimate(this._element,this._animation,this.options)?this._destroyAfterAnimation():this._destroyNow()}async _destroyAfterAnimation(){var a;this._emitDestroyed(),await this._animate(),this._wipe(),(a=this._onFinished)==null||a.call(this)}_destroyNow(){var a;this._wipe(),this._emitDestroyed(),(a=this._onFinished)==null||a.call(this)}_animate(){return up.motion.animate(this._element,this._animation,this.options)}_wipe(){this._layer.asCurrent(()=>{up.fragment.abort(this._element),up.script.clean(this._element,{layer:this._layer}),up.element.cleanJQuery(this._element),this._element.remove()})}_emitDestroyed(){up.fragment.emitDestroyed(this._element,{parent:this._parent,log:this._log})}}},()=>{let n=up.util;up.Change.OpenLayer=class extends up.Change.Addition{constructor(o){super(o),this.target=o.target,this._origin=o.origin,this._baseLayer=o.baseLayer}getPreflightProps(){return{mode:this.options.mode,context:this._buildLayer().context,origin:this.options.origin,target:this.target,bindLayer:this._baseLayer,layer:"new",bindFragments:n.compact([up.fragment.get(":main",{layer:this._baseLayer})]),fragments:[]}}execute(o,t){this.responseDoc=o,this._matchPostflight(),t(),this._createOverlay();let s=this.layer.on("up:layer:accepting up:layer:dimissing",this._renderOtherLayers.bind(this));try{return this._renderOverlayContent(),this._renderOtherLayers(),up.RenderResult.both(this._newOverlayResult,this._otherLayersResult)}finally{s()}}_matchPostflight(){if(this.target===":none"?this._content=document.createElement("up-none"):this._content=this.responseDoc.select(this.target),!this._content||this._baseLayer.isClosed())throw new up.CannotMatch}_createOverlay(){up.puts("up.render()",`Opening element "${this.target}" in new overlay`),this._assertOpenEventEmitted(),this.layer=this._buildLayer(),this._baseLayer.peel({history:!this.layer.history}),up.layer.stack.push(this.layer),this.layer.createElements(),this.layer.setupHandlers()}_renderOverlayContent(){this._handleHistory(),this.handleLayerChangeRequests(),this.responseDoc.commitElement(this._content),this.layer.setContent(this._content),this.setReloadAttrs({newElement:this._content,source:this.options.source}),this.responseDoc.finalizeElement(this._content),this._newOverlayResult=new up.RenderResult({layer:this.layer,fragments:[this._content],target:this.target}),up.hello(this.layer.element,{...this.options,layer:this.layer,dataRoot:this._content}),this._handleScroll(),this._newOverlayResult.finished=this._finish(),this.layer.opening=!1,this._emitOpenedEvent(),this.abortWhenLayerClosed()}_renderOtherLayers(){if(this._otherLayersResult)return;let o=this._getHungrySteps().other;this._otherLayersResult=this.executeSteps(o,this.responseDoc)}async _finish(){return await this.layer.startOpenAnimation(),this.abortWhenLayerClosed(),this._handleFocus(),this._newOverlayResult}_buildLayer(){const o={...this.options,opening:!0},t=s=>this.options=up.RenderOptions.finalize(s);return up.layer.build(o,t)}_handleHistory(){var t;this.layer.history==="auto"&&(this.layer.history=up.fragment.hasAutoHistory([this._content],this.layer));let{parent:o}=this.layer;(t=this.layer).history&&(t.history=o.history),o.saveHistory(),this.layer.updateHistory(this.options)}_handleFocus(){var t;(t=this._baseLayer.overlayFocus)==null||t.moveToBack(),this.layer.overlayFocus.moveToFront(),new up.FragmentFocus({fragment:this._content,layer:this.layer,autoMeans:["autofocus","layer"],inputDevice:this.options.inputDevice}).process(this.options.focus)}_handleScroll(){const o={...this.options,fragment:this._content,layer:this.layer,autoMeans:["hash","layer"]};new up.FragmentScrolling(o).process(this.options.scroll)}_assertOpenEventEmitted(){up.event.assertEmitted("up:layer:open",{origin:this._origin,baseLayer:this._baseLayer,layerOptions:this.options,log:"Opening new overlay"})}_emitOpenedEvent(){this.layer.emit("up:layer:opened",{origin:this._origin,callback:this.layer.callback("onOpened"),log:`Opened new ${this.layer}`})}_getHungrySteps(){return up.radio.hungrySteps(this._getEffectiveRenderOptions())}_getEffectiveRenderOptions(){return{...this.options,layer:this.layer,history:this.layer.history}}}},()=>{var n;const a=up.util;up.Change.UpdateLayer=(n=class extends up.Change.Addition{constructor(t){t=up.RenderOptions.finalize(t),super(t),this.layer=t.layer,this.target=t.target,this._context=t.context,this._steps=up.fragment.parseTargetSteps(this.target,this.options)}getPreflightProps(){this._matchPreflight();let t=this._getFragments();return{layer:this.layer,bindLayer:this.layer,mode:this.layer.mode,context:a.merge(this.layer.context,this._context),origin:this.options.origin,target:this._bestPreflightSelector(),fragments:t,bindFragments:t}}_bestPreflightSelector(){return this._matchPreflight(),up.fragment.targetForSteps(this._steps)}_getFragments(){return this._matchPreflight(),a.map(this._steps,"oldElement")}execute(t,s){this.responseDoc=t,this._matchPostflight(),s();let l=this.layer.on("up:layer:accepting up:layer:dimissing",this._renderOtherLayers.bind(this));try{return this._renderCurrentLayer(),this._renderOtherLayers(),up.RenderResult.both(this._currentLayerResult,this._otherLayersResult)}finally{l()}}_renderCurrentLayer(){this._steps.length&&up.puts("up.render()",`Updating "${this._bestPreflightSelector()}" in ${this.layer}`),this._setScrollAndFocusOptions(),this.options.saveScroll&&up.viewport.saveScroll({layer:this.layer}),this.options.saveFocus&&up.viewport.saveFocus({layer:this.layer}),this.options.peel&&this.layer.peel({history:!this._hasHistory()}),this.options.abort!==!1&&up.fragment.abort(this._getFragments(),{reason:"Fragment is being replaced"}),Object.assign(this.layer.context,this._context),this._hasHistory()&&this.layer.updateHistory(this.options),this.handleLayerChangeRequests(),this._currentLayerResult=this.executeSteps(this._steps,this.responseDoc,this.options)}_renderOtherLayers(){if(this._otherLayersResult)return;let t=this._getHungrySteps().other;this._otherLayersResult=this.executeSteps(t,this.responseDoc)}_matchPreflight(){this._matchOldElements(),this._compressNestedSteps()}_matchPostflight(){this._matchOldElements(),this._addHungryStepsOnCurrentLayer(),this._compressNestedSteps(),this._matchNewElements()}_addHungryStepsOnCurrentLayer(){this._steps.push(...this._getHungrySteps().current)}_matchOldElements(){this._steps=this._steps.filter(t=>{const s=new up.FragmentFinder(a.pick(t,["selector","origin","layer","match","preferOldElements"]));if(t.oldElement||(t.oldElement=s.find()),t.oldElement)return!0;if(!t.maybe)throw new up.CannotMatch})}_matchNewElements(){this._steps=this.responseDoc.selectSteps(this._steps)}_compressNestedSteps(){this._steps=up.fragment.compressNestedSteps(this._steps)}_getHungrySteps(){return up.radio.hungrySteps(this._getEffectiveRenderOptions())}_setScrollAndFocusOptions(){let t=up.FocusCapsule.preserve(this.layer);this._steps.forEach((s,l)=>{s.focusCapsule=t,l>0&&(s.scroll=!1,s.focus=!1)})}_hasHistory(){return a.evalAutoOption(this.options.history,this._hasAutoHistory.bind(this))}_hasAutoHistory(){const t=a.map(this._steps,"oldElement");return up.fragment.hasAutoHistory(t,this.layer)}_getEffectiveRenderOptions(){return{...this.options,layer:this.layer,history:this._hasHistory()}}},a.memoizeMethod(n.prototype,{_matchPreflight:!0,_matchOldElements:!0,_hasHistory:!0,_getHungrySteps:!0}),n)},()=>{const n=up.util,a=up.element;up.Change.UpdateSteps=class extends up.Change.Addition{constructor(t){super(t),this._noneOptions=t.noneOptions||{},this._steps=n.copy(t.steps)}execute(t){var l;if(this.responseDoc=t,this._steps=t.selectSteps(this._steps),this._steps=t.commitSteps(this._steps),!this._steps.length)return this._executeNone();this.renderResult=new up.RenderResult({layer:(l=this._steps[0])==null?void 0:l.layer,target:up.fragment.targetForSteps(this._steps)}),this._steps.reverse();const s=this._steps.map(u=>this._executeStep(u));return this.renderResult.finished=this._finish(s),this.renderResult}_executeNone(){return this._handleFocus(null,this._noneOptions),this._handleScroll(null,this._noneOptions),up.RenderResult.buildNone()}async _finish(t){await Promise.all(t);for(let s of this._steps)this.abortWhenLayerClosed(s.layer);return this.renderResult}_addToResult(t){let s=t.matches("up-wrapper")?t.children:[t];this.renderResult.fragments.unshift(...s)}_executeStep(t){switch(this.setReloadAttrs(t),t.placement){case"swap":{if(this._findKeepPlan(t))return this._handleFocus(t.oldElement,t),this._handleScroll(t.oldElement,t),Promise.resolve();{this._preserveKeepables(t);const l=t.oldElement.parentNode,u={...t,beforeStart(){up.fragment.markAsDestroying(t.oldElement)},afterInsert:()=>{this._restoreKeepables(t),this.responseDoc.finalizeElement(t.newElement),this._unmarkKeepables(t),up.hello(t.newElement,t),this._addToResult(t.newElement)},beforeDetach:()=>{up.script.clean(t.oldElement,{layer:t.layer})},afterDetach(){a.cleanJQuery(),up.fragment.emitDestroyed(t.oldElement,{parent:l,log:!1})},scrollNew:()=>{this._handleFocus(t.newElement,t),this._handleScroll(t.newElement,t)}};return up.morph(t.oldElement,t.newElement,t.transition,u)}}case"content":{let s=a.wrapChildren(t.oldElement),l=a.wrapChildren(t.newElement),u={...t,placement:"swap",oldElement:s,newElement:l,focus:!1};return this._executeStep(u).then(()=>{a.unwrap(l),this._handleFocus(t.oldElement,t)})}case"before":case"after":{let s=a.wrapChildren(t.newElement),l=t.placement==="before"?"afterbegin":"beforeend";return t.oldElement.insertAdjacentElement(l,s),this.responseDoc.finalizeElement(s),up.hello(s,t),this._addToResult(s),this._handleFocus(s,t),this._handleScroll(s,t),up.animate(s,t.transition,t).then(()=>a.unwrap(s))}default:up.fail("Unknown placement: %o",t.placement)}}_findKeepPlan(t){if(!t.keep)return;const{oldElement:s,newElement:l}=t;if(!a.booleanAttr(s,"up-keep"))return;let d,h=up.fragment.toTarget(s);const g={layer:t.layer};if(t.descendantsOnly?d=up.fragment.get(l,h,g):d=a.subtreeFirst(l,h,g),d&&a.booleanAttr(d,"up-keep")!==!1){const R={oldElement:s,newElement:d,newData:up.script.data(d),renderOptions:t};if(!up.fragment.emitKeep(R).defaultPrevented)return R}}_preserveKeepables(t){const s=[];if(t.keep)for(let l of t.oldElement.querySelectorAll("[up-keep]")){let u=this._findKeepPlan({...t,oldElement:l,descendantsOnly:!0});if(u){const d=l.cloneNode(!0);l.insertAdjacentElement("beforebegin",d),l.classList.add("up-keeping"),up.script.disableSubtree(u.newElement);let h=up.viewport.subtree(u.oldElement);u.revivers=h.map(function(g){let R=up.viewport.copyCursorProps(g);return()=>up.viewport.copyCursorProps(R,g)}),this._willChangeElement(document.body)?u.newElement.replaceWith(l):document.body.append(l),s.push(u)}}t.keepPlans=s}_restoreKeepables(t){for(let s of t.keepPlans){s.newElement.replaceWith(s.oldElement);for(let l of s.revivers)l()}}_unmarkKeepables(t){for(let s of t.keepPlans)s.oldElement.classList.remove("up-keeping")}_willChangeElement(t){return n.some(this._steps,s=>s.oldElement.contains(t))}_handleFocus(t,s){return new up.FragmentFocus({...s,fragment:t,autoMeans:up.fragment.config.autoFocus}).process(s.focus)}_handleScroll(t,s){return new up.FragmentScrolling({...s,fragment:t,autoMeans:up.fragment.config.autoScroll}).process(s.scroll)}}},()=>{const n=up.util;up.Change.CloseLayer=class extends up.Change{constructor(o){super(o),this._verb=o.verb,this._layer=up.layer.get(o),this._origin=o.origin,this._value=o.value,this._preventable=o.preventable??!0,this._response=o.response,this._history=o.history??!0}execute(){if(!this._layer.isOpen())return;if(up.browser.assertConfirmed(this.options),this._emitCloseEvent().defaultPrevented&&this._preventable)throw new up.Aborted("Close event was prevented");this._emitClosingEvent(),up.fragment.abort({reason:"Layer is closing",layer:this._layer});const{parent:o}=this._layer;this._layer.peel(),this._layer.stack.remove(this._layer),this._history&&o.restoreHistory(),this._handleFocus(o),this._layer.teardownHandlers(),this._layer.destroyElements(this.options),this._emitClosedEvent(o)}_emitCloseEvent(){let o=this._layer.emit(this._buildEvent(`up:layer:${this._verb}`),{callback:this._layer.callback(`on${n.upperCaseFirst(this._verb)}`),log:[`Will ${this._verb} ${this._layer} with value %o`,this._value]});return this._value=o.value,o}_emitClosingEvent(){let o=this._buildEvent(`up:layer:${this._verb}ing`);this._layer.emit(o,{log:!1})}_emitClosedEvent(o){const t=`${this._verb}ed`,s=n.upperCaseFirst(t);return this._layer.emit(this._buildEvent(`up:layer:${t}`),{baseLayer:o,callback:this._layer.callback(`on${s}`),ensureBubbles:!0,log:[`${s} ${this._layer} with value %o`,this._value]})}_buildEvent(o){return up.event.build(o,{layer:this._layer,value:this._value,origin:this._origin,response:this._response})}_handleFocus(o){var s;let t=this._layer.hasFocus();if(this._layer.overlayFocus.teardown(),(s=o.overlayFocus)==null||s.moveToFront(),t){let l=this._layer.origin||o.element;up.focus(l,{preventScroll:!0})}}}},()=>{var n;const a=up.util;up.Change.FromURL=(n=class extends up.Change{async execute(){var l,u,d,h;let t=this._newPageReason();if(t)return up.puts("up.render()",t),up.network.loadPage(this.options),a.unresolvablePromise();let s=this.request=up.request(this._getRequestAttrs());return(u=(l=this.options).onRequestKnown)==null||u.call(l,s),this.options.preload?s:((h=(d=this.options).handleAbort)==null||h.call(d,s),s.runPreviews(this.options),await a.always(s,g=>this._onRequestSettled(g)))}_newPageReason(){if(a.isCrossOrigin(this.options.url))return"Loading cross-origin content in new page";if(this.options.history&&!up.browser.canPushState())return"Loading content in new page to restore history support"}_getRequestAttrs(){const t=this._preflightPropsForRenderOptions(this.options),s=this._preflightPropsForRenderOptions(this.deriveFailOptions(),{optional:!0});return{...this.options,...t,...a.withRenamedKeys(s,up.fragment.failKey)}}getPreflightProps(){return this._getRequestAttrs()}_preflightPropsForRenderOptions(t,s){return new up.Change.FromContent({...t,preflight:!0}).getPreflightProps(s)}_onRequestSettled(t){return t instanceof up.Response?this._onRequestSettledWithResponse(t):this._onRequestSettledWithError(t)}_onRequestSettledWithResponse(t){return new up.Change.FromResponse({...this.options,response:t}).execute()}_onRequestSettledWithError(t){throw t instanceof up.Offline&&this.request.emit("up:fragment:offline",{callback:this.options.onOffline,renderOptions:this.options,retry:s=>up.render({...this.options,...s}),log:["Cannot load fragment from %s: %s",this.request.description,t.reason]}),t}},a.memoizeMethod(n.prototype,{_getRequestAttrs:!0}),n)},()=>{var n;const a=up.util;up.Change.FromResponse=(n=class extends up.Change{constructor(t){super(t),this._response=t.response,this._request=this._response.request}execute(){if(up.fragment.config.skipResponse(this._loadedEventProps())?this._skip():this._request.assertEmitted("up:fragment:loaded",{...this._loadedEventProps(),callback:this.options.onLoaded,log:["Loaded fragment from %s",this._response.description],skip:()=>this._skip()}),a.evalOption(this.options.fail,this._response)??!this._response.ok)throw this._updateContentFromResponse(this.deriveFailOptions());return this._updateContentFromResponse(this.options)}_skip(){up.puts("up.render()","Skipping "+this._response.description),this.options.target=":none",this.options.failTarget=":none"}_updateContentFromResponse(t){t.failPrefixForced&&up.puts("up.render()","Rendering failed response using fail-prefixed options (https://unpoly.com/failed-responses)"),this._augmentOptionsFromResponse(t),t.meta=this._compilerPassMeta();let s=new up.Change.FromContent(t).execute();return s.finished=this.finish(s,t),s}async finish(t,s){return t=await t.finished,up.fragment.shouldRevalidate(this._request,this._response,s)&&(t=await this._revalidate(t,s)),t}async _revalidate(t,s){let l=s.target,u=t.target;if(/:(before|after)/.test(l))up.warn("up.render()","Cannot revalidate cache when prepending/appending (target %s)",l);else{up.puts("up.render()",'Revalidating cached response for target "%s"',u);let d=await up.reload(u,{...s,...up.RenderOptions.NO_MOTION,...up.RenderOptions.NO_INPUT_INTERFERENCE,...up.RenderOptions.NO_PREVIEWS,preferOldElements:t.fragments,layer:t.layer,onFinished:null,expiredResponse:this._response,preview:this._revalidatePreview(s),abort:!1,cache:!1,background:!0});d.none||(t=d)}return t}_revalidatePreview({preview:t,revalidatePreview:s}){return s===!0?t:s}_loadedEventProps(){const{expiredResponse:t}=this.options;return{request:this._request,response:this._response,renderOptions:this.options,revalidating:!!t,expiredResponse:t}}_compilerPassMeta(){var s,l;let t={revalidating:!!this.options.expiredResponse};return(l=(s=up.migrate).processCompilerPassMeta)==null||l.call(s,t,this._response),t}_augmentOptionsFromResponse(t){const s=this._response.url;let l=s,u=this._request.hash;u&&(t.hash=u,l+=u),this._response.method==="GET"?t.source=this.improveHistoryValue(t.source,s):(t.source=this.improveHistoryValue(t.source,"keep"),t.history=!!t.location),t.location=this.improveHistoryValue(t.location,l),t.title=this.improveHistoryValue(t.title,this._response.title),t.eventPlans=this._response.eventPlans;let h=this._response.target;h&&(t.target=h),t.acceptLayer=this._response.acceptLayer,t.dismissLayer=this._response.dismissLayer,t.document=this._response.text,this._response.none&&(t.target=":none"),t.context=a.merge(t.context,this._response.context),t.cspNonces=this._response.cspNonces,t.time??(t.time=this._response.lastModified),t.etag??(t.etag=this._response.etag)}},a.memoizeMethod(n.prototype,{_loadedEventProps:!0}),n)},()=>{var n;const a=up.util;up.Change.FromContent=(n=class extends up.Change{constructor(t){super(t),this._origin=t.origin,this._preflight=t.preflight,this._layers=up.layer.getAll(t)}_getPlans(){let t=[];return this._filterLayers(),this._improveOptionsFromResponseDoc(),this._expandIntoPlans(t,this._layers,this.options.target),this._expandIntoPlans(t,this._layers,this.options.fallback),t}_isRenderableLayer(t){return t==="new"||t.isOpen()}_filterLayers(){this._layers=a.filter(this._layers,this._isRenderableLayer)}_expandIntoPlans(t,s,l){for(let u of s)for(let d of this._expandTargets(l,u)){const h={...this.options,target:d,layer:u,defaultPlacement:this._defaultPlacement()},g=u==="new"?new up.Change.OpenLayer(h):new up.Change.UpdateLayer(h);t.push(g)}}_expandTargets(t,s){return up.fragment.expandTargets(t,{layer:s,mode:this.options.mode,origin:this._origin})}execute(){return this.options.preload?Promise.resolve():this._seekPlan(this._executePlan.bind(this))||this._cannotMatchPostflightTarget()}_executePlan(t){let s=t.execute(this._getResponseDoc(),this._onPlanApplicable.bind(this,t));return s.options=this.options,s}_isApplicablePlanError(t){return!(t instanceof up.CannotMatch)}_onPlanApplicable(t){var u,d;let s=this._getPlans()[0];t!==s&&up.puts("up.render()",'Could not match primary target "%s". Updating a fallback target "%s".',s.target,t.target);let{assets:l}=this._getResponseDoc();l&&up.script.assertAssetsOK(l,t.options),(d=(u=this.options).handleAbort)==null||d.call(u,null)}_getResponseDoc(){var s,l;if(this._preflight)return;const t=a.pick(this.options,["target","content","fragment","document","html","cspNonces","origin","data"]);return(l=(s=up.migrate).handleResponseDocOptions)==null||l.call(s,t),this._defaultPlacement()==="content"&&(t.target=this._firstExpandedTarget(t.target)),new up.ResponseDoc(t)}_improveOptionsFromResponseDoc(){var s;if(this._preflight)return;let t=this._getResponseDoc();this.options.fragment&&((s=this.options).target||(s.target=t.rootSelector())),this.options.title=this.improveHistoryValue(this.options.title,t.title),this.options.metaTags=this.improveHistoryValue(this.options.metaTags,t.metaTags),this.options.lang=this.improveHistoryValue(this.options.lang,t.lang)}_defaultPlacement(){if(!this.options.document&&!this.options.fragment)return"content"}_firstExpandedTarget(t){let s=this._layers[0]||up.layer.root;return this._expandTargets(t||":main",s)[0]}getPreflightProps(t={}){const s=l=>l.getPreflightProps();return this._seekPlan(s)||t.optional||this._cannotMatchPreflightTarget()}_cannotMatchPreflightTarget(){this._cannotMatchTarget("Could not find target in current page")}_cannotMatchPostflightTarget(){this._cannotMatchTarget("Could not find common target in current page and response")}_cannotMatchTarget(t){if(this._getPlans().length){const s=a.uniq(a.map(this._getPlans(),"target")),l=up.layer.optionToString(this.options.layer);throw new up.CannotMatch([t+" (tried selectors %o in %s)",s,l])}else if(this._layers.length===0)this._cannotMatchLayer();else throw this.options.failPrefixForced?new up.CannotMatch("No target selector given for failed responses (https://unpoly.com/failed-responses)"):new up.CannotMatch("No target selector given")}_cannotMatchLayer(){throw new up.CannotMatch("Could not find a layer to render in. You may have passed an unmatchable layer reference, or a detached element.")}_seekPlan(t){for(let s of this._getPlans())try{return t(s)}catch(l){if(this._isApplicablePlanError(l))throw l}}},a.memoizeMethod(n.prototype,{_getPlans:!0,_getResponseDoc:!0,getPreflightProps:!0}),n)},()=>{const n=up.util;up.CompilerPass=class{constructor(o,t,{layer:s,data:l,dataRoot:u,dataMap:d,meta:h}){s||(s=up.layer.get(o)||up.layer.current),this._root=o,this._compilers=t,this._layer=s,this._data=l,this._dataRoot=u||o,this._dataMap=d,h||(h={}),h.layer=s,this._meta=h}run(){this._layer.asCurrent(()=>{this.setCompileData();for(let o of this._compilers)this._runCompiler(o)})}setCompileData(){if(this._data&&(this._dataRoot.upCompileData=this._data),this._dataMap)for(let o in this._dataMap)for(let t of this._select(o))t.upCompileData=this._dataMap[o]}_runCompiler(o){var s,l;const t=this._selectOnce(o);if(t.length){if(o.isDefault||up.puts("up.hello()",'Compiling %d× "%s" on %s',t.length,o.selector,this._layer),o.batch)this._compileBatch(o,t);else for(let u of t)this._compileOneElement(o,u);return(l=(s=up.migrate).postCompile)==null?void 0:l.call(s,t,o)}}_compileOneElement(o,t){const s=[t];if(o.length!==1){const u=up.script.data(t);s.push(u,this._meta)}const l=this._applyCompilerFunction(o,t,s);up.destructor(t,l)}_compileBatch(o,t){const s=[t];if(o.length!==1){const u=n.map(t,up.script.data);s.push(u,this._meta)}this._applyCompilerFunction(o,t,s)&&up.fail("Compilers with { batch: true } cannot return destructors")}_applyCompilerFunction(o,t,s){return up.error.guard(()=>o.apply(t,s))}_select(o){return up.fragment.subtree(this._root,n.evalOption(o),{layer:this._layer})}_selectOnce(o){let t=this._select(o.selector);return n.filter(t,s=>{let l=s.upAppliedCompilers||(s.upAppliedCompilers=new Set);if(!l.has(o))return l.add(o),!0})}}},()=>{const n=up.util,a=up.element;up.CSSTransition=class{constructor(t,s,l){this._element=t,this._lastFrame=s,this._lastFrameKeys=Object.keys(this._lastFrame),this._finishEvent=l.finishEvent,this._duration=l.duration,this._easing=l.easing,this._finished=!1}start(){return this._lastFrameKeys.length===0?(this._finished=!0,Promise.resolve()):(this._deferred=n.newDeferred(),this._pauseOldTransition(),this._startTime=new Date,this._startFallbackTimer(),this._listenToFinishEvent(),this._listenToTransitionEnd(),this._startMotion(),this._deferred)}_listenToFinishEvent(){this._finishEvent&&(this._stopListenToFinishEvent=up.on(this._element,this._finishEvent,this._onFinishEvent.bind(this)))}_onFinishEvent(t){t.stopPropagation(),this._finish()}_startFallbackTimer(){this._fallbackTimer=n.timer(this._duration+100,()=>this._finish())}_stopFallbackTimer(){clearTimeout(this._fallbackTimer)}_listenToTransitionEnd(){this._stopListenToTransitionEnd=up.on(this._element,"transitionend",this._onTransitionEnd.bind(this))}_onTransitionEnd(t){if(t.target!==this._element||new Date-this._startTime<=.25*this._duration)return;const l=t.propertyName;n.contains(this._lastFrameKeys,l)&&this._finish()}_finish(){var t,s;this._finished||(this._finished=!0,this._stopFallbackTimer(),(t=this._stopListenToFinishEvent)==null||t.call(this),(s=this._stopListenToTransitionEnd)==null||s.call(this),a.concludeCSSTransition(this._element),this._resumeOldTransition(),this._deferred.resolve())}_pauseOldTransition(){const t=a.style(this._element,["transition-property","transition-duration","transition-delay","transition-timing-function"]);if(a.hasCSSTransition(t)){if(t["transition-property"]!=="all"){const s=t["transition-property"].split(/\s*,\s*/),l=a.style(this._element,s);this._setOldTransitionTargetFrame=a.setStyleTemp(this._element,l)}this._setOldTransition=a.concludeCSSTransition(this._element)}}_resumeOldTransition(){var t,s;(t=this._setOldTransitionTargetFrame)==null||t.call(this),(s=this._setOldTransition)==null||s.call(this)}_startMotion(){a.setStyle(this._element,{"transition-property":this._lastFrameKeys.join(),"transition-duration":`${this._duration}ms`,"transition-timing-function":this._easing}),a.setStyle(this._element,this._lastFrame)}}},()=>{const n=up.util;up.DestructorPass=class{constructor(o,t){this._fragment=o,this._options=t}run(){for(let o of this._selectCleanables()){let t=n.pluckKey(o,"upDestructors");t==null||t.clean(o)}}_selectCleanables(){const o={...this._options,destroying:!0};return up.fragment.subtree(this._fragment,".up-can-clean",o)}}},()=>{const n=up.util,a=up.element;up.EventEmitter=class extends up.Record{keys(){return["target","event","baseLayer","callback","log","ensureBubbles"]}emit(){return this._logEmission(),this.baseLayer?this.baseLayer.asCurrent(()=>this._dispatchEvent()):this._dispatchEvent(),this.event}_dispatchEvent(){this.target.dispatchEvent(this.event),this.ensureBubbles&&!this.target.isConnected&&document.dispatchEvent(this.event),up.error.guard(()=>{var t;return(t=this.callback)==null?void 0:t.call(this,this.event)})}assertEmitted(){const t=this.emit();if(t.defaultPrevented)throw new up.Aborted(`Event ${t.type} was prevented`)}_logEmission(){if(!up.log.config.enabled)return;let t=this.log,s;n.isArray(t)?[t,...s]=t:s=[];const{type:l}=this.event;n.isString(t)?up.puts(l,t,...s):t!==!1&&up.puts(l,`Event ${l}`)}static fromEmitArgs(t,s={}){var d;let l=n.extractOptions(t);l=n.merge(s,l),n.isElementLike(t[0])?l.target=a.get(t.shift()):t[0]instanceof up.Layer&&(l.layer=t.shift());let u;return n.isGiven(l.layer)&&(u=up.layer.get(l.layer),l.target||(l.target=u.element),l.baseLayer||(l.baseLayer=u)),l.baseLayer&&(l.baseLayer=up.layer.get(l.baseLayer)),n.isString(l.target)?l.target=up.fragment.get(l.target,{layer:l.layer}):l.target||(l.target=document),(d=t[0])!=null&&d.preventDefault?(l.event=t[0],l.log??(l.log=t[0].log)):n.isString(t[0])?l.event=up.event.build(t[0],l):l.event=up.event.build(l),new this(l)}}},()=>{const n=up.util;up.EventListener=class extends up.Record{keys(){return["element","eventType","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}constructor(o){super(o),this._key=this.constructor._buildKey(o),this.isDefault=up.framework.evaling,this.beforeBoot??(this.beforeBoot=this.eventType.indexOf("up:framework:")===0),this.nativeCallback=this.nativeCallback.bind(this)}bind(){var t;const o=(t=this.element).upEventListeners||(t.upEventListeners={});o[this._key]&&up.fail("up.on(): The %o callback %o cannot be registered more than once",this.eventType,this.callback),o[this._key]=this,this.element.addEventListener(...this._addListenerArg())}_addListenerArg(){let o=n.compactObject(n.pick(this,["once","passive","capture"]));return[this.eventType,this.nativeCallback,o]}unbind(){let o=this.element.upEventListeners;o&&delete o[this._key],this.element.removeEventListener(...this._addListenerArg())}nativeCallback(o){if(up.framework.beforeBoot&&!this.beforeBoot)return;let t=o.target;if(this.selector&&(t=t.closest(n.evalOption(this.selector))),!(this.guard&&!this.guard(o))&&t){const s=[o,t],l=this.callback.length;if(l!==1&&l!==2){const d=up.script.data(t);s.push(d)}if(this.eventType==="click"&&t.disabled)return;const u=this.callback.bind(t,...s);this.baseLayer?this.baseLayer.asCurrent(u):u()}}static fromElement(o){let t=o.element.upEventListeners;if(t){const s=this._buildKey(o);return t[s]}}static _buildKey(o){var t;return(t=o.callback).upUid||(t.upUid=n.uid()),[o.eventType,o.selector,o.callback.upUid].join("|")}static allNonDefault(o){let t=o.upEventListeners;if(t){const s=Object.values(t);return n.reject(s,"isDefault")}else return[]}}},()=>{const n=up.util;up.EventListenerGroup=class extends up.Record{keys(){return["elements","eventTypes","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}bind(){const o=n.cleaner();return this._eachListenerAttributes(function(t){const s=new up.EventListener(t);return s.bind(),o(s.unbind.bind(s))}),o.clean}_eachListenerAttributes(o){for(let t of this.elements)for(let s of this.eventTypes)o(this._listenerAttributes(t,s))}_listenerAttributes(o,t){return{...this.attributes(),element:o,eventType:t}}unbind(){this._eachListenerAttributes(function(o){let t=up.EventListener.fromElement(o);t&&t.unbind()})}static fromBindArgs(o,t){o=n.copy(o);const s=o.pop();let l;o[0].addEventListener?l=[o.shift()]:n.isJQuery(o[0])||n.isList(o[0])&&o[0][0].addEventListener?l=o.shift():l=[document];let u=n.getSimpleTokens(o.shift()),d=up.migrate.fixEventTypes;d&&(u=d(u));const h=n.extractOptions(o),g=o[0],R={elements:l,eventTypes:u,selector:g,callback:s,...h,...t};return new this(R)}}},()=>{const n=up.util;up.FieldWatcher=class{constructor(o,t,s){this._options=t,this._root=o,this._scope=up.form.getScope(o),this._callback=s,this._batch=t.batch}start(){this._scheduledValues=null,this._processedValues=this._readFieldValues(),this._currentTimer=null,this._callbackRunning=!1,this._cleaner=n.cleaner(),this._watchFieldsWithin(this._root),this._root.addEventListener("up:fragment:inserted",({target:o})=>{o!==this._root&&this._watchFieldsWithin(o)}),this._cleaner(up.fragment.onAborted(this._scope,()=>this._abort())),this._cleaner(up.on(this._scope,"reset",()=>this._onFormReset()))}stop(){this._abort(),this._cleaner.clean()}_fieldOptions(o){let t=n.copy(this._options);return up.form.watchOptions(o,t,{defaults:{event:"input"}})}_watchFieldsWithin(o){for(let t of up.form.fields(o))this._watchField(t)}_watchField(o){let t=this._fieldOptions(o);this._cleaner(up.on(o,t.event,()=>this._check(t)))}_abort(){this._scheduledValues=null}_scheduleValues(o,t){this._scheduledValues=o,this._scheduledFieldOptions=t;let s=t.delay||0;clearTimeout(this._currentTimer),this._currentTimer=n.timer(s,()=>{this._currentTimer=null,this._requestCallback()})}_isNewValues(o){return!n.isEqual(o,this._processedValues)&&!n.isEqual(this._scheduledValues,o)}async _requestCallback(){if(!this._scheduledValues||this._callbackRunning||this._currentTimer||!this._scope.isConnected)return;let o=n.omit(this._scheduledFieldOptions,["event","delay"]);const t=this._changedValues(this._processedValues,this._scheduledValues);this._processedValues=this._scheduledValues,this._scheduledValues=null,this._callbackRunning=!0,this._scheduledFieldOptions=null;const s=[];if(this._batch)s.push(this._runCallback(t,o));else for(let l in t){const u=t[l];s.push(this._runCallback(u,l,o))}n.some(s,n.isPromise)&&await Promise.allSettled(s),this._callbackRunning=!1,this._requestCallback()}_runCallback(...o){return up.error.guard(this._callback,...o)}_changedValues(o,t){const s={};let l=Object.keys(o);l=l.concat(Object.keys(t)),l=n.uniq(l);for(let u of l){const d=o[u],h=t[u];n.isEqual(d,h)||(s[u]=h)}return s}_readFieldValues(){return up.Params.fromContainer(this._root).toObject()}_check(o={}){const t=this._readFieldValues();this._isNewValues(t)&&this._scheduleValues(t,o)}_onFormReset(){n.task(()=>this._check())}}},()=>{const n=up.util,a=up.element;up.FormValidator=class{constructor(t){this._form=t,this._dirtySolutions=[],this._nextRenderTimer=null,this._rendering=!1,this._resetNextRenderPromise(),this._honorAbort()}_honorAbort(){up.fragment.onAborted(this._form,t=>this._onAborted(t))}_onAborted(t){this._dirtySolutions.length&&(this._dirtySolutions=[],this._nextRenderPromise.reject(new up.Aborted(t.reason)),this._resetNextRenderPromise())}_resetNextRenderPromise(){this._nextRenderPromise=n.newDeferred()}watchContainer(t){let{event:s}=this._originOptions(t),l=()=>up.fragment.isAlive(t),u=()=>up.error.muteUncriticalRejection(this.validate({origin:t}));up.on(t,s,{guard:l},u)}validate(t={}){let s=this._getSolutions(t);return this._dirtySolutions.push(...s),this._scheduleNextRender(),this._nextRenderPromise}_getSolutions(t){let s=this._getTargetSelectorSolutions(t)||this._getFieldSolutions(t)||this._getElementSolutions(t.origin);for(let l of s)l.renderOptions=this._originOptions(l.origin,t),l.target=up.fragment.resolveOrigin(l.target,l);return s}_getFieldSolutions({origin:t,...s}){if(up.form.isField(t))return this._getValidateAttrSolutions(t)||this._getFormGroupSolutions(t,s)}_getFormGroupSolutions(t,{formGroup:s=!0}){if(!s)return;let l=up.form.groupSolution(t);if(l)return up.puts("up.validate()","Validating form group of field %o",t),[l]}_getTargetSelectorSolutions({target:t,origin:s}){if(n.isString(t)){up.puts("up.validate()",'Validating target "%s"',t);let l=up.fragment.splitTarget(t);return n.compact(l.map(function(u){let d=up.fragment.get(u,{origin:s});if(d)return{element:d,target:u,origin:s};up.fail('Validation target "%s" does not match an element',u)}))}}_getElementSolutions(t){return up.puts("up.validate()","Validating element %o",t),[{element:t,target:up.fragment.toTarget(t),origin:t}]}_getValidateAttrSolutions(t){let s=t.closest("[up-validate]");if(s){let l=a.booleanOrStringAttr(s,"up-validate");return this._getTargetSelectorSolutions({target:l,origin:t})}}_originOptions(t,s){return up.form.watchOptions(t,s,{defaults:{event:"change"}})}_scheduleNextRender(){let t=this._dirtySolutions.map(l=>l.renderOptions.delay),s=Math.min(...t)||0;clearTimeout(this._nextRenderTimer),this._nextRenderTimer=n.timer(s,()=>{this._nextRenderTimer=null,this._renderDirtySolutions()})}_renderDirtySolutions(){up.error.muteUncriticalRejection(this._doRenderDirtySolutions())}async _doRenderDirtySolutions(){if(!this._dirtySolutions.length||this._rendering||this._nextRenderTimer)return;let t=this._mergeRenderOptions(this._dirtySolutions);this._dirtySolutions=[],this._rendering=!0;let s=this._nextRenderPromise;this._resetNextRenderPromise();try{s.resolve(up.render(t)),await s}finally{this._rendering=!1,this._renderDirtySolutions()}}_mergeRenderOptions(t){let s=n.map(t,"origin"),l=n.flatMap(s,up.form.fields),u=n.uniq(n.map(l,"name")),d=n.map(t,"renderOptions"),h=n.mergeDefined(...d,up.form.destinationOptions(this._form));return h.target=n.map(t,"target").join(", "),h.origin=this._form,h.focus??(h.focus="keep"),h.failOptions=!1,h.defaultMaybe=!0,h.params=up.Params.merge(h.params,...n.map(d,"params")),h.headers=n.merge(h.headers,...n.map(d,"headers")),this._addValidateHeader(h.headers,u),h.feedback=n.some(d,"feedback"),h.data=void 0,h.dataMap=n.mapObject(t,({target:g,element:R,renderOptions:{data:$,keepData:X}})=>[g,X?up.data(R):$]),h.preview=void 0,h.previewMap=n.mapObject(t,({target:g,renderOptions:{preview:R}})=>[g,R]),h.placeholder=void 0,h.placeholderMap=n.mapObject(t,({target:g,renderOptions:{placeholder:R}})=>[g,R]),h.disable=t.map(g=>up.fragment.resolveOrigin(g.renderOptions.disable,g)),h.guardEvent=up.event.build("up:form:validate",{fields:l,log:"Validating form",params:h.params,form:this._form}),h}_addValidateHeader(t,s){let l=up.protocol.headerize("validate"),u=s.join(" ");(!u||u.length>up.protocol.config.maxHeaderSize)&&(u=":unknown"),t[l]=u}static forElement(t){let s=up.form.get(t);return s.upFormValidator||(s.upFormValidator=new this(s))}}},()=>{up.FocusCapsule=class{constructor(a,o){this._element=a,this._target=o,this._cursorProps=up.viewport.copyCursorProps(this._element)}wasLost(){return document.activeElement!==this._element&&!this._voided}autoVoid(){up.on("focusin",{once:!0},()=>this._voided=!0)}restore(a,o){if(!this.wasLost())return!1;let t=up.fragment.get(this._target,{layer:a});if(t)return up.viewport.copyCursorProps(this._cursorProps,t),up.focus(t,o),!0}static preserve(a){let o=up.viewport.focusedElementWithin(a.element);if(!o)return;let t=up.fragment.tryToTarget(o);if(t)return new this(o,t)}}},()=>{const n=up.util;up.FragmentProcessor=class extends up.Record{keys(){return["fragment","autoMeans","origin","layer"]}process(o){let t=this.preprocess(o);return this.tryProcess(t)}preprocess(o){return n.getComplexTokens(o)}tryProcess(o){if(n.isArray(o))return this.processArray(o);if(n.isFunction(o)){let t=up.error.guard(o,this.fragment,this.attributes());return this.tryProcess(t)}if(n.isElement(o))return this.processElement(o);if(n.isString(o)){if(o==="auto")return this.tryProcess(this.autoMeans);let t=o.match(/^(.+?)-if-(.+?)$/);if(t)return this.resolveCondition(t[2])&&this.process(t[1])}return this.processPrimitive(o)}processArray(o){return n.find(o,t=>this.tryProcess(t))}resolveCondition(o){if(o==="main")return this.fragment&&up.fragment.contains(this.fragment,":main")}findSelector(o){const t={layer:this.layer,origin:this.origin};let l=this.fragment&&up.fragment.get(this.fragment,o,t)||up.fragment.get(o,t);if(l)return l;up.warn("up.render()",'Could not find an element matching "%s"',o)}}},()=>{const n=up.util,a=/^([^ >+(]+) (.+)$/;up.FragmentFinder=class{constructor(t){this._options=t,this._origin=t.origin,this._selector=t.selector,this._document=t.document||window.document,this._match=t.match??up.fragment.config.match,this._preferOldElements=t.preferOldElements}find(){return this._findInPreferredElements()||this._findInRegion()||this._findFirst()}_findInPreferredElements(){if(this._preferOldElements)return this._preferOldElements.find(t=>this._document.contains(t)&&up.fragment.matches(t,this._selector))}_findInRegion(){var t;if(this._match==="region"&&!up.fragment.containsMainPseudo(this._selector)&&((t=this._origin)!=null&&t.isConnected))return this._findClosest()||this._findDescendantInRegion()}_findClosest(){return up.fragment.closest(this._origin,this._selector,this._options)}_findDescendantInRegion(){let t=up.fragment.splitTarget(this._selector);return n.findResult(t,s=>{let l=s.match(a);if(l){let u=up.fragment.closest(this._origin,l[1],this._options);if(u)return up.fragment.getFirstDescendant(u,l[2])}})}_findFirst(){return up.fragment.getFirstDescendant(this._document,this._selector,this._options)}}},()=>{const n=up.util,a=up.element,o={preventScroll:!0};up.FragmentFocus=class extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","focusCapsule","inputDevice"])}processPrimitive(s){switch(s){case"keep":return this._restoreLostFocus();case"restore":return this._restorePreviousFocusForLocation();case"target":case!0:return this._focusElement(this.fragment);case"layer":return this._focusElement(this.layer.getFocusElement());case"main":return this._focusSelector(":main");case"hash":return this._focusHash();case"autofocus":return this._autofocus();default:if(n.isString(s))return this._focusSelector(s)}}processElement(s){return this._focusElement(s)}resolveCondition(s){return s==="lost"?this._wasFocusLost():super.resolveCondition(s)}_focusSelector(s){let l=this.findSelector(s);return this._focusElement(l)}_restoreLostFocus(){var s;return(s=this.focusCapsule)==null?void 0:s.restore(this.layer,o)}_restorePreviousFocusForLocation(){return up.viewport.restoreFocus({layer:this.layer})}_autofocus(){let s=this.fragment&&a.subtreeFirst(this.fragment,"[autofocus]");if(s)return this._focusElement(s)}_focusElement(s){if(s)return up.focus(s,{force:!0,...o,inputDevice:this.inputDevice}),!0}_focusHash(){let s=up.viewport.firstHashTarget(this.hash,{layer:this.layer});if(s)return this._focusElement(s)}_wasFocusLost(){var s;return(s=this.focusCapsule)==null?void 0:s.wasLost()}}},()=>{const n=up.element;up.FragmentPolling=class{constructor(o){this._options=up.radio.pollOptions(o),this._fragment=o,up.destructor(o,this._onFragmentDestroyed.bind(this)),up.fragment.onAborted(o,this._onFragmentAborted.bind(this)),this._state="initialized",this._abortable=!0,this._loading=!1,this._satisfyInterval()}static forFragment(o){return o.upPolling||(o.upPolling=new this(o))}onPollAttributeObserved(){this._start()}_onFragmentDestroyed(){this._stop()}_start(o){if(Object.assign(this._options,o),this._state!=="started"){if(!up.fragment.isTargetable(this._fragment)){up.warn("[up-poll]","Cannot poll untargetable fragment %o",this._fragment);return}this._state="started",this._ensureEventsBound(),this._scheduleRemainingTime()}}_stop(){var o;this._state==="started"&&(this._clearReloadTimer(),this._state="stopped",(o=this.unbindEvents)==null||o.call(this))}forceStart(o){Object.assign(this._options,o),this.forceStarted=!0,this._start()}forceStop(){this._stop(),this.forceStarted=!1}_ensureEventsBound(){this.unbindEvents||(this.unbindEvents=up.on("visibilitychange up:layer:opened up:layer:dismissed up:layer:accepted",this._onVisibilityChange.bind(this)))}_onVisibilityChange(){this._isFragmentVisible()&&this._scheduleRemainingTime()}_isFragmentVisible(){return!document.hidden&&(this._options.ifLayer==="any"||this._isOnFrontLayer())}_clearReloadTimer(){clearTimeout(this._reloadTimer),this._reloadTimer=null}_scheduleRemainingTime(){!this._reloadTimer&&!this._loading&&(this._clearReloadTimer(),this._reloadTimer=setTimeout(this._onTimerReached.bind(this),this._getRemainingDelay()))}_onTimerReached(){this._reloadTimer=null,this._tryReload()}_tryReload(){if(this._state==="started"){if(!this._isFragmentVisible()){up.puts("[up-poll]","Will not poll hidden fragment");return}this._reloadNow()}}_getFullDelay(){return this._options.interval??n.numberAttr(this._fragment,"up-interval")??up.radio.config.pollInterval}_getRemainingDelay(){return Math.max(this._getFullDelay()-this._getFragmentAge(),0)}_getFragmentAge(){return new Date-this._lastAttempt}_isOnFrontLayer(){var o,t;return this.layer||(this.layer=up.layer.get(this._fragment)),(t=(o=this.layer)==null?void 0:o.isFront)==null?void 0:t.call(o)}_reloadNow(){this._clearReloadTimer();let o=this._abortable;try{this._abortable=!1,this._loading=!0,up.reload(this._fragment,this._reloadOptions()).then(this._onReloadSuccess.bind(this),this._onReloadFailure.bind(this))}finally{this._abortable=o}}_reloadOptions(){let o=up.event.build("up:fragment:poll",{log:["Polling fragment",this._fragment]});return{...this._options,guardEvent:o}}_onFragmentAborted({newLayer:o}){this._abortable&&!o&&this._stop()}_onReloadSuccess({fragment:o}){this._loading=!1,this._satisfyInterval(),o?this._onFragmentSwapped(o):this._scheduleRemainingTime()}_onFragmentSwapped(o){this._stop(),this.forceStarted&&up.fragment.matches(this._fragment,o)&&this.constructor.forFragment(o).forceStart(this._options)}_onReloadFailure(o){this._loading=!1,this._satisfyInterval(),this._scheduleRemainingTime(),up.error.throwCritical(o)}_satisfyInterval(){this._lastAttempt=new Date}}},()=>{const n=up.util;up.FragmentScrolling=class extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","mode","revealTop","revealMax","revealSnap","scrollBehavior"])}processPrimitive(o){switch(o){case"reset":return this._reset();case"layer":return this._revealLayer();case"main":return this._revealSelector(":main");case"restore":return this._restore();case"hash":return this.hash&&up.viewport.revealHash(this.hash,this.attributes());case"target":case"reveal":case!0:return this._revealElement(this.fragment);default:if(n.isString(o))return this._revealSelector(o)}}processElement(o){return this._revealElement(o)}_revealElement(o){if(o)return up.reveal(o,this.attributes()),!0}_revealSelector(o){let t=this.findSelector(o);return this._revealElement(t)}_revealLayer(){return this._revealElement(this.layer.getBoxElement())}_reset(){return up.viewport.resetScroll({...this.attributes(),around:this.fragment}),!0}_restore(){return up.viewport.restoreScroll({...this.attributes(),around:this.fragment})}}},()=>{const n=up.element,a=up.util;up.Layer=class extends up.Record{keys(){return["element","stack","history","mode","context","lastScrollTops","lastFocusCapsules"]}defaults(){return{context:{},lastScrollTops:up.viewport.newStateCache(),lastFocusCapsules:up.viewport.newStateCache()}}constructor(t={}){if(super(t),!this.mode)throw"missing { mode } option"}setupHandlers(){up.link.convertClicks(this)}teardownHandlers(){}mainTargets(){return up.layer.mainTargets(this.mode)}sync(){}accept(){throw new up.NotImplemented}dismiss(){throw new up.NotImplemented}peel(t){this.stack.peel(this,t)}evalOption(t){return a.evalOption(t,this)}isCurrent(){return this.stack.isCurrent(this)}isFront(){return this.stack.isFront(this)}isRoot(){return this.stack.isRoot(this)}isOverlay(){return this.stack.isOverlay(this)}isOpen(){return this.stack.isOpen(this)}isClosed(){return this.stack.isClosed(this)}get parent(){return this.stack.parentOf(this)}get child(){return this.stack.childOf(this)}get ancestors(){return this.stack.ancestorsOf(this)}get descendants(){return this.stack.descendantsOf(this)}get subtree(){return[this,...this.descendants]}get index(){return this._index??(this._index=this.stack.indexOf(this))}getContentElement(){return this.contentElement||this.element}getBoxElement(){return this.boxElement||this.element}getFocusElement(){return this.getBoxElement()}getFirstSwappableElement(){throw new up.NotImplemented}contains(t){return t.closest(up.layer.anySelector())===this.element}on(...t){return this._buildEventListenerGroup(t).bind()}off(...t){return this._buildEventListenerGroup(t).unbind()}_buildEventListenerGroup(t){return up.EventListenerGroup.fromBindArgs(t,{guard:s=>this._containsEventTarget(s),elements:[this.element],baseLayer:this})}_containsEventTarget(t){return this.contains(t.target)}wasHitByMouseEvent({clientX:t,clientY:s}){const l=document.elementFromPoint(t,s);return!l||this.contains(l)}_buildEventEmitter(t){return up.EventEmitter.fromEmitArgs(t,{layer:this})}emit(...t){return this._buildEventEmitter(t).emit()}isDetached(){return!this.element.isConnected}saveHistory(){this.history&&(this.savedTitle=document.title,this.savedMetaTags=up.history.findMetaTags(),this.savedLocation=up.history.location,this.savedLang=up.history.getLang())}restoreHistory(){this.showsLiveHistory()&&(this.savedLocation&&up.history.push(this.savedLocation),this.savedTitle&&(document.title=this.savedTitle),this.savedMetaTags&&up.history.updateMetaTags(this.savedMetaTags),a.isString(this.savedLang)&&up.history.updateLang(this.savedLang))}asCurrent(t){return this.stack.asCurrent(this,t)}updateHistory(t){var s,l;a.isString(t.location)&&(this.location=t.location),up.history.config.updateMetaTags&&a.isList(t.metaTags)&&((l=(s=up.migrate)==null?void 0:s.warnOfHungryMetaTags)==null||l.call(s,t.metaTags),this.metaTags=t.metaTags),a.isString(t.title)&&(this.title=t.title),a.isString(t.lang)&&(this.lang=t.lang)}showsLiveHistory(){return this.history&&this.isFront()}get title(){return this.showsLiveHistory()?document.title:this.savedTitle}set title(t){this.savedTitle=t,this.showsLiveHistory()&&(document.title=t)}get metaTags(){return this.showsLiveHistory()?up.history.findMetaTags():this.savedMetaTags}set metaTags(t){this.savedMetaTags=t,this.showsLiveHistory()&&up.history.updateMetaTags(t)}get lang(){return this.showsLiveHistory()?up.history.getLang():this.savedLang}set lang(t){this.savedLang=t,this.showsLiveHistory()&&up.history.updateLang(t)}get location(){return this.showsLiveHistory()?up.history.location:this.savedLocation}set location(t){const s=this.location;t=a.normalizeURL(t),(s!==t||this.opening)&&(this.savedLocation=t,this.showsLiveHistory()&&up.history.push(t),this.opening||this.emit("up:layer:location:changed",{location:t}))}selector(t){return this.constructor.selector(t)}static selector(t){throw new up.NotImplemented}toString(){throw new up.NotImplemented}affix(...t){return n.affix(this.getFirstSwappableElement(),...t)}[a.isEqual.key](t){return this.constructor===t.constructor&&this.element===t.element}hasFocus(){let t=document.activeElement;return t!==document.body&&this.element.contains(t)}reset(){Object.assign(this,this.defaults())}}},()=>{var n;const a=up.element,o=up.util;up.Layer.Overlay=(n=class extends up.Layer{keys(){return[...super.keys(),...this.constructor.VISUAL_KEYS,"onOpened","onAccept","onAccepted","onDismiss","onDismissed","acceptEvent","dismissEvent","acceptLocation","dismissLocation","opening"]}constructor(s){super(s),this.dismissable===!0?this.dismissable=["button","key","outside"]:this.dismissable===!1?this.dismissable=[]:this.dismissable=o.getSimpleTokens(this.dismissable),this.acceptLocation&&(this.acceptLocation=new up.URLPattern(this.acceptLocation)),this.dismissLocation&&(this.dismissLocation=new up.URLPattern(this.dismissLocation))}callback(s){let l=this[s];if(l)return l.bind(this)}createElement(s){this.nesting||(this.nesting=this._suggestVisualNesting());const l=o.compactObject(o.pick(this,["align","position","size","class","nesting"]));this.element=this.affixPart(s,null,l)}createBackdropElement(s){this.backdropElement=this.affixPart(s,"backdrop")}createViewportElement(s){this.viewportElement=this.affixPart(s,"viewport",{"up-viewport":""})}createBoxElement(s){this.boxElement=this.affixPart(s,"box")}createContentElement(s){this.contentElement=this.affixPart(s,"content")}setContent(s){this.contentElement.append(s),this.onContentSet()}onContentSet(){}createDismissElement(s){return this.dismissElement=this.affixPart(s,"dismiss",{"up-dismiss":'":button"',"aria-label":this.dismissARIALabel}),a.affix(this.dismissElement,'span[aria-hidden="true"]',{text:this.dismissLabel})}affixPart(s,l,u={}){return a.affix(s,this.selector(l),u)}static selector(s){return o.compact(["up",this.mode,s]).join("-")}_suggestVisualNesting(){const{parent:s}=this;return this.mode===s.mode?1+s._suggestVisualNesting():0}setupHandlers(){var s,l;super.setupHandlers(),this.overlayFocus=new up.OverlayFocus(this),this._supportsDismissMethod("button")&&this.createDismissElement(this.getBoxElement()),this._supportsDismissMethod("outside")&&(this.viewportElement?up.on(this.viewportElement,"up:click",u=>{u.target===this.viewportElement&&this._onOutsideClicked(u,!0)}):this.unbindParentClicked=this.parent.on("up:click",(u,d)=>{if(!up.layer.isWithinForeignOverlay(d)){const h=this.origin&&this.origin.contains(d);this._onOutsideClicked(u,h)}})),this._supportsDismissMethod("key")&&(this.unbindEscapePressed=up.event.onEscape(u=>this.onEscapePressed(u))),this.registerClickCloser("up-accept",(u,d)=>{this.accept(u,d)}),this.registerClickCloser("up-dismiss",(u,d)=>{this.dismiss(u,d)}),(l=(s=up.migrate).registerLayerCloser)==null||l.call(s,this),this._registerEventCloser(this.acceptEvent,this.accept),this._registerEventCloser(this.dismissEvent,this.dismiss),this.on("up:click","label[for]",(u,d)=>this._onLabelClicked(u,d))}_onLabelClicked(s,l){let u=l.getAttribute("for"),d=up.form.fieldSelector(a.idSelector(u)),h=up.fragment.all(d,{layer:"any"}),g=up.fragment.all(d,{layer:this});if(h.length>1&&g[0]!==h[0]){s.preventDefault();const R=g[0];R.focus(),R.matches("input[type=checkbox], input[type=radio]")&&R.click()}}_onOutsideClicked(s,l){up.log.putsEvent(s),l&&up.event.halt(s),up.error.muteUncriticalSync(()=>this.dismiss(":outside",{origin:s.target}))}onEscapePressed(s){if(this.isFront()){let l=up.form.focusedField();l?l.blur():this._supportsDismissMethod("key")&&(up.event.halt(s,{log:!0}),up.error.muteUncriticalSync(()=>this.dismiss(":key")))}}registerClickCloser(s,l){let u=`[${s}]`;this.on("up:click",u,function(d){up.event.halt(d,{log:!0});const h=d.target.closest(u),g=a.jsonAttr(h,s),R={origin:h},$=new up.OptionsParser(h,R);$.booleanOrString("animation"),$.string("easing"),$.number("duration"),$.string("confirm"),up.error.muteUncriticalSync(()=>l(g,R))})}_registerEventCloser(s,l){if(s)return this.on(s,u=>{u.preventDefault(),up.error.muteUncriticalSync(()=>l.call(this,u,{response:u.response}))})}tryAcceptForLocation(s){this._tryCloseForLocation(this.acceptLocation,this.accept,s)}tryDismissForLocation(s){this._tryCloseForLocation(this.dismissLocation,this.dismiss,s)}_tryCloseForLocation(s,l,u){let d,h;if(s&&(d=this.location)&&(h=s.recognize(d))){const g={...h,location:d};up.error.muteUncriticalSync(()=>l.call(this,g,u))}}teardownHandlers(){var s,l;super.teardownHandlers(),(s=this.unbindParentClicked)==null||s.call(this),(l=this.unbindEscapePressed)==null||l.call(this),this.overlayFocus.teardown()}destroyElements(s){const d={...s,animation:()=>this.startCloseAnimation(s),onFinished:()=>{var h;this.onElementsRemoved(),(h=s.onFinished)==null||h.call(s)},log:!1};up.destroy(this.element,d)}onElementsRemoved(){}_startAnimation(s={}){const l=up.animate(this.getBoxElement(),s.boxAnimation,s);let u;return this.backdrop&&!up.motion.isNone(s.boxAnimation)&&(u=up.animate(this.backdropElement,s.backdropAnimation,s)),Promise.all([l,u])}async startOpenAnimation(s={}){let l=s.animation??this.evalOption(this.openAnimation);await this._startAnimation({boxAnimation:l,backdropAnimation:"fade-in",easing:s.easing||this.openEasing,duration:s.duration||this.openDuration}),this.wasEverVisible=!0}startCloseAnimation(s={}){let l=this.wasEverVisible&&(s.animation??this.evalOption(this.closeAnimation));return this._startAnimation({boxAnimation:l,backdropAnimation:"fade-out",easing:s.easing||this.closeEasing,duration:s.duration||this.closeDuration})}accept(s=null,l={}){return this._executeCloseChange("accept",s,l)}dismiss(s=null,l={}){return this._executeCloseChange("dismiss",s,l)}_supportsDismissMethod(s){return o.contains(this.dismissable,s)}_executeCloseChange(s,l,u){return u={...u,verb:s,value:l,layer:this},new up.Change.CloseLayer(u).execute()}getFirstSwappableElement(){return this.getContentElement().children[0]}toString(){return`${this.mode} overlay`}},n.VISUAL_KEYS=["mode","position","align","size","origin","class","backdrop","dismissable","dismissLabel","dismissARIALabel","openAnimation","closeAnimation","openDuration","closeDuration","openEasing","closeEasing","trapFocus"],n)},()=>{up.Layer.OverlayWithTether=class extends up.Layer.Overlay{createElements(){this.origin||up.fail("Missing { origin } option"),this._tether=new up.Tether({anchor:this.origin,align:this.align,position:this.position}),this.createElement(this._tether.parent),this.createContentElement(this.element)}onContentSet(){this._tether.start(this.element)}onElementsRemoved(){this._tether.stop()}sync(){this.isOpen()&&(this.isDetached()||this._tether.isDetached()?this.dismiss(":detached",{animation:!1,preventable:!1}):this._tether.sync())}}},()=>{up.Layer.OverlayWithViewport=class extends up.Layer.Overlay{static getParentElement(){return document.body}createElements(){up.viewport.bodyShifter.raiseStack(),this.createElement(this.constructor.getParentElement()),this.backdrop&&this.createBackdropElement(this.element),this.createViewportElement(this.element),this.createBoxElement(this.viewportElement),this.createContentElement(this.boxElement)}onElementsRemoved(){up.viewport.bodyShifter.lowerStack()}sync(){this.isDetached()&&this.isOpen()&&this.constructor.getParentElement().appendChild(this.element)}}},()=>{var n;const a=up.element;up.Layer.Root=(n=class extends up.Layer{get element(){return a.root}constructor(t){super(t),this.setupHandlers()}getFirstSwappableElement(){return document.body}static selector(){return"html"}setupHandlers(){this.element.upHandlersApplied||(this.element.upHandlersApplied=!0,super.setupHandlers())}sync(){this.setupHandlers()}accept(){this._cannotCloseRoot()}dismiss(){this._cannotCloseRoot()}_cannotCloseRoot(){up.fail("Cannot close the root layer")}toString(){return"root layer"}},n.mode="root",n)},()=>{var n;up.Layer.Modal=(n=class extends up.Layer.OverlayWithViewport{},n.mode="modal",n)},()=>{var n;up.Layer.Popup=(n=class extends up.Layer.OverlayWithTether{},n.mode="popup",n)},()=>{var n;up.Layer.Drawer=(n=class extends up.Layer.OverlayWithViewport{},n.mode="drawer",n)},()=>{var n;up.Layer.Cover=(n=class extends up.Layer.OverlayWithViewport{},n.mode="cover",n)},()=>{var n;const a=up.util,o=up.element;up.LayerLookup=(n=class{constructor(s,l){this._stack=s,l.normalizeLayerOptions!==!1&&up.layer.normalizeOptions(l),this._options=l,this._values=a.getSimpleTokens(l.layer)}all(){let s=a.flatMap(this._values,l=>this._resolveValue(l));return s=a.compact(s),s=a.uniq(s),s}static all(s,...l){const u=a.parseArgIntoOptions(l,"layer"),{layer:d}=u;return d instanceof up.Layer?[d]:new this(s,u).all()}_forElement(s){return s=o.get(s),a.find(this._stack.reversed(),l=>l.contains(s))}_forIndex(s){return this._stack.at(s)}_resolveValue(s){if(s instanceof up.Layer)return s;if(a.isNumber(s))return this._forIndex(s);if(/^\d+$/.test(s))return this._forIndex(Number(s));if(a.isElementLike(s))return this._forElement(s);switch(s){case"any":return[this._getBaseLayer(),...this._stack.reversed()];case"current":return this._getBaseLayer();case"closest":return this._stack.selfAndAncestorsOf(this._getBaseLayer());case"parent":return this._getBaseLayer().parent;case"ancestor":case"ancestors":return this._getBaseLayer().ancestors;case"child":return this._getBaseLayer().child;case"descendant":case"descendants":return this._getBaseLayer().descendants;case"subtree":return this._getBaseLayer().subtree;case"new":return"new";case"root":return this._stack.root;case"overlay":case"overlays":return a.reverse(this._stack.overlays);case"front":return this._stack.front;case"origin":return this._getOriginLayer();default:return up.fail("Unknown { layer } option: %o",s)}}_getOriginLayer(){let{origin:s,originLayer:l}=this._options;if(l)return l;if(s)return this._forElement(s)}_getBaseLayer(){let{baseLayer:s}=this._options;if(a.isString(s)){const l={...this._options,baseLayer:this._stack.current,normalizeLayerOptions:!1,layer:s};return this.constructor.all(this._stack,l)[0]}else return s||this._getOriginLayer()||this._stack.current}},a.memoizeMethod(n.prototype,{_getBaseLayer:!0,_getOriginLayer:!0}),n)},()=>{const n=up.util;up.LayerStack=class{constructor(){this._currentOverrides=[],this.layers=[this._buildRoot()]}_buildRoot(){return up.layer.build({mode:"root",stack:this})}remove(o){n.remove(this.layers,o)}peel(o,t){const s=n.reverse(o.descendants),l={...t,preventable:!1};for(let u of s)u.dismiss(":peel",l)}reset(){this.peel(this.root,{animation:!1}),this._currentOverrides=[],this.root.reset()}isOpen(o){return n.contains(this.layers,o)}isClosed(o){return!this.isOpen(o)}parentOf(o){return this.layers[o.index-1]}childOf(o){return this.layers[o.index+1]}ancestorsOf(o){return n.reverse(this.layers.slice(0,o.index))}selfAndAncestorsOf(o){return[o,...o.ancestors]}descendantsOf(o){return this.layers.slice(o.index+1)}isRoot(o){return this.root===o}isOverlay(o){return this.root!==o}isCurrent(o){return this.current===o}isFront(o){return this.front===o}get(...o){return this.getAll(...o)[0]}getAll(...o){return up.LayerLookup.all(this,...o)}sync(){for(let o of this.layers)o.sync()}asCurrent(o,t){try{return this._currentOverrides.push(o),t()}finally{this._currentOverrides.pop()}}reversed(){return n.reverse(this.layers)}dismissOverlays(o=null,t={}){t.dismissable=!1;for(let s of n.reverse(this.overlays))s.dismiss(o,t)}at(o){return this.layers[o]}indexOf(o){return this.layers.indexOf(o)}get count(){return this.layers.length}get root(){return this.layers[0]}get overlays(){return this.root.descendants}get current(){return n.last(this._currentOverrides)||this.front}get front(){return n.last(this.layers)}}},()=>{const n=up.util;up.LinkCurrentURLs=class{constructor(o){if(this._isSafe=up.link.isSafe(o),this._isSafe){const t=o.getAttribute("href");t&&t!=="#"&&(this._href=n.matchableURL(t));const s=o.getAttribute("up-href");s&&(this._upHREF=n.matchableURL(s));const l=o.getAttribute("up-alias");l&&(this._aliasPattern=new up.URLPattern(l))}}isCurrent(o){var t,s;return o?!!(this._href===o||this._upHREF===o||(s=(t=this._aliasPattern)==null?void 0:t.test)!=null&&s.call(t,o,!1)):!1}}},()=>{const n=up.util,a=up.element;up.LinkFollowIntent=class{constructor(t,s){this._link=t,this._callback=s,this._lastRequest=null,this._on("mouseenter mousedown touchstart",l=>this._scheduleCallback(l)),this._on("mouseleave",()=>this._unscheduleCallback()),up.fragment.onAborted(this._link,()=>this._unscheduleCallback())}_on(t,s){up.on(this._link,t,{passive:!0},s)}_scheduleCallback(t){if(!up.link.shouldFollowEvent(t,this._link))return;if(this._unscheduleCallback(),t.type==="mouseenter"){let l=this._parseDelay();this._timer=n.timer(l,()=>this._runCallback(t))}else this._runCallback(t)}_unscheduleCallback(){var t;clearTimeout(this._timer),(t=this._lastRequest)!=null&&t.background&&this._lastRequest.abort(),this._lastRequest=null}_parseDelay(){return a.numberAttr(this._link,"up-preload-delay")??up.link.config.preloadDelay}_runCallback(t){up.log.putsEvent(t),this._callback({onRequestKnown:s=>this._lastRequest=s})}}},()=>{const n=up.util,a=up.element;up.MotionController=class{constructor(t){this._activeClass=`up-${t}`,this._selector=`.${this._activeClass}`,this.finishEvent=`up:${t}:finish`,this.finishCount=0,this._clusterCount=0}startFunction(t,s,l={}){t=a.list(t);const u=()=>up.error.muteUncriticalRejection(s());if(l.trackMotion=l.trackMotion??up.motion.isEnabled(),l.trackMotion===!1)return u();{l.trackMotion=!1,this.finish(t),this._markCluster(t);let d=this._whileForwardingFinishEvent(t,u);return d=d.then(()=>this._unmarkCluster(t)),d}}finish(t){var s,l;if(this.finishCount++,!(this._clusterCount===0||!up.motion.isEnabled())){t=this._expandFinishRequest(t);for(let u of t)this._finishOneElement(u);return(l=(s=up.migrate).formerlyAsync)==null?void 0:l.call(s,"up.motion.finish()")}}_expandFinishRequest(t){return t?n.flatMap(t,s=>a.list(s.closest(this._selector),s.querySelectorAll(this._selector))):document.querySelectorAll(this._selector)}isActive(t){return t.classList.contains(this._activeClass)}_finishOneElement(t){this._emitFinishEvent(t)}_emitFinishEvent(t,s={}){return s={target:t,log:!1,...s},up.emit(this.finishEvent,s)}_markCluster(t){this._clusterCount++,this._toggleActive(t,!0)}_unmarkCluster(t){this._clusterCount--,this._toggleActive(t,!1)}_toggleActive(t,s){for(let l of t)l.classList.toggle(this._activeClass,s)}_whileForwardingFinishEvent(t,s){if(t.length<2)return s();const l=d=>{if(!d.forwarded)for(let h of t)h!==d.target&&this.isActive(h)&&this._emitFinishEvent(h,{forwarded:!0})},u=up.on(t,this.finishEvent,l);return s().then(u)}async reset(){await this.finish(),this.finishCount=0,this._clusterCount=0}}},()=>{const n=up.util,a=up.element;up.NonceableCallback=class{constructor(t,s){this.script=t,this.nonce=s}static fromString(t){let s=t.match(/^(nonce-([^\s]+)\s)?(.*)$/);return new this(s[3],s[2])}toFunction(...t){let s=this.script;if(this.nonce){let l=this;return function(...u){return l._runAsNoncedFunction(s,this,t,u)}}else return new Function(...t,s)}toString(){return`nonce-${this.nonce} ${this.script}`}_runAsNoncedFunction(t,s,l,u){let d=`
      try {
        up.noncedEval.value = (function(${l.join()}) {
          ${t}
        }).apply(up.noncedEval.thisArg, up.noncedEval.args)
      } catch (error) {
        up.noncedEval.error = error
      }
    `,h;try{if(up.noncedEval={args:u,thisArg:s},h=a.affix(document.body,"script",{nonce:this.nonce,text:d}),up.noncedEval.error)throw up.noncedEval.error;return up.noncedEval.value}finally{up.noncedEval=void 0,h&&h.remove()}}_allowedBy(t){return this.nonce&&n.contains(t,this.nonce)}static adoptNonces(t,s){if(!(s!=null&&s.length))return;const l=n.memoize(up.protocol.cspNonce);n.each(up.script.config.nonceableAttributes,u=>{let d=a.subtree(t,`[${u}^="nonce-"]`);n.each(d,h=>{let g=h.getAttribute(u),R=this.fromString(g),$=(O,...z)=>up.log.warn("up.render()",`Cannot use callback [${u}="${g}"]: ${O}`,...z);if(!R._allowedBy(s))return $("Callback's CSP nonce (%o) does not match response header (%o)",R.nonce,s);let X=l();if(!X)return $("Current page's CSP nonce is unknown");R.nonce=X,h.setAttribute(u,R.toString())})})}}},()=>{const n=up.element,a=up.util;up.OverlayFocus=class{constructor(t){this._layer=t,this._focusElement=this._layer.getFocusElement(),this._trapFocus=this._layer.trapFocus}moveToFront(){this._active||(this._active=!0,this._unsetAttrs=n.setAttrsTemp(this._focusElement,{tabindex:"0",role:"dialog","aria-modal":this._trapFocus.toString()}),this._trapFocus&&(this._untrapFocus=up.on("focusin",t=>this._onFocus(t)),this._focusTrapBefore=n.affix(this._focusElement,"beforebegin","up-focus-trap[tabindex=0]"),this._focusTrapAfter=n.affix(this._focusElement,"afterend","up-focus-trap[tabindex=0]")))}moveToBack(){this.teardown()}teardown(){this._active&&(this._active=!1,this._unsetAttrs(),this._trapFocus&&(this._untrapFocus(),this._focusTrapBefore.remove(),this._focusTrapAfter.remove()))}_onFocus(t){const{target:s}=t;this._processingFocusEvent||up.layer.isWithinForeignOverlay(s)||(this._processingFocusEvent=!0,s===this._focusTrapBefore?this._focusEnd():(s===this._focusTrapAfter||!this._layer.contains(s))&&this._focusStart(),this._processingFocusEvent=!1)}_focusStart(t){up.focus(this._focusElement,t)}_focusEnd(){this._focusLastDescendant(this._layer.getBoxElement())||this._focusStart()}_focusLastDescendant(t){for(let s of a.reverse(t.children))if(up.viewport.tryFocus(s)||this._focusLastDescendant(s))return!0}}},()=>{const n=up.util,a=up.element;up.Params=class{constructor(t){this.clear(),this.addAll(t)}clear(){this.entries=[]}[n.copy.key](){return new up.Params(this)}toObject(){const t={};for(let s of this.entries){const{name:l,value:u}=s;n.isBasicObjectProperty(l)||(this._isArrayKey(l)?(t[l]||(t[l]=[]),t[l].push(u)):t[l]=u)}return t}toArray(){return this.entries}toFormData(){const t=new FormData;for(let s of this.entries)t.append(s.name,s.value);return t.entries||(t.originalArray=this.entries),t}toQuery(){let t=n.map(this.entries,this._arrayEntryToQuery.bind(this));return t=n.compact(t),t.join("&")}_arrayEntryToQuery(t){const{value:s}=t;if(this._isBinaryValue(s))return;let l=encodeURIComponent(t.name);return n.isGiven(s)&&(l+="=",l+=encodeURIComponent(s)),l}_isBinaryValue(t){return t instanceof Blob}hasBinaryValues(){const t=n.map(this.entries,"value");return n.some(t,this._isBinaryValue)}toURL(t){let s=[t,this.toQuery()];s=n.filter(s,n.isPresent);const l=n.contains(t,"?")?"&":"?";return s.join(l)}add(t,s){this.entries.push({name:t,value:s})}addAll(t){n.isMissing(t)||(t instanceof this.constructor?this.entries.push(...t.entries):n.isArray(t)?this.entries.push(...t):n.isString(t)?this._addAllFromQuery(t):n.isFormData(t)?this._addAllFromFormData(t):n.isObject(t)?this._addAllFromObject(t):up.fail("Unsupport params type: %o",t))}_addAllFromObject(t){for(let s in t){const l=t[s],u=n.isArray(l)?l:[l];for(let d of u)this.add(s,d)}}_addAllFromQuery(t){for(let s of t.split("&"))if(s){let[l,u]=s.split("=");l=decodeURIComponent(l),n.isGiven(u)?u=decodeURIComponent(u):u=null,this.add(l,u)}}_addAllFromFormData(t){for(let s of t.entries())this.add(...s)}set(t,s){this.delete(t),this.add(t,s)}delete(t){this.entries=n.reject(this.entries,this._matchEntryFn(t))}_matchEntryFn(t){return s=>s.name===t}get(t){return this._isArrayKey(t)?this.getAll(t):this.getFirst(t)}getFirst(t){const s=n.find(this.entries,this._matchEntryFn(t));return s==null?void 0:s.value}getAll(t){if(this._isArrayKey(t))return this.getAll(t);{const s=n.map(this.entries,this._matchEntryFn(t));return n.map(s,"value")}}_isArrayKey(t){return t.endsWith("[]")}[n.isBlank.key](){return this.entries.length===0}static fromForm(t){return this.fromContainer(t)}static fromContainer(t){let s=up.form.fields(t);return this.fromFields(s)}static fromFields(t){const s=new this;for(let l of n.wrapList(t))s.addField(l);return s}addField(t){t=a.get(t);let s=t.name;if(s&&!t.disabled){const{tagName:l}=t,{type:u}=t;if(l==="SELECT")for(let d of t.querySelectorAll("option"))d.selected&&this.add(s,d.value);else if(u==="checkbox"||u==="radio")t.checked&&this.add(s,t.value);else if(u==="file")for(let d of t.files)this.add(s,d);else return this.add(s,t.value)}}[n.isEqual.key](t){return this.constructor===t.constructor&&n.isEqual(this.entries,t.entries)}static fromURL(t){const s=new this;let u=n.parseURL(t).search;return u&&(u=u.replace(/^\?/,""),s.addAll(u)),s}static stripURL(t){return n.normalizeURL(t,{search:!1})}static merge(...t){return t.reduce(function(s,l){return s.addAll(l),s},new up.Params)}}},()=>{const n=up.util,a=up.element;up.Preview=class{constructor({fragment:t,request:s,renderOptions:l,cleaner:u}){this.fragment=t,this.request=s,this.renderOptions=l,this._cleaner=u}undo(...t){this.ended?reportError(new up.Error("Preview used after end of request")):this._cleaner.guard(...t)}get origin(){return this.request.origin}get params(){return this.request.params}get layer(){return this.request.layer}get ended(){return this.request.ended}get expiredResponse(){return this.renderOptions.expiredResponse}get revalidating(){return!!this.expiredResponse}run(t,s={}){for(let l of up.status.resolvePreviewFns(t))this.undo(up.error.guard(l,this,s))}revert(){this._cleaner.clean()}setAttrs(...t){let[s,l]=this._parseMutatorArgs(t,"val","val");this.undo(a.setAttrsTemp(s,l))}addClass(...t){let[s,l]=this._parseMutatorArgs(t,"val","val");this.undo(a.addClassTemp(s,l))}addClassBatch(t,s){for(let l of t)for(let u of s)this.addClass(l,u)}removeClass(...t){let[s,l]=this._parseMutatorArgs(t,"val","val");this.undo(a.removeClassTemp(s,l))}setStyle(...t){let[s,l]=this._parseMutatorArgs(t,"val","val");this.undo(a.setStyleTemp(s,l))}disable(...t){let[s]=this._parseMutatorArgs(t,"val");this.undo(up.form.disable(s))}insert(...t){let[s,l="beforeend",u]=this._parseMutatorArgs(t,"val",n.isAdjacentPosition,"val");this.undo(up.fragment.insertTemp(s,l,u))}show(...t){let[s]=this._parseMutatorArgs(t,"val");this.undo(a.showTemp(s))}hide(...t){let[s]=this._parseMutatorArgs(t,"val");this.undo(a.hideTemp(s))}hideContent(...t){let[s]=this._parseMutatorArgs(t,"val"),l=a.wrapChildren(s);a.hide(l),this.undo(()=>a.unwrap(l))}showPlaceholder(...t){let[s,l]=this._parseMutatorArgs(t,"val","val"),u=up.fragment.provideNodes(l,{origin:this.origin});up.puts("[up-placeholder]","Showing placeholder %o",l),s?this.swapContent(s,u):this.layer==="new"&&(this.openLayer(u,{closeAnimation:!1}),this.renderOptions.openAnimation=!1)}swapContent(...t){let[s,l]=this._parseMutatorArgs(t,"val","val");this.hideContent(s),this.insert(s,l)}openLayer(t,s={}){let l=":undo-preview",u=({value:h})=>{h!==l&&this.request.abort({reason:"Preview overlay dismissed"})};up.layer.open({...n.pick(this.renderOptions,[...up.Layer.Overlay.VISUAL_KEYS,"target"]),...s,content:t,abort:!1,onDismiss:u});let d=up.layer.front;return this.undo(()=>d.dismiss(l,{preventable:!1})),d}_parseMutatorArgs(t,...s){let[l,...u]=n.args(t,...s);return l=up.fragment.get(l,{layer:this.layer,origin:this.origin})||this.fragment,[l,...u]}}},()=>{const n=up.element,a=300;up.ProgressBar=class{constructor(){this._step=0,this._element=n.affix(document.body,"up-progress-bar"),this._element.style.transition=`width ${a}ms ease-out`,this._moveTo(0),n.paint(this._element),this._width=31,this._nextStep()}_nextStep(){let t;this._width<80?Math.random()<.15?t=7+5*Math.random():t=1.5+.5*Math.random():t=.13*(100-this._width)*Math.random(),this._moveTo(this._width+t),this._step++;const s=a+this._step*40;this.timeout=setTimeout(this._nextStep.bind(this),s)}_moveTo(t){this._width=t,this._element.style.width=`${t}vw`}destroy(){clearTimeout(this.timeout),this._element.remove()}conclude(){clearTimeout(this.timeout),this._moveTo(100),setTimeout(this.destroy.bind(this),a)}}},()=>{const n=up.util;up.RenderOptions=function(){const a={preview:!1,disable:!1,placeholder:!1,feedback:!1},o={scroll:!1,focus:"keep",confirm:!1},t={transition:!1,animation:!1,openAnimation:!1,closeAnimation:!1},l=["url","method","origin","headers","params","cache","fallback","abort","abortable","confirm","feedback","disable","placeholder","preview","origin","originLayer","baseLayer","navigate","fail","onError"].concat(["keep","hungry","history","source","saveScroll"]),u=["url","response","content","fragment","document"],d=["history","focus","scroll"];function h(I){if(I.navigate)return up.fragment.config.navigateOptions}function g({url:I}){if(I)return{url:n.normalizeURL(I)}}function R(I){n.renameKey(I,"useData","data"),n.renameKey(I,"useHungry","hungry"),n.renameKey(I,"useKeep","keep")}function $(I){var re,H;(H=(re=up.migrate).preprocessRenderOptions)==null||H.call(re,I),up.layer.normalizeOptions(I),R(I);const J=n.merge(up.fragment.config.renderOptions,h(I));return n.merge(n.omit(J,d),{defaults:J},{inputDevice:up.event.inputDevice},I,g(I),X(I))}function X({origin:I,originLayer:J}){if(I&&!J)return{originLayer:up.layer.get(I)}}function O(I,J){return n.merge(I.defaults,J,I)}function z(I){n.some(u,J=>n.isGiven(I[J]))||(I.defaultToEmptyContent?I.content="":up.fail("up.render() needs either { "+u.join(", ")+" } option"))}function ee(I){const J={};for(let re in I){const H=I[re];let k=up.fragment.successKey(re);k&&(J[k]=H)}return J}function Y(I){let J=ee(I);return I.failOptions?{...I.defaults,...n.pick(I,l),...J,failPrefixForced:!0}:{...I,...J}}return{preprocess:$,finalize:O,assertContentGiven:z,deriveFailOptions:Y,NO_PREVIEWS:a,NO_MOTION:t,NO_INPUT_INTERFERENCE:o}}()},()=>{up.RenderResult=class extends up.Record{keys(){return["fragments","layer","target","options","finished"]}defaults(){return{fragments:[]}}get none(){return!this.fragments.length}get fragment(){return this.fragments[0]}static both(a,o,t=!0){return o?new this({target:a.target,layer:a.layer,options:a.options,fragments:a.fragments.concat(o.fragments),finished:t&&this.mergeFinished(a,o)}):a}static async mergeFinished(a,o){return this.both(await a.finished,await o.finished,!1)}static buildNone(){return new this({target:":none",finished:Promise.resolve()})}}},()=>{var n;const a=up.util;up.Request=(n=class extends up.Record{keys(){return["method","url","hash","params","target","failTarget","headers","timeout","background","cache","expireCache","evictCache","layer","mode","context","failLayer","failMode","failContext","origin","builtAt","wrapMethod","contentType","payload","onLoading","fail","abortable","lateDelay","previews"]}defaults(){return{state:"new",abortable:!0,headers:{},timeout:up.network.config.timeout,builtAt:new Date,previews:[]}}constructor(t){var s,l;if(super(t),this.params=new up.Params(this.params),this.wrapMethod==null&&(this.wrapMethod=up.network.config.wrapMethod),this._normalize(),(this.target||this.layer||this.origin)&&!t.basic){const u={origin:this.origin};this.layer=up.layer.get(this.layer,u),this.failLayer=up.layer.get(this.failLayer,u),this.context||(this.context=this.layer.context||{}),this.failContext||(this.failContext=((s=this.failLayer)==null?void 0:s.context)||{}),this.mode||(this.mode=this.layer.mode),this.failMode||(this.failMode=(l=this.failLayer)==null?void 0:l.mode)}this.bindLayer=t.bindLayer||this.layer,this._fragments=t.fragments,this._bindFragments=t.bindFragments,this._deferred=a.newDeferred(),this._setAutoHeaders()}get effectiveLateTime(){return this.background?!1:this.lateDelay??a.evalOption(up.network.config.lateDelay,this)}isTimed(){return a.isNumber(this.effectiveLateTime)}get xhr(){return this._xhr??(this._xhr=new XMLHttpRequest)}get fragments(){return this._fragments||(this._fragments=this._findFragments())}_findFragments(){let t=up.fragment.parseTargetSteps(this.target),s={origin:this.origin,layer:this.layer},l=a.map(t,u=>up.fragment.get(u.selector,s));return a.compact(l)}get bindFragments(){return this._bindFragments||this.fragments}get fragment(){var t;return(t=this.fragments)==null?void 0:t[0]}_normalize(){this.method=a.normalizeMethod(this.method),this._extractHashFromURL(),this._transferParamsToURL(),this.url=a.normalizeURL(this.url)}_evictExpensiveAttrs(){a.task(()=>{this.layer=void 0,this.failLayer=void 0,this._bindLayer=void 0,this.origin=void 0,this._fragments=void 0,this._bindFragments=void 0})}_extractHashFromURL(){var s;let t=(s=this.url)==null?void 0:s.match(/^([^#]*)(#.+)$/);if(t)return this.url=t[1],this.hash=t[2]}_transferParamsToURL(){!this.url||this.allowsPayload()||a.isBlank(this.params)||(this.url=this.params.toURL(this.url),this.params.clear())}isSafe(){return up.network.isSafeMethod(this.method)}allowsPayload(){return a.methodAllowsPayload(this.method)}will302RedirectWithGET(){return this.isSafe()||this.method==="POST"}willCache(){return a.evalAutoOption(this.cache,up.network.config.autoCache,this)}runQueuedCallbacks(){a.always(this,()=>this._evictExpensiveAttrs())}load(){var t;if(this.state==="new"){if(this._emitLoad())return this.state="loading",this._normalize(),(t=this.onLoading)==null||t.call(this),this.expired=!1,new up.Request.XHRRenderer(this).buildAndSend({onload:()=>this._onXHRLoad(),onerror:()=>this._onXHRError(),ontimeout:()=>this._onXHRTimeout(),onabort:()=>this._onXHRAbort()}),!0;this.abort({reason:"Prevented by event listener"})}}runPreviews(t){!this.ended&&!this.fromCache&&(this._revertPreviews=up.status.runPreviews(this,t))}_emitLoad(){return!this.emit("up:request:load",{log:["Loading %s",this.description]}).defaultPrevented}loadPage(){up.network.abort(),new up.Request.FormRenderer(this).buildAndSubmit()}_onXHRLoad(){const t=this._extractResponseFromXHR(),s="Loaded "+t.description;this.emit("up:request:loaded",{request:t.request,response:t,log:s}),this.respondWith(t)}_onXHRError(){this._setOfflineState("Network error")}_onXHRTimeout(){this._setOfflineState("Timeout")}_onXHRAbort(){this._setAbortedState()}abort({reason:t}={}){this._setAbortedState(t)&&this._xhr&&this._xhr.abort()}_setAbortedState(t){if(this.ended)return;let s="Aborted request to "+this.description+(t?": "+t:"");return this.state="aborted",this._reject(new up.Aborted(s)),this.emit("up:request:aborted",{log:s}),!0}_setOfflineState(t){if(this.ended)return;let s="Cannot load request to "+this.description+(t?": "+t:"");this.state="offline",this.emit("up:request:offline",{log:s}),this._reject(new up.Offline(s))}respondWith(t){this.response=t,!this.ended&&(this.state="loaded",t.ok?this._resolve(t):this._reject(t))}_resolve(t){this._onSettle(),this._deferred.resolve(t)}_reject(t){this._onSettle(),this._deferred.reject(t)}_onSettle(){var t;(t=this._revertPreviews)==null||t.call(this)}get ended(){return this.state!=="new"&&this.state!=="loading"&&this.state!=="tracking"}csrfHeader(){return up.protocol.csrfHeader()}csrfParam(){return up.protocol.csrfParam()}csrfToken(){if(!this.isSafe()&&!this.isCrossOrigin())return up.protocol.csrfToken()}isCrossOrigin(){return a.isCrossOrigin(this.url)}_extractResponseFromXHR(){const t={method:this.method,url:this.url,request:this,xhr:this.xhr,text:this.xhr.responseText,status:this.xhr.status,title:up.protocol.titleFromXHR(this.xhr),target:up.protocol.targetFromXHR(this.xhr),acceptLayer:up.protocol.acceptLayerFromXHR(this.xhr),dismissLayer:up.protocol.dismissLayerFromXHR(this.xhr),eventPlans:up.protocol.eventPlansFromXHR(this.xhr),context:up.protocol.contextFromXHR(this.xhr),expireCache:up.protocol.expireCacheFromXHR(this.xhr),evictCache:up.protocol.evictCacheFromXHR(this.xhr),fail:this.fail};let s=up.protocol.methodFromXHR(this.xhr),l=up.protocol.locationFromXHR(this.xhr);return l&&(a.matchURLs(this.url,l)||s||(s="GET"),t.url=l),s&&(t.method=s),new up.Response(t)}_buildEventEmitter(t){return up.EventEmitter.fromEmitArgs(t,{layer:this.bindLayer,request:this,origin:this.origin})}emit(...t){return this._buildEventEmitter(t).emit()}assertEmitted(...t){this._buildEventEmitter(t).assertEmitted()}get description(){return this.method+" "+this.url}isBoundToSubtrees(t){return t=a.wrapList(t),a.some(this.bindFragments,function(s){return a.some(t,l=>l.contains(s))})}isBoundToLayers(t){return a.contains(t,this.bindLayer)}get age(){return new Date-this.builtAt}header(t){return this.headers[t]}_setAutoHeaders(){for(let l of["target","failTarget","mode","failMode","context","failContext"])this._setPropertyHeader(l);let t,s;(t=this.csrfHeader())&&(s=this.csrfToken())&&this._setAutoHeader(t,s),this._setAutoHeader(up.protocol.headerize("version"),up.version)}_setPropertyHeader(t){this._setAutoHeader(up.protocol.headerize(t),this[t])}_setAutoHeader(t,s){a.isMissing(s)||((a.isOptions(s)||a.isArray(s))&&(s=a.safeStringifyJSON(s)),this.headers[t]=s)}mergeIfUnsent(t){if(this.state!=="new"||!this.target||!t.target)return;let s=up.fragment.splitTarget(this.target+","+t.target);this.target=a.uniq(s).join(", "),this._setPropertyHeader("target"),this._fragments=a.uniq([...this.fragments,...t.fragments])}static tester(t,{except:s}={}){let l;if(a.isFunction(t))l=t;else if(t instanceof this)l=u=>t===u;else if(a.isString(t)){let u=new up.URLPattern(t);l=d=>u.test(d.url)}else l=u=>t;return s?u=>!up.cache.willHaveSameResponse(u,s)&&l(u):l}},a.delegatePromise(n.prototype,function(){return this._deferred}),n)},()=>{const n=up.util;class a{constructor(){this.varyHeaders=new Set,this.requests=[]}matchBest(t){let s=this.requests.filter(l=>this.satisfies(l,t));return n.last(s)}delete(t){n.remove(this.requests,t)}put(t){this.requests.push(t)}updateVary(t){for(let s of t.varyHeaderNames)this.varyHeaders.add(s)}satisfies(t,s){return t===s?!0:n.every(this.varyHeaders,l=>{let u=t.header(l),d=s.header(l);if(l==="X-Up-Target"||l==="X-Up-Fail-Target"){if(!u)return!0;if(!d)return!1;let h=up.fragment.splitTarget(u),g=up.fragment.splitTarget(d);return n.containsAll(h,g)}else return u===d})}}up.Request.Cache=class{constructor(){this.reset()}reset(){this._routes={},this._requests=[]}get(t){t=this._wrap(t);let s=this._getRoute(t),l=s.matchBest(t);if(l){if(this._isUsable(l))return l;this._delete(t,s)}}async put(t){t=this._wrap(t);let s=this._getRoute(t),{response:l}=t;l&&s.updateVary(l);let u=s.requests.filter(d=>s.satisfies(t,d));for(let d of u)this._delete(d);t.cacheRoute=s,s.put(t),this._requests.push(t),this._limitSize()}alias(t,s){if(t=this.get(t),!!t)return s=this._wrap(s),this.track(t,s,{force:!0}),this.put(s),s}async track(t,s,l={}){var d;s.trackedRequest=t,s.state="tracking";let u;t.ended&&t.response?u=t.response:u=await n.always(t),u instanceof up.Response?l.force||t.cacheRoute.satisfies(t,s)?(s.fromCache=!0,u=n.variant(u,{request:s}),s.respondWith(u),n.delegate(s,["expired","state"],()=>t)):(delete s.trackedRequest,s.state="new",(d=l.onIncompatible)==null||d.call(l,s)):(s.state=t.state,s._reject(u))}willHaveSameResponse(t,s){return t===s||t===s.trackedRequest}evict(t=!0,s){this._eachMatch(t,s,l=>this._delete(l))}expire(t=!0,s){this._eachMatch(t,s,l=>l.expired=!0)}reindex(t){this._delete(t),delete t.cacheRoute,this.put(t)}_delete(t){var s;n.remove(this._requests,t),(s=t.cacheRoute)==null||s.delete(t)}_getRoute(t){var s,l;return t.cacheRoute||(s=this._routes)[l=t.description]||(s[l]=new a)}_isUsable(t){return t.age<up.network.config.cacheEvictAge}get currentSize(){return this._requests.length}get _capacity(){return up.network.config.cacheSize}_limitSize(){for(let t=0;t<this.currentSize-this._capacity;t++)this._delete(this._requests[0])}_eachMatch(t=!0,s,l){let u=up.Request.tester(t,s),d=n.filter(this._requests,u);n.each(d,l)}_wrap(t){return n.wrapValue(up.Request,t)}}},()=>{const n=up.util;up.Request.Queue=class{constructor(){this.reset()}reset(){this._queuedRequests=[],this._currentRequests=[],this._emittedLate=!1}get allRequests(){return this._currentRequests.concat(this._queuedRequests)}asap(o){o.runQueuedCallbacks(),n.always(o,t=>this._onRequestSettled(o,t)),this._scheduleSlowTimer(o),this._queueRequest(o),queueMicrotask(()=>this._poke())}promoteToForeground(o){o.background&&(o.background=!1,this._scheduleSlowTimer(o))}_scheduleSlowTimer(o){if(!o.isTimed())return;let t=Math.max(o.effectiveLateTime-o.age);n.timer(t,()=>this._checkForLate())}_getMaxConcurrency(){return n.evalOption(up.network.config.concurrency)}_hasConcurrencyLeft(){const o=this._getMaxConcurrency();return o===-1||this._currentRequests.length<o}isBusy(){return this._currentRequests.length>0||this._queuedRequests.length>0}_queueRequest(o){this._queuedRequests.push(o)}_pluckNextRequest(){let o=n.find(this._queuedRequests,t=>!t.background);return o||(o=this._queuedRequests[0]),n.remove(this._queuedRequests,o)}_sendRequestNow(o){o.load()&&this._currentRequests.push(o)}_onRequestSettled(o,t){n.remove(this._currentRequests,o)||n.remove(this._queuedRequests,o),t instanceof up.Response&&t.ok&&up.network.registerAliasForRedirect(o,t),queueMicrotask(()=>this._poke()),n.task(()=>this._checkForRecover())}_poke(){let o;if(this._hasConcurrencyLeft()&&(o=this._pluckNextRequest()))return this._sendRequestNow(o)}abort(...o){let[t=!0,{except:s,reason:l,logOnce:u}]=n.args(o,"val","options"),d=up.Request.tester(t,{except:s});for(let h of[this._currentRequests,this._queuedRequests]){const g=n.filter(h,d);for(let R of g)u&&(up.puts(...u),u=null),R.abort({reason:l}),n.remove(h,R)}}_checkForLate(){!this._emittedLate&&this._hasLateTimedRequests()&&(this._emittedLate=!0,up.emit("up:network:late",{log:"Server is slow to respond"}))}_checkForRecover(){this._emittedLate&&!this._timedRequests.length&&(this._emittedLate=!1,up.emit("up:network:recover",{log:"Slow requests were loaded"}))}get _timedRequests(){return this.allRequests.filter(o=>o.isTimed())}_hasLateTimedRequests(){const t=s=>s.age>=s.effectiveLateTime-1;return n.some(this._timedRequests,t)}}},()=>{const n=up.util,a=up.element,o=["GET","POST"];up.Request.FormRenderer=class{constructor(s){this._request=s}buildAndSubmit(){this.params=n.copy(this._request.params);let s=this._request.url,{method:l}=this._request;const u=up.Params.fromURL(s);this.params.addAll(u),s=up.Params.stripURL(s),n.contains(o,l)||(l=up.protocol.wrapMethod(l,this.params)),this._form=a.affix(document.body,"form.up-request-loader",{method:l,action:s});let d=this._request.contentType;d&&this._form.setAttribute("enctype",d);let h,g;(h=this._request.csrfParam())&&(g=this._request.csrfToken())&&this.params.add(h,g),n.each(this.params.toArray(),this._addField.bind(this)),up.browser.submitForm(this._form)}_addField(s){a.affix(this._form,"input[type=hidden]",s)}}},()=>{var n;const a="application/x-www-form-urlencoded",o="multipart/form-data",t=up.util;up.Request.XHRRenderer=(n=class{constructor(l){this._request=l}buildAndSend(l){const u=this._request.xhr;this._params=t.copy(this._request.params),this._request.timeout&&(u.timeout=this._request.timeout),u.open(this._getMethod(),this._request.url);let d=this._getContentType();d&&u.setRequestHeader("Content-Type",d);for(let h in this._request.headers){let g=this._request.headers[h];u.setRequestHeader(h,g)}Object.assign(u,l),u.send(this._getPayload())}_getMethod(){let l=this._request.method;return this._request.wrapMethod&&!this._request.will302RedirectWithGET()&&(l=up.protocol.wrapMethod(l,this._params)),l}_getContentType(){return this._finalizePayload(),this._contentType}_getPayload(){return this._finalizePayload(),this._payload}_finalizePayload(){this._payload=this._request.payload,this._contentType=this._request.contentType,!this._payload&&this._request.allowsPayload()&&(this._contentType||(this._contentType=this._params.hasBinaryValues()?o:a),this._contentType===o?(this._contentType=null,this._payload=this._params.toFormData()):this._payload=this._params.toQuery().replace(/%20/g,"+"))}},t.memoizeMethod(n.prototype,{_finalizePayload:!0,_getMethod:!0}),n)},()=>{const n=up.util;up.Response=class extends up.Record{keys(){return["method","url","text","status","request","xhr","target","title","acceptLayer","dismissLayer","eventPlans","context","expireCache","evictCache","headers","loadedAt","fail"]}defaults(){return{headers:{},loadedAt:new Date}}get ok(){return!n.evalOption(this.fail??up.network.config.fail,this)}get none(){return!this.text}header(o){var t;return this.headers[o]||((t=this.xhr)==null?void 0:t.getResponseHeader(o))}get varyHeaderNames(){let o=this.header("Vary");return n.getSimpleTokens(o,{separator:","})}get contentType(){return this.header("Content-Type")}get cspNonces(){return up.protocol.cspNoncesFromHeader(this.header("Content-Security-Policy")||this.header("Content-Security-Policy-Report-Only"))}get lastModified(){let o=this.header("Last-Modified");if(o)return new Date(o)}get etag(){return this.header("ETag")}get json(){return this.parsedJSON||(this.parsedJSON=JSON.parse(this.text))}get age(){return new Date-this.loadedAt}get expired(){return this.age>up.network.config.cacheExpireAge||this.request.expired}get description(){return`HTTP ${this.status} response to ${this.request.description}`}}},()=>{var n;const a=up.util,o=up.element,t=/^\s*<(html|!DOCTYPE)\b/i;up.ResponseDoc=(n=class{constructor({document:l,fragment:u,content:d,target:h,origin:g,data:R,cspNonces:$,match:X}){if(l?this._parseDocument(l,g,R):u?this._parseFragment(u,g,R):this._parseContent(d||"",g,h,R),this._cspNonces=$,g){let O=up.fragment.tryToTarget(g);O&&(this._rediscoveredOrigin=this.select(O))}this._match=X}_parseDocument(l,u,d){if(l instanceof Document)this._document=l,this._isFullDocument=!0;else if(a.isString(l)){this._isFullDocument=t.test(l);let h=R=>[o.createBrokenDocumentFromHTML(R)],g=up.fragment.provideNodes(l,{origin:u,data:d,htmlParser:h});g[0]instanceof Document?this._document=g[0]:this._document=this._buildFauxDocument(g)}else this._document=this._buildFauxDocument(l)}_parseDocumentFromHTML(l){return o.createBrokenDocumentFromHTML(l)}_parseFragment(l,u,d){let h=o.extractSingular(up.fragment.provideNodes(l,{origin:u,data:d}));this._document=this._buildFauxDocument(h)}_parseContent(l,u,d,h){d||up.fail("must pass a { target } when passing { content }");let g=a.map(up.fragment.parseTargetSteps(d),"selector").join(),R=up.fragment.provideNodes(l,{origin:u,data:h}),$=o.createFromSelector(g,{content:R});this._document=this._buildFauxDocument($)}_buildFauxDocument(l){l=a.wrapList(l);let u=document.createElement("up-document");return u.append(...l),u}rootSelector(){return up.fragment.toTarget(this._document.children[0])}get title(){return this._fromHead(this._getTitleText)}_getHead(){if(this._isFullDocument)return this._document.head}_fromHead(l){let u=this._getHead();return u&&l(u)}get metaTags(){return this._fromHead(up.history.findMetaTags)}get assets(){return this._fromHead(up.script.findAssets)}get lang(){if(this._isFullDocument)return up.history.getLang(this._document)}_getTitleText(l){var u;return(u=l.querySelector("title"))==null?void 0:u.textContent}select(l){return new up.FragmentFinder({selector:l,origin:this._rediscoveredOrigin,document:this._document,match:this._match}).find()}selectSteps(l){return l.filter(u=>this._trySelectStep(u)||this._cannotMatchStep(u))}commitSteps(l){return l.filter(u=>this.commitElement(u.newElement))}_trySelectStep(l){if(l.newElement)return!0;let u=this.select(l.selector);if(!u)return;let{selectEvent:d}=l;if(!(d&&(d.newFragment=u,d.renderOptions=l.originalRenderOptions,up.emit(l.oldElement,d,{callback:l.selectCallback}),d.defaultPrevented)))return l.newElement=u,!0}_cannotMatchStep(l){if(!l.maybe)throw new up.CannotMatch}commitElement(l){if(this._document.contains(l))return up.fragment.config.runScripts||up.script.disableSubtree(l),l.remove(),!0}finalizeElement(l){if(up.NonceableCallback.adoptNonces(l,this._cspNonces),this._document instanceof Document){let u=o.subtree(l,":is(noscript,script,audio,video):not(.up-keeping, .up-keeping *)");a.each(u,o.fixParserDamage)}}},a.memoizeMethod(n.prototype,{_getHead:!0}),n)},()=>{const n=up.element,a=up.util;up.RevealMotion=class{constructor(t,s={}){this._element=t,this._viewport=n.get(s.viewport)||up.viewport.get(this._element),this._obstructionsLayer=up.layer.get(this._viewport),this._behavior=s.scrollBehavior??s.behavior??"instant";const l=up.viewport.config;this._snap=s.snap??s.revealSnap??l.revealSnap,this._padding=s.padding??s.revealPadding??l.revealPadding,this._top=s.top??s.revealTop??l.revealTop,this._max=s.max??s.revealMax??l.revealMax,this._topObstructionSelector=l.selector("fixedTopSelectors"),this._bottomObstructionSelector=l.selector("fixedBottomSelectors")}start(){const t=this._getViewportRect(this._viewport),s=up.Rect.fromElement(this._element);if(this._max){const d=a.evalOption(this._max,this._element);s.height=Math.min(s.height,d)}s.grow(this._padding),this._substractObstructions(t),t.height<0&&up.fail("Viewport has no visible area");const l=this._viewport.scrollTop;let u=l;if(this._top||s.height>t.height){const d=s.top-t.top;u+=d}else s.top<t.top?u-=t.top-s.top:s.bottom>t.bottom&&(u+=s.bottom-t.bottom);a.isNumber(this._snap)&&u<this._snap&&s.top<.5*t.height&&(u=0),u!==l&&this._viewport.scrollTo({top:u,behavior:this._behavior})}_getViewportRect(){return up.viewport.isRoot(this._viewport)?new up.Rect({left:0,top:0,width:up.viewport.rootWidth(),height:up.viewport.rootHeight()}):up.Rect.fromElement(this._viewport)}_selectObstructions(t){let s=up.fragment.all(t,{layer:this._obstructionsLayer});return a.filter(s,n.isVisible)}_substractObstructions(t){for(let s of this._selectObstructions(this._topObstructionSelector)){let u=up.Rect.fromElement(s).bottom-t.top;u>0&&(t.top+=u,t.height-=u)}for(let s of this._selectObstructions(this._bottomObstructionSelector)){let l=up.Rect.fromElement(s),u=t.bottom-l.top;u>0&&(t.height-=u)}}}},()=>{const n=up.util,a=up.element;up.Selector=class{constructor(t,s,l={}){this._filters=[];let u=s&&!document.contains(s);!u&&!l.destroying&&this._filters.push(up.fragment.isNotDestroying),this._ignoreLayers=u||l.layer==="any"||up.layer.count===1;let d;if(this._ignoreLayers)d=up.layer.root;else{if(l.layer??(l.layer=n.presence(s,n.isElement)),this._layers=up.layer.getAll(l),!this._layers.length)throw new up.CannotMatch(["Unknown layer: %o",l.layer]);this._filters.push(h=>n.some(this._layers,g=>g.contains(h))),d=this._layers[0]}this._selectors=up.fragment.expandTargets(t,{...l,layer:d}),this._unionSelector=this._selectors.join()||"match-none"}matches(t){return a.elementLikeMatches(t,this._unionSelector)&&this._passesFilter(t)}closest(t){return this._filterOne(t.closest(this._unionSelector))}descendants(t=document){return this._filterMany(t.querySelectorAll(this._unionSelector))}firstDescendant(t){return this._ignoreLayers?(t||(t=document),this._firstSelectorMatch(s=>t.querySelectorAll(s))):n.findResult(this._layers,s=>this._firstSelectorMatch(l=>a.subtree(s.element,l)))}subtree(t){return this._filterMany(a.subtree(t,this._unionSelector))}_firstSelectorMatch(t){return n.findResult(this._selectors,s=>this._filterMany(t(s))[0])}_passesFilter(t){return t&&n.every(this._filters,s=>s(t))}_filterOne(t){return n.presence(t,this._passesFilter.bind(this))}_filterMany(t){return n.filter(t,this._passesFilter.bind(this))}}},()=>{const n=up.util,a=up.element;up.Tether=class{constructor(t){var s,l;(l=(s=up.migrate).handleTetherOptions)==null||l.call(s,t),this._anchor=t.anchor,this._align=t.align,this._position=t.position,this._alignAxis=this._position==="top"||this._position==="bottom"?"horizontal":"vertical",this._viewport=up.viewport.get(this._anchor),this.parent=this._viewport===a.root?document.body:this._viewport,this._syncOnScroll=!this._viewport.contains(this._anchor.offsetParent)}start(t){this._element=t,this._element.style.position="absolute",this._setOffset(0,0),this.sync(),this._changeEventSubscription("on")}stop(){this._changeEventSubscription("off")}_changeEventSubscription(t){let s=this._scheduleSync.bind(this);up[t](window,"resize",s),this._syncOnScroll&&up[t](this._viewport,"scroll",s)}_scheduleSync(){return clearTimeout(this.syncTimer),this.syncTimer=n.task(this.sync.bind(this))}isDetached(){return!this.parent.isConnected||!this._anchor.isConnected}sync(){const t=this._element.getBoundingClientRect(),s={top:a.styleNumber(this._element,"margin-top"),right:a.styleNumber(this._element,"margin-right"),bottom:a.styleNumber(this._element,"margin-bottom"),left:a.styleNumber(this._element,"margin-left")},l=this._anchor.getBoundingClientRect();let u,d;switch(this._alignAxis){case"horizontal":{switch(this._position){case"top":d=l.top-s.bottom-t.height;break;case"bottom":d=l.top+l.height+s.top;break}switch(this._align){case"left":u=l.left+s.left;break;case"center":u=l.left+.5*(l.width-t.width);break;case"right":u=l.left+l.width-t.width-s.right;break}break}case"vertical":{switch(this._align){case"top":d=l.top+s.top;break;case"center":d=l.top+.5*(l.height-t.height);break;case"bottom":d=l.top+l.height-t.height-s.bottom;break}switch(this._position){case"left":u=l.left-s.right-t.width;break;case"right":u=l.left+l.width+s.left;break}break}}n.isDefined(u)||n.isDefined(d)?this._moveTo(u,d):up.fail("Invalid tether constraints: %o",this._describeConstraints())}_describeConstraints(){return{position:this._position,align:this._align}}_moveTo(t,s){const l=this._element.getBoundingClientRect();this._setOffset(t-l.left+this.offsetLeft,s-l.top+this.offsetTop)}_setOffset(t,s){this.offsetLeft=t,this.offsetTop=s,a.setStyle(this._element,{left:t,top:s},"px")}}},()=>{const n=up.util;up.URLPattern=class{constructor(o){this._groups=[];const t=[],s=[];for(let l of n.getSimpleTokens(o))l[0]==="-"?s.push(l.substring(1)):t.push(l);this._positiveRegexp=this._buildRegexp(t,!0),this._negativeRegexp=this._buildRegexp(s,!1)}_buildRegexp(o,t){if(!o.length)return;o=n.flatMap(o,n.matchableURLPatternAtom),o=o.map(n.escapeRegExp);let s=o.join("|");return s=s.replace(/\\\*/g,".*?"),s=s.replace(/(:|\\\$)([a-z][\w-]*)/ig,(l,u,d)=>u==="\\$"?(t&&this._groups.push({name:d,cast:Number}),"(\\d+)"):(t&&this._groups.push({name:d,cast:String}),"([^/?#]+)")),new RegExp("^(?:"+s+")$")}test(o,t=!0){return t&&(o=n.matchableURL(o)),this._positiveRegexp.test(o)&&!this._isExcluded(o)}recognize(o,t=!0){t&&(o=n.matchableURL(o));let s=this._positiveRegexp.exec(o);if(s&&!this._isExcluded(o)){const l={};return this._groups.forEach((u,d)=>{let h=s[d+1];if(h)return l[u.name]=u.cast(h)}),l}}_isExcluded(o){var t;return(t=this._negativeRegexp)==null?void 0:t.test(o)}}},()=>{up.framework=function(){let n="evaling";function a(){up.emit("up:framework:reset",{log:!1})}function o(){if(n!=="configuring"){console.error("Unpoly has already booted");return}let g=h();g?console.error("Unpoly cannot boot: %s",g):(n="booting",up.emit("up:framework:boot",{log:!1}),n="booted",up.emit("up:framework:booted",{log:!1}))}function t(){let g=document.currentScript;if(g!=null&&g.async||(g==null?void 0:g.getAttribute("up-boot"))==="manual"||document.readyState==="complete")return!0}function s(){up.emit("up:framework:evaled",{log:!1}),t()?console.debug("Call up.boot() after you have configured Unpoly"):document.addEventListener("DOMContentLoaded",o),n="configuring"}function l(){if(n!=="configuring")throw new Error("Unpoly extensions must be loaded before booting");n="evaling"}function u(){n="configuring"}function d(){return!h()}function h(){for(let g of["Promise","DOMParser","FormData","reportError"])if(!window[g])return`Browser doesn't support the ${g} API`;if(document.compatMode==="BackCompat")return"Browser is in quirks mode (missing DOCTYPE?)";for(let g of[":is(*)",":has(*)"])if(!CSS.supports(`selector(${g})`))return`Browser doesn't support the ${g} selector`}return{onEvaled:s,boot:o,startExtension:l,stopExtension:u,reset:a,get evaling(){return n==="evaling"},get booted(){return n==="booted"},get beforeBoot(){return n!=="booting"&&n!=="booted"},isSupported:d}}(),up.boot=up.framework.boot},()=>{up.event=function(){const n=up.util,a=up.element;function o(){for(let H of[window,document,a.root,document.body])for(let k of up.EventListener.allNonDefault(H))k.unbind()}function t(...H){return l(H).bind()}function s(...H){return l(H).unbind()}function l(H,k){return up.EventListenerGroup.fromBindArgs(H,k)}function u(H){return up.EventEmitter.fromEmitArgs(H)}function d(...H){return u(H).emit()}function h(...H){const k=n.extractOptions(H),b=H[0]||k.type||up.fail("Missing event type"),S=new Event(b,{bubbles:!0,cancelable:!0});return Object.assign(S,n.omit(k,["type","target"])),S}function g(...H){return u(H).assertEmitted()}function R(H){return t("keydown",function(k){if(k.key==="Escape")return H(k)})}function $(H,k={}){k.log&&up.log.putsEvent(H),H.stopImmediatePropagation(),H.preventDefault()}const X=["metaKey","shiftKey","ctrlKey","altKey"];function O(H){return(n.isUndefined(H.button)||H.button===0)&&!n.some(X,k=>H[k])}function z(H){return n.isMissing(H.clientX)}function ee(H,k,b=[]){const S=h(k,n.pick(H,b));return S.originalEvent=H,["stopPropagation","stopImmediatePropagation","preventDefault"].forEach(function(v){const U=S[v];return S[v]=function(){return H[v](),U.call(S)}}),H.defaultPrevented&&S.preventDefault(),S}function Y(H,k){if(!O(H))return;const b=a.attr(k,"up-emit"),S=a.jsonAttr(k,"up-emit-props"),v=ee(H,b);Object.assign(v,S),up.emit(k,v)}t("up:click","[up-emit]",Y);let I=["unknown"];function J(){return n.last(I)}function re(H){I.push(H),setTimeout(()=>I.pop())}return t("keydown keyup",{capture:!0},()=>re("key")),t("pointerdown pointerup",{capture:!0},()=>re("pointer")),t("up:framework:reset",o),{on:t,off:s,build:h,emit:d,assertEmitted:g,onEscape:R,halt:$,isUnmodified:O,isSyntheticClick:z,fork:ee,keyModifiers:X,get inputDevice(){return J()}}}(),up.on=up.event.on,up.off=up.event.off,up.emit=up.event.emit},()=>{up.protocol=function(){const n=up.util,a=up.element,o=function(S){return"X-Up"+S.replace(/(^.|[A-Z])/g,U=>"-"+U.toUpperCase())},t=function(S,v,U=n.identity){let ne=S.getResponseHeader(o(v));if(ne)return U(ne)};function s(S){return t(S,"target")}function l(S){return S==="false"?!1:S}function u(S){return t(S,"evictCache",l)}function d(S){var v,U;return t(S,"expireCache")||((U=(v=up.migrate).clearCacheFromXHR)==null?void 0:U.call(v,S))}function h(S){return t(S,"context",n.parseRelaxedJSON)}function g(S){return t(S,"method",n.normalizeMethod)}function R(S){var v,U;return((U=(v=up.migrate).titleFromXHR)==null?void 0:U.call(v,S))??t(S,"title",n.parseRelaxedJSON)}function $(S){return t(S,"events",n.parseRelaxedJSON)}function X(S){return t(S,"acceptLayer",n.parseRelaxedJSON)}function O(S){return t(S,"dismissLayer",n.parseRelaxedJSON)}const z=n.memoize(function(){return n.normalizeMethod(up.browser.popCookie("_up_method"))});function ee(S){let v=t(S,"location")||S.responseURL;if(v)return n.normalizeURL(v)}const Y=new up.Config(()=>({methodParam:"_method",csrfParam(){return a.metaContent("csrf-param")},csrfToken(){return a.metaContent("csrf-token")},cspNonce(){return a.metaContent("csp-nonce")},csrfHeader:"X-CSRF-Token",maxHeaderSize:2048}));function I(){return n.evalOption(Y.csrfHeader)}function J(){return n.evalOption(Y.csrfParam)}function re(){return n.evalOption(Y.csrfToken)}function H(){return n.evalOption(Y.cspNonce)}function k(S){let v=[];if(S){let U=S.split(/\s*;\s*/);for(let ne of U)if(ne.indexOf("script-src")===0){let M=/'nonce-([^']+)'/g,q;for(;q=M.exec(ne);)v.push(q[1])}}return v}function b(S,v){return v.add(Y.methodParam,S),"POST"}return{config:Y,locationFromXHR:ee,titleFromXHR:R,targetFromXHR:s,methodFromXHR:g,acceptLayerFromXHR:X,contextFromXHR:h,dismissLayerFromXHR:O,eventPlansFromXHR:$,expireCacheFromXHR:d,evictCacheFromXHR:u,csrfHeader:I,csrfParam:J,csrfToken:re,cspNonce:H,initialRequestMethod:z,headerize:o,wrapMethod:b,cspNoncesFromHeader:k}}()},()=>{up.log=function(){const n=up.util,a=new up.LogConfig;function o(...$){a.enabled&&l("log",...$)}const t=(...$)=>l("warn",...$),s=(...$)=>l("error",...$);function l($,X,O,...z){u($,X,"",O,...z)}function u($,X,O,z,...ee){z&&(a.format?console[$](`%c${X}%c ${z}`,"color: #666666; padding: 1px 3px; border: 1px solid #bbbbbb; border-radius: 2px; font-size: 90%; display: inline-block;"+O,"",...ee):console[$](`[${X}] ${n.sprintf(z,...ee)}`))}function d($){if(a.enabled){$=$.originalEvent||$;let X="#5566cc";u("log",$.type,`color: white; border-color: ${X}; background-color: ${X}`,"Interaction on %o",$.target)}}function h(){if(!a.banner)return;const $=` __ _____  ___  ___  / /_ __
/ // / _ \\/ _ \\/ _ \\/ / // /  ${up.version}
\\___/_//_/ .__/\\___/_/\\_. / 
        / /            / /

`;let X="";up.migrate.loaded||(X+=`Load unpoly-migrate.js to polyfill deprecated APIs.

`),a.enabled?X+="Call `up.log.disable()` to disable logging for this session.":X+="Call `up.log.enable()` to enable logging for this session.";const O="color: #777777";a.format?console.log("%c"+$+"%c"+X,"font-family: monospace;"+O,O):console.log($+X)}up.on("up:framework:boot",h);function g(){a.enabled=!0}function R(){a.enabled=!1}return{puts:o,putsEvent:d,error:s,warn:t,config:a,enable:g,disable:R}}(),up.puts=up.log.puts,up.warn=up.log.warn},()=>{up.script=function(){const n=up.util,a=up.element,o=new up.Config(()=>({assetSelectors:["link[rel=stylesheet]","script[src]","[up-asset]"],noAssetSelectors:["[up-asset=false]"],nonceableAttributes:["up-watch","up-on-keep","up-on-hungry","up-on-opened","up-on-accepted","up-on-dismissed","up-on-loaded","up-on-rendered","up-on-finished","up-on-error","up-on-offline"],scriptSelectors:["script:not([type])",'script[type="text/javascript"]','script[type="module"]','script[type="importmap"]'],noScriptSelectors:['script[type="application/ld+json"]']})),t={"[up-back]":-100,"[up-clickable]":-200,"[up-drawer]":-200,"[up-modal]":-200,"[up-cover]":-200,"[up-popup]":-200,"[up-tooltip]":-200,"[up-dash]":-200,"[up-flashes]":-200,"[up-expand]":-300,"[data-method]":-400,"[data-confirm]":-400};let s=[],l=[];function u(...M){R(M)}function d(...M){R(M,{macro:!0})}function h(...M){let[q,Q,A]=$(M),j=`[${q}]`,{defaultValue:E}=Q;R([j,Q,K=>{let F=a.booleanOrStringAttr(K,q);if(F!==!1)return n.isDefined(E)&&F===!0&&(F=E),A(K,F)}])}function g(M){M=n.evalOption(M);for(let q in t)if(M.indexOf(q)>=0)return t[q];up.fail("Unregistered priority for system macro %o",M)}function R(M,q={}){let Q=X(M,q);Q.macro?(up.framework.evaling&&(Q.priority||(Q.priority=g(Q.selector))),O(l,Q)):O(s,Q)}const $=function(M){return n.args(M,"val","options","callback")};function X(M,q){let[Q,A,j]=$(M);return A=n.options(A,{selector:Q,isDefault:up.framework.evaling,priority:0,batch:!1}),Object.assign(j,A,q)}function O(M,q){let Q,A=0;for(;(Q=M[A])&&Q.priority>=q.priority;)A+=1;if(M.splice(A,0,q),up.framework.booted)if(q.priority===0)for(let j of up.layer.stack)z(j.element,{layer:j,compilers:[q]});else up.puts("up.compiler()","Compiler %s was registered after booting Unpoly. Compiler will run for future fragments only.",q.selector);return q}function z(M,q){up.emit(M,"up:fragment:compile",{log:!1});let Q=q.compilers||l.concat(s);new up.CompilerPass(M,Q,q).run()}function ee(M,q){let Q=n.scanFunctions(q);if(!Q.length)return;(M.upDestructors||(M.upDestructors=Y(M))).guard(Q)}function Y(M){let q=n.cleaner();return q(a.addClassTemp(M,"up-can-clean")),q}function I(M,q={}){return M=up.fragment.get(M,q),up.puts("up.hello()","Compiling fragment %o",M),z(M,q),up.fragment.emitInserted(M),M}function J(M,q={}){new up.DestructorPass(M,q).run()}function re(M){return M=up.fragment.get(M),M.upData||(M.upData=H(M))}function H(M){let q=a.jsonAttr(M,"up-data")??{};return n.isOptions(q)?{...M.upTemplateData,...M.dataset,...q,...M.upCompileData}:q}function k(M=document.head){return M.querySelectorAll(o.selector("assetSelectors"))}function b(M,q){let Q=k(),A=n.map(Q,"outerHTML").join(),j=n.map(M,"outerHTML").join();A!==j&&up.event.assertEmitted("up:assets:changed",{oldAssets:Q,newAssets:M,renderOptions:q})}function S(M){M.type="up-disabled-script"}function v(M){let q=o.selector("scriptSelectors");n.each(a.subtree(M,q),S)}function U(M){return o.matches(M,"scriptSelectors")}function ne(){s=n.filter(s,"isDefault"),l=n.filter(l,"isDefault")}return up.on("up:framework:reset",ne),{config:o,compiler:u,macro:d,attrCompiler:h,destructor:ee,hello:I,clean:J,data:re,findAssets:k,assertAssetsOK:b,disableSubtree:v,isScript:U}}(),up.compiler=up.script.compiler,up.destructor=up.script.destructor,up.macro=up.script.macro,up.data=up.script.data,up.hello=up.script.hello,up.attribute=up.script.attrCompiler},()=>{up.history=function(){const n=up.util,a=up.element,o=new up.Config(()=>({enabled:!0,updateMetaTags:!0,restoreTargets:["body"],metaTagSelectors:["meta","link[rel=alternate]","link[rel=canonical]","link[rel=icon]","[up-meta]",'script[type="application/ld+json"]'],noMetaTagSelectors:["meta[http-equiv]","[up-meta=false]","meta[name=csp-nonce]"]}));let t,s;function l(){t=void 0,s=void 0,d()}function u(){return n.normalizeURL(location.href)}function d(){const k=u();s!==k&&(t=s,s=k)}d();function h(k,b){return n.matchURLs(k,location.href,{hash:!0,...b})}function g(k,b={}){k=n.normalizeURL(k),X("replaceState",k)&&b.event!==!1&&$({location:k,reason:"replace",log:`Replaced state for ${k}`})}function R(k){k=n.normalizeURL(k),!h(k)&&X("pushState",k)&&$({location:k,reason:"push",log:`Advanced to location ${k}`})}function $(k){var S,v;let b=up.event.build("up:location:changed",k);(v=(S=up.migrate)==null?void 0:S.renamedProperty)==null||v.call(S,b,"url","location"),up.emit(b)}function X(k,b){if(o.enabled){const S=O();return window.history[k](S,"",b),d(),!0}}function O(){return{up:{}}}function z(k){if(!(k!=null&&k.up)){up.puts("popstate","Ignoring a history state not owned by Unpoly");return}let b=u();up.error.muteUncriticalRejection(up.render({guardEvent:up.event.build("up:location:restore",{location:b,log:`Restoring location ${b}`}),url:b,target:o.restoreTargets,fail:!1,history:!0,location:b,peel:!0,layer:"root",cache:"auto",revalidate:"auto",saveScroll:!1,scroll:["restore","auto"],saveFocus:!1,focus:["restore","auto"]}))}function ee(k){d();let b=u();$({location:b,reason:"pop",log:`Navigated to history entry ${b}`}),up.viewport.saveFocus({location:t}),up.viewport.saveScroll({location:t}),z(k.state)}function Y(){window.addEventListener("popstate",ee),up.protocol.initialRequestMethod()==="GET"&&g(u(),{event:!1})}up.on("up:framework:boot",function(){"jasmine"in window?Y():setTimeout(Y,100)});function I(k=document.head){return k.querySelectorAll(o.selector("metaTagSelectors"))}function J(k){let b=I();for(let S of b)S.remove();for(let S of k)document.head.append(S)}function re(k=document){let{documentElement:b}=k;if(b.matches("html"))return k.documentElement.lang}function H(k){a.setAttrPresence(a.root,"lang",k,!!k)}return up.macro("[up-back]",function(k){t&&(a.setMissingAttrs(k,{"up-href":t,"up-scroll":"restore"}),k.removeAttribute("up-back"),up.link.makeFollowable(k))}),up.on("up:framework:reset",l),{config:o,push:R,replace:g,get location(){return u()},get previousLocation(){return t},isLocation:h,findMetaTags:I,updateMetaTags:J,getLang:re,updateLang:H}}()},(n,a,o)=>{o(87);const t=up.util,s=up.element;up.fragment=function(){function l(m){let w=s.tagName(m);if(w.startsWith("up-"))return w}const u=["[up-id]","[id]","html","head","body"],d=new up.Config(()=>({badTargetClasses:[/^up-/],strongTargetDerivers:u,targetDerivers:[...u,"main","[up-main]",l,"link[rel][type]","link[rel=preload][href]","link[rel=preconnect][href]","link[rel=prefetch][href]","link[rel]","meta[property]","*[name]","form[action]","a[href]","[class]","[up-flashes]","form"],verifyDerivedTarget:!0,renderOptions:{hungry:!0,keep:!0,saveScroll:!0,saveFocus:!0,focus:"keep",abort:"target",failOptions:!0,feedback:!0},navigateOptions:{cache:"auto",revalidate:"auto",fallback:!0,focus:"auto",scroll:"auto",history:"auto",peel:!0},match:"region",runScripts:!0,autoHistoryTargets:[":main"],autoFocus:["hash","autofocus","main-if-main","keep","target-if-lost"],autoScroll:["hash","layer-if-main"],autoRevalidate:m=>m.expired,skipResponse:h}));t.delegate(d,["mainTargets"],()=>up.layer.config.any);function h({response:m,expiredResponse:w}){return!m.text||m.text===(w==null?void 0:w.text)}function g(m,w={}){return m=H(m,w),s.closestAttr(m,"up-source")}function R(m){return t.normalizeURL(m,{hash:!1})}function $(m){let w=s.closestAttr(m,"up-time");if(w&&w!=="false")return/^\d+$/.test(w)&&(w=Number(w)*1e3),new Date(w)}function X(m){let w=s.closestAttr(m,"up-etag");if(w&&w!=="false")return w}const O=up.mockable((...m)=>{let w=q(m);return new up.RenderJob(w).execute()}),z=up.mockable((...m)=>{const w=q(m);return O({...w,navigate:!0})});function ee(m){return up.emit(m,"up:fragment:inserted",{log:["Inserted fragment %o",m]})}function Y(m){let{oldElement:w,newElement:D,newData:W,renderOptions:Z}=m;const ce=["Keeping fragment %o",w],fe=s.callbackAttr(w,"up-on-keep",{exposedKeys:["newFragment","newData"]});return up.emit(w,"up:fragment:keep",{newFragment:D,newData:W,renderOptions:Z,log:ce,callback:fe})}function I(m,w){const D=w.log??["Destroyed fragment %o",m],W=w.parent||document;return up.emit(W,"up:fragment:destroyed",{fragment:m,parent:W,log:D})}function J(m){return!m.closest(".up-destroying")}function re(m){return m.isConnected&&J(m)}function H(...m){let[w,D,W]=b(m);return t.isElementLike(D)?s.get(D):w?k(w,D,W):new up.FragmentFinder({selector:D,origin:W.origin,layer:W.layer,match:W.match}).find()}function k(...m){let[w,D,W]=b(m);return new up.Selector(D,w,W).firstDescendant(w)}function b(m){return t.args(m,"val","val","options")}function S(...m){let[w,D,W]=b(m);return t.isElement(D)?[D]:t.isList(D)?D:new up.Selector(D,w,W).descendants(w)}function v(m,w,D={}){return new up.Selector(w,m,D).subtree(m)}function U(m,w){return t.isElement(w)?s.contains(m,w)&&up.layer.get(m).contains(w):v(m,w).length>0}function ne(m,w,D){return new up.Selector(w,m,D).closest(m)}function M(...m){var D,W;const w=q(m);return(w.element=H(w.target,w))&&new up.Change.DestroyFragment(w).execute(),(W=(D=up.migrate).formerlyAsync)==null?void 0:W.call(D,"up.destroy()")}function q(m){const w=t.parseArgIntoOptions(m,"target");return t.isElement(w.target)&&(w.origin||(w.origin=w.target)),w}function Q(m){m.classList.add("up-destroying"),m.setAttribute("aria-hidden","true")}function A(...m){var W,Z;const w=q(m);w.target||(w.target=":main");const D=H(w.target,w);return w.url||(w.url=g(D)),w.headers=t.merge(w.headers,j(D)),(w.keepData||s.booleanAttr(D,"up-keep-data"))&&(w.data=up.data(D)),(Z=(W=up.migrate).postprocessReloadOptions)==null||Z.call(W,w),O(w)}function j(m){let w={},D=$(m);D&&(w["If-Modified-Since"]=D.toUTCString());let W=X(m);return W&&(w["If-None-Match"]=W),w}function E(m,w){return z({...w,url:m})}const L=/^(onFail|on|fail)?(.+)$/;function K(m){let w=L.exec(m);if(w){let[D,W,Z]=w;switch(W){case"onFail":return"on"+t.upperCaseFirst(Z);case"fail":return t.lowerCaseFirst(Z)}}}function F(m){let w=L.exec(m);if(w){let[D,W,Z]=w;switch(W){case"on":return"onFail"+t.upperCaseFirst(Z);case void 0:return"fail"+t.upperCaseFirst(Z)}}}function _(m,w){return t.presence(m,t.isString)||le(m,w)||se(m)}function T(m){return!!le(m)}function G(m){return`Cannot derive good target selector from a <${s.tagName(m)}> element without identifying attributes. Try setting an [id] or configure up.fragment.config.targetDerivers.`}function se(m){throw new up.CannotTarget(G(m))}function le(m,w={}){let D=w.strong?d.strongTargetDerivers:d.targetDerivers;return t.findResult(D,function(W){let Z=P(m,W);if(Z&&oe(Z,m,w))return Z})}function P(m,w){if(t.isFunction(w))return w(m);if(m.matches(w))try{return V(m,w)}catch(D){if(D instanceof up.CannotParse)return w;throw D}}function V(m,w){let{includePath:D,excludeRaw:W}=s.parseSelector(w);if(D.length!==1)throw new up.CannotParse(w);let{tagName:Z,id:ce,classNames:fe,attributes:me}=D[0],Ee="";Z==="*"?Ee+=s.tagName(m):Z&&(Ee+=Z);for(let Me of fe)Ee+=s.classSelector(Me);ce&&(Ee+=s.idSelector(ce));for(let Me in me){let vt=me[Me]||m.getAttribute(Me);if(Me==="id")Ee+=s.idSelector(vt);else if(Me==="class")for(let at of pe(m))Ee+=s.classSelector(at);else Ee+=s.attrSelector(Me,vt)}return W&&(Ee+=W),Ee}function oe(m,w,D={}){let W=D.verify??d.verifyDerivedTarget;return!re(w)||!W||up.fragment.get(m,{layer:w,...D})===w}function ue(m,w){return t.isRegExp(m)?m.test(w):m===w}function pe(m){let w=D=>!t.some(d.badTargetClasses,W=>ue(W,D));return t.filter(m.classList,w)}const He=/:main\b/,Ce=/:layer\b/,We=/:origin\b/;function Ue(m){return He.test(m)}function Ze(m,w={}){const{layer:D}=w;D!=="new"&&!(D instanceof up.Layer)&&up.fail("Must pass an up.Layer as { layer } option, but got %o",D),m=t.copy(t.wrapList(m));const W=[];for(;m.length;){let Z=m.shift();if(Z===!0&&(Z=":main"),Ue(Z)){let ce=it(w),fe=up.layer.mainTargets(ce).map(me=>Z.replace(He,me));m.unshift(...fe)}else if(Ce.test(Z)){if(D==="new"||D.opening)continue;let ce=_(D.getFirstSwappableElement(),w);m.unshift(Z.replace(Ce,ce))}else t.isElementLike(Z)?W.push(_(Z,w)):t.isString(Z)&&W.push(je(Z,w))}return t.uniq(W)}function it({layer:m,mode:w}){return m==="new"?w||up.fail('Must pass a { mode } option together with { layer: "new" }'):m.mode}function wt(m,{origin:w}={}){return m.replace(We,function(D){if(w)return _(w);up.fail('Missing { origin } element to resolve "%s" reference (found in %s)',D,m)})}function je(m,w){return t.isString(m)?(up.migrate.resolveOrigin||wt)(m,w):m}function yt(m){return t.getComplexTokens(m)}function _t(m,w={}){let D=w.defaultPlacement||"swap",W=w.defaultMaybe??!1,Z=[],ce=yt(m);for(let fe of ce){if(fe===":none")continue;let me=D,Ee=W;fe=fe.replace(/\b::?(before|after|content)\b/,(vt,at)=>(me=at,"")),fe=fe.replace(/\b:maybe\b/,()=>(Ee=!0,""));const Me={...w,selector:fe,placement:me,maybe:Ee,originalRenderOptions:w};Z.push(Me)}return Z}function st(m,w){let D=Ze(d.autoHistoryTargets,{layer:w}).join();for(let W of m)if(s.subtree(W,D).length)return!0;return up.puts("up.render()","Will not auto-update history because fragment doesn't contain a selector from up.fragment.config.autoHistoryTargets"),!1}function ot(m,w,D={}){if(m=s.get(m),t.isElement(w)){let W=le(w);return W&&m.matches(W)}else return new up.Selector(w,m,D).matches(m)}function ir(m,w,D={}){return m.fromCache&&t.evalAutoOption(D.revalidate,d.autoRevalidate,w)}function sr(m){let w=m.filter(W=>{var Z;return!W.maybe||((Z=W.oldElement)==null?void 0:Z.isConnected)});return t.map(w,"selector").join(", ")||":none"}function or(m,w){return t.some(m,function(D){return D!==w&&(D.placement==="swap"||D.placement==="content")&&D.oldElement.contains(w.oldElement)})}function Ge(m){if(m.length<2)return m;let w=t.uniqBy(m,"oldElement");return w=t.reject(w,D=>or(w,D)),w}function ar(...m){let w=q(m),D,{reason:W,newLayer:Z}=w,ce;if(w.target)ce=S(w.target,w),D=me=>me.isBoundToSubtrees(ce),W||(W="Aborting requests within fragment");else{let me=up.layer.getAll(w);ce=t.map(me,"element"),D=Ee=>Ee.isBoundToLayers(me),W||(W="Aborting requests within "+me.join(", "))}let fe=me=>me.abortable&&D(me);up.network.abort(fe,{...w,reason:W});for(let me of ce)up.emit(me,"up:fragment:aborted",{reason:W,newLayer:Z,log:!1})}function lr(m,w){let D=Z=>Z.target.contains(m),W=up.on("up:fragment:aborted",{guard:D},w);return up.destructor(m,W),W}function ur(m,w,{margin:D=0}={}){if(s.isIntersectingWindow(m,{margin:D})){w();return}function W(fe){for(let me of fe)if(me.isIntersecting){ce(),w();return}}let Z=new IntersectionObserver(W,{rootMargin:`${D}px`}),ce=()=>Z.disconnect();Z.observe(m),up.destructor(m,ce)}const cr=/^([\w-]+|\*)?(#|\.|[:[][a-z-]{3,})/;function et(m,{origin:w,originLayer:D,data:W,htmlParser:Z=s.createNodesFromHTML}={}){if(t.isString(m)&&cr.test(m)){let[ce,fe]=t.parseScalarJSONPairs(m)[0];W={...W,...fe},m=up.fragment.get(ce,{layer:"closest",origin:w,originLayer:D})||up.fail('Cannot find template "%s"',m)}return t.isString(m)&&(m=Z(m)),Xe(m)&&(m=It(m,W,{htmlParser:Z})),t.wrapList(m)}function Xe(m){return t.isElement(m)&&m.matches("template, script[type]")&&!up.script.isScript(m)}function It(m,w={},{origin:D,htmlParser:W}={}){let Z=H(m,{origin:D})||up.fail("Template not found: %o",m),fe=up.emit(Z,"up:template:clone",{data:w,nodes:null,log:["Using template %o",m]}).nodes??dr(Z,W);for(let me of fe)me.upTemplateData=w;return fe}function dr(m,w=s.createNodesFromHTML){let D=m.innerHTML;return w(D)}function bt(...m){let[w,D="beforeend",W]=t.args(m,"val",t.isAdjacentPosition,"val"),Z=et(W,{origin:w}),ce=s.wrapIfRequired(Z),fe=document.contains(ce)&&s.documentPosition(ce);return w.insertAdjacentElement(D,ce),fe?()=>{fe[0].insertAdjacentElement(fe[1],ce)}:(up.hello(ce),()=>up.destroy(ce))}return up.on("up:framework:boot",function(){const{documentElement:m}=document;if(m.setAttribute("up-source",R(location.href)),up.hello(m),!up.browser.canPushState())return up.warn("Cannot push history changes. Next render pass with history will load a full page.")}),{config:d,reload:A,destroy:M,render:O,navigate:z,get:H,getFirstDescendant:k,all:S,subtree:v,contains:U,closest:ne,source:g,normalizeSource:R,visit:E,markAsDestroying:Q,emitInserted:ee,emitDestroyed:I,emitKeep:Y,successKey:K,failKey:F,expandTargets:Ze,resolveOrigin:je,toTarget:_,tryToTarget:le,isTargetable:T,matches:ot,hasAutoHistory:st,time:$,etag:X,shouldRevalidate:ir,abort:ar,onAborted:lr,onFirstIntersect:ur,splitTarget:yt,parseTargetSteps:_t,isAlive:re,isNotDestroying:J,targetForSteps:sr,compressNestedSteps:Ge,containsMainPseudo:Ue,insertTemp:bt,provideNodes:et,cloneTemplate:It}}(),up.reload=up.fragment.reload,up.destroy=up.fragment.destroy,up.render=up.fragment.render,up.navigate=up.fragment.navigate,up.visit=up.fragment.visit,up.template={clone:up.fragment.cloneTemplate},t.delegate(up,["context"],()=>up.layer.current)},(n,a,o)=>{o.r(a)},(n,a,o)=>{o(89),up.viewport=function(){const t=up.util,s=up.element,l=up.fragment,u=new up.Config(()=>({viewportSelectors:["[up-viewport]","[up-fixed]"],fixedTopSelectors:["[up-fixed~=top]"],fixedBottomSelectors:["[up-fixed~=bottom]"],anchoredRightSelectors:["[up-anchored~=right]","[up-fixed~=top]","[up-fixed~=bottom]","[up-fixed~=right]"],revealSnap:200,revealPadding:0,revealTop:!1,revealMax(){return .5*window.innerHeight},autoFocusVisible({element:P,inputDevice:V}){return V==="key"||up.form.isField(P)}})),d=new up.BodyShifter;up.compiler(u.selectorFn("anchoredRightSelectors"),function(P){return d.onAnchoredElementInserted(P)});const h=up.mockable(function(P,V){var ue,pe;return V=t.options(V),P=l.get(P,V),(V.layer=up.layer.get(P))||up.fail("Cannot reveal a detached element"),V.peel&&V.layer.peel(),new up.RevealMotion(P,V).start(),((pe=(ue=up.migrate).formerlyAsync)==null?void 0:pe.call(ue,"up.reveal()"))||!0});function g(P,{preventScroll:V,force:oe,inputDevice:ue,focusVisible:pe}={}){if(oe&&!P.hasAttribute("tabindex")&&P.tabIndex===-1&&P.setAttribute("tabindex","-1"),ue??(ue=up.event.inputDevice),pe??(pe="auto"),pe=t.evalAutoOption(pe,u.autoFocusVisible,{element:P,inputDevice:ue}),P.focus({preventScroll:!0,focusVisible:pe}),R(P),P.classList.add(pe?"up-focus-visible":"up-focus-hidden"),!V)return h(P)}function R(P){P==null||P.classList.remove("up-focus-hidden","up-focus-visible")}up.on("focusin",function({relatedTarget:P}){R(P)});function $(P,V){return g(P,V),P===document.activeElement}function X(P=location.hash,V){let oe=_(P,V);if(oe)return h(oe,{top:!0})}function O(){return[J(),...u.viewportSelectors].join()}function z(P,V={}){return l.get(P,V).closest(O())}function ee(P,V={}){return P=l.get(P,V),s.subtree(P,O())}function Y(P,V={}){return P=l.get(P,V),s.around(P,O())}function I(P={}){return l.all(O(),P)}function J(){return re().tagName}function re(){return document.scrollingElement}function H(){return s.root.clientWidth}function k(){return s.root.clientHeight}function b(P){return P===re()}function S(){return window.innerWidth-H()}function v(P){return up.fragment.tryToTarget(P)}function U(P=document){const V=["[up-fixed]"].concat(u.fixedTopSelectors).concat(u.fixedBottomSelectors);return P.querySelectorAll(V.join())}function ne(...P){const[V,oe]=E(P),ue=oe.location||oe.layer.location;if(ue){const pe=M(V);oe.layer.lastScrollTops.set(ue,pe)}}function M(P){let V={};for(let oe of P){let ue=v(oe);ue?V[ue]=oe.scrollTop:up.warn("up.viewport.saveScroll()","Cannot save scroll positions for untargetable viewport %o",oe)}return V}function q(...P){const[V,oe]=E(P),{location:ue}=oe.layer,pe=oe.layer.lastScrollTops.get(ue);return pe?(K(V,pe),up.puts("up.viewport.restoreScroll()","Restored scroll positions to %o",pe),!0):!1}function Q(P={}){const V=up.layer.get(P),oe=P.location||V.location;if(oe){const ue=up.FocusCapsule.preserve(V);V.lastFocusCapsules.set(oe,ue)}}function A(P={}){const V=up.layer.get(P),oe=P.location||V.location,ue=P.layer.lastFocusCapsules.get(oe);return ue&&ue.restore(V)?(up.puts("up.viewport.restoreFocus()",'Restored focus to "%s"',ue.target),!0):!1}function j(){return new up.FIFOCache({capacity:30,normalizeKey:t.matchableURL})}function E(P){const[V,oe]=t.args(P,"val","options");oe.layer=up.layer.get(oe);let ue;return V?ue=[z(V,oe)]:oe.around?ue=Y(oe.around,oe):ue=I(oe),[ue,oe]}function L(...P){const[V,oe]=E(P);K(V,{})}function K(P,V){for(let oe of P){const ue=v(oe);oe.scrollTop=V[ue]||0}}function F(P,V={}){var Ze;const ue=z(P).getBoundingClientRect(),pe=P.getBoundingClientRect(),He=new up.Rect({left:pe.left-ue.left,top:pe.top-ue.top,width:pe.width,height:pe.height});(Ze=V.afterMeasure)==null||Ze.call(V),s.setStyle(P,{position:P.style.position==="static"?"static":"relative",top:"auto",right:"auto",bottom:"auto",left:"auto",width:"100%",height:"100%"});const Ce=s.createFromSelector("up-bounds");s.insertBefore(P,Ce),Ce.appendChild(P);const We=function(it,wt){return He.left+=it,He.top+=wt,s.setStyle(Ce,He,"px")};We(0,0);const Ue=P.getBoundingClientRect();return We(pe.left-Ue.left,pe.top-Ue.top),t.each(U(P),s.fixedToAbsolute),{bounds:Ce,moveBounds:We}}function _(P,V={}){if(P=T(P)){const oe=[s.idSelector(P),"a"+s.attrSelector("name",P)].join();return l.get(oe,V)}}function T(P){return P==null?void 0:P.replace(/^#/,"")}function G(P){const V=document.activeElement;if(up.fragment.contains(P,V))return V}const se=["selectionStart","selectionEnd","scrollLeft","scrollTop"];function le(P,V={}){for(let oe of se)try{V[oe]=P[oe]}catch{}return V}return document.addEventListener("DOMContentLoaded",function(){X(),t.task(X)}),up.on(window,"hashchange",()=>X()),up.on("up:click",'a[href^="#"]',function(P,V){V.hash===location.hash&&(up.link.isFollowable(V)||X(V.hash)&&up.event.halt(P))}),{reveal:h,revealHash:X,firstHashTarget:_,config:u,get:z,subtree:ee,around:Y,get root(){return re()},rootWidth:H,rootHeight:k,isRoot:b,rootScrollbarWidth:S,saveScroll:ne,restoreScroll:q,resetScroll:L,saveFocus:Q,restoreFocus:A,absolutize:F,focus:g,tryFocus:$,newStateCache:j,focusedElementWithin:G,copyCursorProps:le,bodyShifter:d}}(),up.focus=up.viewport.focus,up.reveal=up.viewport.reveal},(n,a,o)=>{o.r(a)},()=>{up.motion=function(){const n=up.util,a=up.element;let o={},t={};const s=new up.MotionController("motion"),l=new up.Config(()=>({duration:175,easing:"ease",enabled:!matchMedia("(prefers-reduced-motion: reduce)").matches}));function u(A){return n.pickBy(A,"isDefault")}function d(){s.reset(),o=u(o),t=u(t)}function h(){return l.enabled}function g(A,j,E){A=up.fragment.get(A),E=n.options(E);let L=re(j);const K=R(A,j,E);if(L=up.error.guardFn(L),K){const F=()=>L(A,E);return s.startFunction(A,F,E)}else return $(A,j)}function R(A,j,E){return O(E),h()&&!v(j)&&E.duration>0&&!a.isSingleton(A)}function $(A,j){return n.isOptions(j)&&a.setStyle(A,j),Promise.resolve()}function X(A,j,E){return up.migrate.loaded&&(j=up.migrate.fixStyleProps(j)),E={...E,finishEvent:s.finishEvent},new up.CSSTransition(A,j,E).start()}function O(A){A.easing??(A.easing=l.easing),A.duration??(A.duration=l.duration)}function z(A){return o[A]||up.fail("Unknown animation %o",A)}function ee(A){return s.finish(A)}function Y(A,j,E,L){L=n.options(L),O(L),A=up.fragment.get(A),j=up.fragment.get(j);let K=I(E);const F=R(A,K,L);K=up.error.guardFn(K);const _=n.pluckKey(L,"beforeStart")||n.noop,T=n.pluckKey(L,"afterInsert")||n.noop,G=n.pluckKey(L,"beforeDetach")||n.noop,se=n.pluckKey(L,"afterDetach")||n.noop,le=n.pluckKey(L,"scrollNew")||n.noop;if(_(),F){if(s.isActive(A)&&L.trackMotion===!1)return K(A,j,L);up.puts("up.morph()","Morphing %o to %o with transition %O over %d ms",A,j,E,L.duration);const P=up.viewport.get(A),V=P.scrollTop,oe=up.viewport.absolutize(A,{afterMeasure(){a.insertBefore(A,j),T()}}),ue=async function(){le();const pe=P.scrollTop;oe.moveBounds(0,pe-V),await K(A,j,L),G(),oe.bounds.remove(),se()};return s.startFunction([A,j],ue,L)}else return G(),H(A,j),T(),se(),le(),Promise.resolve()}function I(A){if(!v(A)){if(n.isFunction(A))return A;if(n.isArray(A))return J(...A);if(n.isString(A)){let j;if(A.indexOf("/")>=0)return J(...A.split("/"));if(j=t[A])return I(j)}else up.fail("Unknown transition %o",A)}}function J(A,j){if(!v(A)&&!v(j)){const E=re(A)||n.asyncNoop,L=re(j)||n.asyncNoop;return(K,F,_)=>Promise.all([E(K,_),L(F,_)])}}function re(A){if(!v(A)){if(n.isFunction(A))return A;if(n.isString(A))return z(A);if(n.isOptions(A))return(j,E)=>X(j,A,E);up.fail("Unknown animation %o",A)}}const H=up.mockable(function(A,j){A.replaceWith(j)});function k(A,j,E){j=n.options(j);let L=new up.OptionsParser(A,j,E);return L.booleanOrString("animation"),L.booleanOrString("transition"),L.string("easing"),L.number("duration"),j}function b(A,j){const E=I(j);E.isDefault=up.framework.evaling,t[A]=E}function S(A,j){const E=re(j);E.isDefault=up.framework.evaling,o[A]=E}up.on("up:framework:boot",function(){h()||up.puts("up.motion","Animations are disabled")});function v(A){return!A||A==="none"}function U(A,j,E){S(A,function(L,K){return L.style.opacity=0,a.setStyle(L,{opacity:j}),X(L,{opacity:E},K)})}U("fade-in",0,1),U("fade-out",1,0);function ne(A,j){return{transform:`translate(${A}px, ${j}px)`}}function M(){return{transform:""}}function q(A){return a.setStyle(A,M()),A.getBoundingClientRect()}function Q(A,j){const E=`move-to-${A}`,L=`move-from-${A}`;S(E,function(K,F){const _=q(K),T=j(_);return X(K,T,F)}),S(L,function(K,F){const _=q(K),T=j(_);return a.setStyle(K,T),X(K,M(),F)})}return Q("top",function(A){const j=A.top+A.height;return ne(0,-j)}),Q("bottom",function(A){const j=up.viewport.rootHeight()-A.top;return ne(0,j)}),Q("left",function(A){const j=A.left+A.width;return ne(-j,0)}),Q("right",function(A){const j=up.viewport.rootWidth()-A.left;return ne(j,0)}),b("cross-fade",["fade-out","fade-in"]),b("move-left",["move-to-left","move-from-right"]),b("move-right",["move-to-right","move-from-left"]),b("move-up",["move-to-top","move-from-bottom"]),b("move-down",["move-to-bottom","move-from-top"]),up.on("up:framework:reset",d),{morph:Y,animate:g,finish:ee,finishCount(){return s.finishCount},transition:b,animation:S,config:l,isEnabled:h,isNone:v,willAnimate:R,swapElementsDirectly:H,motionOptions:k}}(),up.transition=up.motion.transition,up.animation=up.motion.animation,up.morph=up.motion.morph,up.animate=up.motion.animate},(n,a,o)=>{o(92);const t=up.util;up.network=function(){const s=new up.Config(()=>({concurrency:6,wrapMethod:!0,cacheSize:70,cacheExpireAge:15e3,cacheEvictAge:54e5,lateDelay:400,fail(b){return(b.status<200||b.status>299)&&b.status!==304},autoCache(b){return b.isSafe()},expireCache(b,S){return!b.isSafe()},evictCache:!1,progressBar:!0,timeout:9e4})),l=new up.Request.Queue,u=new up.Request.Cache;let d=null;function h(){I(),l.reset(),u.reset(),d==null||d.destroy(),d=null}function g(...b){const S=R(b),v=new up.Request(S);return $(v),v}function R(b){var v,U;let S=t.parseArgIntoOptions(b,"url");return(U=(v=up.migrate).handleRequestOptions)==null||U.call(v,S),S}function $(b){X(b)||O(b)}function X(b){let S;if(b.willCache()&&(S=u.get(b)))return up.puts("up.request()","Re-using previous request to %s",b.description),b.background||l.promoteToForeground(S),S.mergeIfUnsent(b),u.track(S,b,{onIncompatible:$}),!0}function O(b){return z(b),l.asap(b),!0}function z(b){b.willCache()&&(u.put(b),b.onLoading=()=>u.reindex(b)),t.always(b,function(S){let v=S.expireCache??b.expireCache??t.evalOption(s.expireCache,b,S);v&&u.expire(v,{except:b});let U=S.evictCache??b.evictCache??t.evalOption(s.evictCache,b,S);U&&u.evict(U,{except:b});let ne=u.get(b),M=S instanceof up.Response,q=!M,Q=M&&S.ok,A=M&&!S.ok,j=M&&S.none;A?u.evict(b.url):q||j?u.evict(b):Q&&ne&&u.put(b)})}function ee(){return l.isBusy()}function Y(b){new up.Request(b).loadPage()}function I(...b){var S,v;(v=(S=up.migrate).preprocessAbortArgs)==null||v.call(S,b),l.abort(...b)}function J(b,S){if(b.cache&&S.url&&b.url!==S.url){const v=t.variant(b,{method:S.method,url:S.url,cacheRoute:null});u.alias(b,v)}}function re(b){return t.contains(["GET","OPTIONS","HEAD"],t.normalizeMethod(b))}function H(){t.evalOption(s.progressBar)&&(d=new up.ProgressBar)}function k(){d==null||d.conclude()}return up.on("up:network:late",H),up.on("up:network:recover",k),up.on("up:framework:reset",h),{request:g,cache:u,isBusy:ee,isSafeMethod:re,config:s,abort:I,registerAliasForRedirect:J,queue:l,loadPage:Y}}(),up.request=up.network.request,up.cache=up.network.cache},(n,a,o)=>{o.r(a)},(n,a,o)=>{o(94);const t=up.util,s=up.element;up.layer=function(){const l=[up.Layer.Root,up.Layer.Modal,up.Layer.Popup,up.Layer.Drawer,up.Layer.Cover],u=new up.Config(function(){const v={mode:"modal",any:{mainTargets:["[up-main='']","main",":layer"]},root:{mainTargets:["[up-main~=root]"],history:!0},overlay:{mainTargets:["[up-main~=overlay]"],openAnimation:"fade-in",closeAnimation:"fade-out",dismissLabel:"×",dismissARIALabel:"Dismiss dialog",dismissable:!0,history:"auto",trapFocus:!0},cover:{mainTargets:["[up-main~=cover]"]},drawer:{mainTargets:["[up-main~=drawer]"],backdrop:!0,position:"left",size:"medium",openAnimation(U){switch(U.position){case"left":return"move-from-left";case"right":return"move-from-right"}},closeAnimation(U){switch(U.position){case"left":return"move-to-left";case"right":return"move-to-right"}}},modal:{mainTargets:["[up-main~=modal]"],backdrop:!0,size:"medium"},popup:{mainTargets:["[up-main~=popup]"],position:"bottom",size:"medium",align:"left",dismissable:"outside key",trapFocus:!1},foreignOverlaySelectors:["dialog"]};for(let U of l)v[U.mode].Class=U;return v});let d=null,h=[];function g(v){return t.flatMap(R(v),"mainTargets")}function R(v){return v==="root"?[u.root,u.any]:[u[v],u.overlay,u.any]}function $(v){var U,ne;if(!(v.layer instanceof up.Layer))if((ne=(U=up.migrate).handleLayerOptions)==null||ne.call(U,v),t.isGiven(v.layer)){let M=String(v.layer).match(/^(new|shatter|swap)( (\w+))?/);if(M){v.layer="new";const q=M[1],Q=M[3];v.mode||(v.mode=Q||u.mode),q==="swap"?up.layer.isOverlay()&&(v.baseLayer="parent"):q==="shatter"&&(v.baseLayer="root")}}else t.isElementLike(v.target)?v.layer=d.get(v.target,{normalizeLayerOptions:!1}):v.origin?v.layer="origin":v.layer="current"}function X(v){v.baseLayer instanceof up.Layer||(v.baseLayer=d.get("current",{...v,normalizeLayerOptions:!1}))}function O(v){$(v),v.context??(v.context={}),X(v)}function z(v,U){const{mode:ne}=v,{Class:M}=u[ne],q=t.reverse(R(ne));let Q=up.migrate.handleLayerConfig;return Q&&q.forEach(Q),v.openAnimation??(v.openAnimation=t.pluckKey(v,"animation")),v=t.mergeDefined(...q,{mode:ne,stack:d},v),U&&(v=U(v)),new M(v)}function ee(v,U){return s.callbackAttr(v,U,{exposedKeys:["layer"]})}function Y(v,U){return s.callbackAttr(v,U,{exposedKeys:["layer","value","response"]})}function I(){d.reset(),h=t.filter(h,"isDefault")}async function J(v){return v=t.options(v,{layer:"new",defaultToEmptyContent:!0,navigate:!0}),(await up.render(v)).layer}function re(v){return new Promise(function(U,ne){v={...v,onAccepted:M=>U(M.value),onDismissed:M=>ne(M.value)},J(v)})}function H(){return t.map(l,v=>v.selector()).join()}function k(v){return t.isString(v)?`layer "${v}"`:v.toString()}function b(v){let U=u.selector("foreignOverlaySelectors");return!!(U&&v.closest(U))}up.on("up:fragment:destroyed",function(){d.sync()}),up.on("up:framework:evaled",function(){d=new up.LayerStack}),up.on("up:framework:reset",I);const S={config:u,mainTargets:g,open:J,build:z,ask:re,normalizeOptions:O,openCallbackAttr:ee,closeCallbackAttr:Y,anySelector:H,optionToString:k,get stack(){return d.layers},isWithinForeignOverlay:b};return t.delegate(S,["get","getAll","root","overlays","current","front","sync","count","dismissOverlays"],()=>d),t.delegate(S,["accept","dismiss","isRoot","isOverlay","isFront","on","off","emit","parent","history","location","mode","context","element","contains","size","affix"],()=>d.current),S}()},(n,a,o)=>{o.r(a)},(n,a,o)=>{o(96),up.link=function(){const t=up.util,s=up.element;let l=null;const u="[up-content], [up-fragment], [up-document]",d=`${u}, [up-target], [up-layer], [up-transition], [up-preload]`,h="a[href], button",g=new up.Config(()=>({followSelectors:["[up-follow]",`a:is(${d})`],noFollowSelectors:["[up-follow=false]","a[download]","a[target]",'a[href^="javascript:"]','a[href^="mailto:"]','a[href^="tel:"]',`a[href^="#"]:not(${u})`,s.crossOriginSelector("href"),s.crossOriginSelector("up-href")],instantSelectors:["[up-instant]"],noInstantSelectors:["[up-instant=false]","[onclick]"],preloadSelectors:["[up-preload]"],noPreloadSelectors:["[up-preload=false]"],clickableSelectors:["[up-clickable]","[up-follow]","[up-emit]","[up-accept]","[up-dismiss]",`a:is(${d})`],noClickableSelectors:["[up-clickable=false]",h],preloadDelay:90}));function R(E){return!up.browser.canPushState()||!H(E)||!$(E)}function $(E){const L=z(E);if(L.url)return L.cache==null&&(L.cache="auto"),L.basic=!0,new up.Request(L).willCache()}function X(){l=null}const O=up.mockable(function(E,L,K){return up.render(ee(E,L,K))});function z(E,L,K){L=t.options(L);const F=new up.OptionsParser(E,L,{...K,fail:!1});return L.url=re(E,L),L.method=J(E,L),F.json("headers"),F.json("params"),F.booleanOrString("cache"),F.booleanOrString("expireCache"),F.booleanOrString("evictCache"),F.booleanOrString("revalidate"),F.booleanOrString("abort"),F.boolean("abortable"),F.boolean("background"),F.string("contentType"),F.booleanOrNumber("lateDelay"),F.number("timeout"),L}function ee(E,L,K){E=up.fragment.get(E),L=t.options(L);const F=new up.OptionsParser(E,L,{fail:!0,...K});return F.include(z),L.origin||(L.origin=E),F.boolean("fail"),F.boolean("navigate",{default:!0}),F.string("confirm",{attr:["up-confirm","data-confirm"]}),F.string("target"),F.booleanOrString("fallback"),F.string("match"),F.string("document"),F.string("fragment"),F.string("content"),F.boolean("keep",{attr:"up-use-keep"}),F.boolean("hungry",{attr:"up-use-hungry"}),F.json("data",{attr:"up-use-data"}),F.callback("onLoaded"),F.callback("onRendered",{mainKey:"result"}),F.callback("onFinished",{mainKey:"result"}),F.callback("onOffline",{mainKey:"error"}),F.callback("onError",{mainKey:"error"}),F.boolean("peel"),F.string("layer"),F.string("baseLayer"),F.json("context"),F.string("mode"),F.string("align"),F.string("position"),F.string("class"),F.string("size"),F.booleanOrString("dismissable"),F.parse(up.layer.openCallbackAttr,"onOpened"),F.parse(up.layer.closeCallbackAttr,"onAccepted"),F.parse(up.layer.closeCallbackAttr,"onDismissed"),F.string("acceptEvent"),F.string("dismissEvent"),F.string("acceptLocation"),F.string("dismissLocation"),F.booleanOrString("history"),F.include(up.status.statusOptions),F.booleanOrString("focus"),F.boolean("saveScroll"),F.boolean("saveFocus"),F.booleanOrString("scroll"),F.boolean("revealTop"),F.number("revealMax"),F.number("revealPadding"),F.number("revealSnap"),F.string("scrollBehavior"),F.booleanOrString("history"),F.booleanOrString("location"),F.booleanOrString("title"),F.boolean("metaTags"),F.booleanOrString("lang"),F.include(up.motion.motionOptions),L.guardEvent??(L.guardEvent=up.event.build("up:link:follow",{log:["Following link %o",E]})),L}function Y(E,L){E=up.fragment.get(E);let K=I(E);if(K)return Promise.reject(new up.Error(K));const F=up.event.build("up:link:preload",{log:["Preloading link %o",E]});return O(E,{abort:!1,abortable:!1,background:!0,cache:!0,...up.RenderOptions.NO_INPUT_INTERFERENCE,...up.RenderOptions.NO_PREVIEWS,...L,guardEvent:F,preload:!0})}function I(E){if(!Q(E))return"Will not preload an unsafe link"}function J(E,L={}){return t.normalizeMethod(L.method||E.getAttribute("up-method")||E.getAttribute("data-method"))}function re(E,L={}){const K=L.url||E.getAttribute("up-href")||E.getAttribute("href");if(K!=="#")return K}function H(E){return E=up.fragment.get(E),g.matches(E,"followSelectors")}function k(E){H(E)||E.setAttribute("up-follow","")}function b(E){let L=E.matches("a, [up-follow]")?"link":"button";s.setMissingAttrs(E,{tabindex:"0",role:L,"up-clickable":""}),E.addEventListener("keydown",function(K){if(K.key==="Enter"||E.role==="button"&&K.key==="Space")return q(K)})}up.macro(g.selectorFn("clickableSelectors"),b);function S(E,L){if(E.defaultPrevented)return!1;const K=`a, [up-follow], ${up.form.fieldSelector()}`,F=E.target.closest(K);return!F||F===L}function v(E){const L=E.closest(g.selector("instantSelectors"));return L&&!U(L)}function U(E){return g.matches(E,"noInstantSelectors")||g.matches(E,"noFollowSelectors")}function ne(E){E.on("click",function(L,K){if(up.event.isUnmodified(L))return v(K)&&l?up.event.halt(L):(up.event.inputDevice==="key"||up.event.isSyntheticClick(L)||E.wasHitByMouseEvent(L)&&!M(L))&&q(L),l=null}),E.on("mousedown",function(L,K){up.event.isUnmodified(L)&&(l=L.target,v(K)&&q(L))})}function M(E){return l&&l!==E.target}function q(E){let L=["clientX","clientY","button",...up.event.keyModifiers];const K=up.event.fork(E,"up:click",L);up.emit(E.target,K,{log:!1})}function Q(E){const L=J(E);return up.network.isSafeMethod(L)}function A(E,L,K){switch(E){case"insert":K();break;case"reveal":{let F=s.numberAttr(L,"up-intersect-margin");up.fragment.onFirstIntersect(L,K,{margin:F});break}case"hover":new up.LinkFollowIntent(L,K);break}}function j(E,L){let F={navigate:!1,guardEvent:up.event.build("up:deferred:load",{log:["Loading deferred %o",E]}),...L};return O(E,F,{defaults:{target:":origin",cache:"auto",revalidate:"auto",feedback:!0}})}return up.attribute("up-defer",{defaultValue:"insert"},function(E,L){A(L,E,F=>up.error.muteUncriticalRejection(j(E,F)))}),up.on("up:click",g.selectorFn("followSelectors"),function(E,L){S(E,L)&&(up.event.halt(E,{log:!0}),up.focus(L,{preventScroll:!0}),up.error.muteUncriticalRejection(O(L)))}),up.attribute("up-expand",{defaultValue:"a, [up-href]",macro:!0},function(E,L){let K=s.get(E,L);K&&(s.setMissingAttrs(E,{"up-href":s.attr(K,"href"),...s.upAttrs(K)}),s.addClasses(E,s.upClasses(K)),k(E))}),up.compiler(g.selectorFn("preloadSelectors"),function(E){if(!R(E)){let L=F=>up.error.muteUncriticalRejection(Y(E,F)),K=s.booleanOrStringAttr(E,"up-preload");(K===!0||t.isUndefined(K))&&(K="hover"),A(K,E,L)}}),up.on("up:framework:reset",X),{follow:O,followOptions:ee,requestOptions:z,preload:Y,makeFollowable:k,isSafe:Q,isFollowable:H,shouldFollowEvent:S,convertClicks:ne,config:g,loadDeferred:j}}(),up.follow=up.link.follow,up.deferred={load:up.link.loadDeferred}},(n,a,o)=>{o.r(a)},()=>{up.form=function(){const n=up.util,a=up.element,o=new up.Config(()=>({groupSelectors:["[up-form-group]","fieldset","label","form"],fieldSelectors:["select","input:not([type=submit], [type=image], [type=button])","button[type]:not([type=submit], [type=button])","textarea"],submitSelectors:["form:is([up-submit], [up-target], [up-layer], [up-transition])"],noSubmitSelectors:["[up-submit=false]","[target]",a.crossOriginSelector("action")],submitButtonSelectors:["input[type=submit]","input[type=image]","button[type=submit]","button:not([type])"],genericButtonSelectors:["input[type=button]","button[type=button]"],watchInputEvents:["input","change"],watchInputDelay:0,watchChangeEvents:["change"]}));function t(_=""){return o.fieldSelectors.map(T=>T+_).join()}function s(_){return _.matches(t())}function l(_){_=a.get(_);let T=a.subtree(_,t());if(_.matches("form[id]")){const G=t(a.attrSelector("form",_.getAttribute("id"))),se=up.fragment.all(G,{layer:_});T.push(...se),T=n.uniq(T)}return T}function u(_){return a.subtree(_,g())}function d(_){return a.subtree(_,o.selector("genericButtonSelectors"))}function h(_){return _==null?void 0:_.matches(g())}function g(){return o.selector("submitButtonSelectors")}const R=up.mockable((_,T)=>up.render($(_,T)));function $(_,T,G){_=j(_),T=n.options(T);let se=new up.OptionsParser(_,T,G);return se.include(I),se.string("failTarget",{default:up.fragment.tryToTarget(_)}),T.guardEvent||(T.guardEvent=up.event.build("up:form:submit",{submitButton:T.submitButton,log:"Submitting form",params:T.params,form:_})),T.origin||(T.origin=up.viewport.focusedElementWithin(_)||T.submitButton||_),T.activeElements=n.uniq([T.origin,T.submitButton,_].filter(n.isElement)),se.include(up.link.followOptions),T}function X(_,T,G={}){T=n.options(T);let se=new up.OptionsParser(_,T,{...G,closest:!0,attrPrefix:"up-watch-"});se.include(up.status.statusOptions),se.string("event"),se.number("delay");let le=up.form.config;return T.event==="input"?(T.event=n.evalOption(le.watchInputEvents,_),T.delay??(T.delay=le.watchInputDelay)):T.event==="change"&&(T.event=n.evalOption(le.watchChangeEvents,_)),T.origin||(T.origin=_),T}function O(_){let T=[...l(_),...u(_),...d(_)];return n.sequence(n.map(T,z))}function z(_){if(_.disabled)return;let T;return document.activeElement===_?(T=b(_),_.disabled=!0,up.focus(T,{force:!0,preventScroll:!0})):_.disabled=!0,()=>{_.disabled=!1}}function ee(_,T){let G=()=>E(T);return _===!0?[G()]:n.isElement(_)?[_]:n.isString(_)?up.fragment.subtree(G(),_,{origin:T}):n.isArray(_)?n.flatMap(_,se=>ee(se,T)):[]}function Y(_,T){return function(G){let se=ee(_,T);for(let le of se)G.disable(le)}}function I(_,T,G){T=n.options(T),_=j(_);const se=new up.OptionsParser(_,T,G);se.string("contentType",{attr:"enctype"}),se.json("headers");const le=up.Params.fromForm(_),P=T.submitButton??(T.submitButton=u(_)[0]);return P&&(le.addField(P),T.method||(T.method=P.getAttribute("formmethod")),T.url||(T.url=P.getAttribute("formaction"))),le.addAll(T.params),T.params=le,se.string("url",{attr:"action",default:up.fragment.source(_)}),se.string("method",{attr:["up-method","data-method","method"],default:"GET",normalize:n.normalizeMethod}),T.method==="GET"&&(T.url=up.Params.stripURL(T.url)),T}function J(..._){let[T,G,se]=n.args(_,"val","options","callback");T=up.element.get(T),se||(se=re(T)||up.fail("No callback given for up.watch()"));const le=new up.FieldWatcher(T,G,se);return le.start(),()=>le.stop()}function re(_){let T=_.getAttribute("up-watch");if(T)return up.NonceableCallback.fromString(T).toFunction("value","name","options").bind(_)}function H(_,T={}){const G=(se,le)=>R(_,le);return J(_,{...T,batch:!0},G)}function k(){var _,T;return((T=(_=up.migrate).migratedFormGroupSelectors)==null?void 0:T.call(_))||o.groupSelectors}function b(_){return S(_).element}function S(_){return n.findResult(k(),function(T){let G=_.closest(T);if(G){let se=up.fragment.tryToTarget(G,{strong:!0}),le=up.fragment.tryToTarget(_),P=le&&G!==_&&`${T}:has(${le})`,V=se||P;if(V)return{target:V,element:G,origin:_}}})}function v(..._){let T=U(..._);return up.FormValidator.forElement(T.origin).validate(T)}function U(_,...T){const G=n.extractOptions(T);return G.origin?G.target||(G.target=up.fragment.toTarget(_)):G.origin||(G.origin=up.fragment.get(_)),G}function ne(_){let T,G;if(_.matches("input[type=checkbox]"))_.checked?(T=_.value,G=":checked"):G=":unchecked";else if(_.matches("input[type=radio]")){const le=E(_),P=_.getAttribute("name"),V=le.querySelector(`input[type=radio]${a.attrSelector("name",P)}:checked`);V?(G=":checked",T=V.value):G=":unchecked"}else T=_.value;const se=[];return n.isPresent(T)?(se.push(T),se.push(":present")):se.push(":blank"),n.isPresent(G)&&se.push(G),se}function M(_,T={}){const G=T.target||T.target||_.getAttribute("up-switch"),se=E(_);G||up.fail("No switch target given for %o",_);const le=ne(_);for(let P of up.fragment.all(se,G))q(P,le)}const q=up.mockable(function(_,T){let G;T||(T=ne(A(_)));let se=_.getAttribute("up-hide-for");if(se)se=Q(se),G=n.intersect(T,se).length===0;else{let le=_.getAttribute("up-show-for");le=le?Q(le):[":present",":checked"],G=n.intersect(T,le).length>0}a.toggle(_,G),_.classList.add("up-switched")});function Q(_){return n.getSimpleTokens(_,{json:!0})}function A(_){const G=E(_).querySelectorAll("[up-switch]");return n.find(G,function(le){const P=le.getAttribute("up-switch");return _.matches(P)})||up.fail("Could not find [up-switch] field for %o",_)}function j(_,T={}){const G=up.fragment.get(_,T);return G.form||G.closest("form")}function E(_,T){return _?j(_,T)||up.layer.get(_).element:up.layer.current.element}function L(){return n.presence(document.activeElement,s)}function K(_){return _=up.fragment.get(_),o.matches(_,"submitSelectors")}up.on("submit",o.selectorFn("submitSelectors"),function(_,T){if(_.defaultPrevented)return;const G=n.presence(_.submitter,h);up.event.halt(_,{log:!0}),up.error.muteUncriticalRejection(R(T,{submitButton:G}))}),up.compiler(F,function(_){up.FormValidator.forElement(_).watchContainer(_)});function F(){let _=o.fieldSelectors.map(G=>`${G}[up-validate], [up-validate] ${G}`),T=["[up-validate=false]"];return a.unionSelector(_,T)}return up.compiler("[up-switch]",_=>{M(_)}),up.on("change","[up-switch]",(_,T)=>{M(T)}),up.compiler("[up-show-for]:not(.up-switched), [up-hide-for]:not(.up-switched)",_=>{q(_)}),up.attribute("up-watch",_=>J(_)),up.attribute("up-autosubmit",_=>H(_)),{config:o,submit:R,submitOptions:$,destinationOptions:I,watchOptions:X,isSubmittable:K,watch:J,validate:v,autosubmit:H,fieldSelector:t,fields:l,isField:s,submitButtons:u,focusedField:L,switchTarget:q,disable:O,getDisablePreviewFn:Y,group:b,groupSolution:S,groupSelectors:k,get:j,getScope:E}}(),up.submit=up.form.submit,up.watch=up.form.watch,up.autosubmit=up.form.autosubmit,up.validate=up.form.validate},()=>{up.status=function(){const n=up.util,a=up.element;let o={};const t=new up.Config(()=>({currentClasses:["up-current"],activeClasses:["up-active"],loadingClasses:["up-loading"],navSelectors:["[up-nav]","nav"],noNavSelectors:["[up-nav=false]"]}));function s(){up.layer.root.feedbackLocation=null,o=n.pickBy(o,"isDefault")}const l="a, [up-href]";function u(k){return k.upCurrentURLs||(k.upCurrentURLs=new up.LinkCurrentURLs(k))}function d(k,{layer:b}={}){b||(b=up.layer.get(k));let S=h(b);const v=t.selector("navSelectors"),U=`${v} :is(${l}), ${v}:is(${l})`,ne=up.fragment.all(U,{layer:b});for(let M of ne){const q=u(M).isCurrent(S);for(let Q of t.currentClasses)M.classList.toggle(Q,q);a.setAttrPresence(M,"aria-current","page",q)}}function h(k){return k.feedbackLocation||n.matchableURL(k.location)}function g(k){return a.ancestor(k,l)||k}function R(k,b){let{bindLayer:S}=k,v=up.FocusCapsule.preserve(S),U=()=>$(k,b),ne=S.asCurrent(U);return v==null||v.autoVoid(),()=>{S.asCurrent(ne),v==null||v.restore(S,{preventScroll:!0})}}function $(k,b){let{fragment:S,fragments:v,origin:U}=k,ne=n.cleaner(),M=Q=>new up.Preview({fragment:Q,request:k,renderOptions:b,cleaner:ne}),q=M(S);q.run(O(b.preview)),q.run(X(b.placeholder)),q.run(I(b.feedback,v)),q.run(up.form.getDisablePreviewFn(b.disable,U));for(let Q of v){let A=M(Q);A.run(a.matchSelectorMap(b.previewMap,Q)),A.run(a.matchSelectorMap(b.placeholderMap,Q).flatMap(X))}return ne.clean}function X(k){if(k)return function(b){b.showPlaceholder(k)}}function O(k){return n.isFunction(k)?[k]:n.isString(k)?z(k):n.isArray(k)?k.flatMap(O):[]}function z(k){return n.map(n.parseScalarJSONPairs(k),([b,S])=>{let v=o[b]||up.fail('Unknown preview "%s"',b);return function(U,ne){return up.puts("[up-preview]","Showing preview %o",b),v(U,S||ne)}})}function ee({origin:k,activeElements:b}){return b||(b=n.wrapList(k)),b.map(g)}function Y(k,b){b.isDefault=up.framework.evaling,o[k]=b}function I(k,b){if(k)return function(S){S.addClassBatch(ee(S.renderOptions),t.activeClasses),S.addClassBatch(b,t.loadingClasses)}}function J(k,b,S){b=n.options(b);const v=new up.OptionsParser(k,b,S);return v.booleanOrString("disable"),v.boolean("feedback"),v.string("preview"),v.booleanOrString("revalidatePreview"),v.string("placeholder"),b}function re(k){const b=k.feedbackLocation,S=h(k.location);(!b||b!==S)&&(k.feedbackLocation=S,d(k.element,{layer:k}))}function H(){const k=up.layer.front;k.showsLiveHistory()&&re(k)}return up.on("up:location:changed",k=>{H()}),up.on("up:fragment:compile",(k,b)=>{d(b)}),up.on("up:layer:location:changed",k=>{re(k.layer)}),up.on("up:framework:reset",s),{config:t,preview:Y,resolvePreviewFns:O,runPreviews:R,statusOptions:J}}(),up.preview=up.status.preview},()=>{up.radio=function(){const n=up.element,a=new up.Config(()=>({hungrySelectors:["[up-hungry]"],noHungrySelectors:["[up-hungry=false]"],pollInterval:3e4}));function o(u){let{hungry:d,origin:h,layer:g,meta:R}=u,$={current:[],other:[]};if(!d)return $;let X=a.selector("hungrySelectors");const O=[g,...g.ancestors,...g.descendants];for(let z of O){let ee=up.fragment.all(z.element,X,{layer:z});for(let Y of ee){let I=up.fragment.tryToTarget(Y,{origin:h});if(!I){up.warn("[up-hungry]","Ignoring untargetable fragment %o",Y);continue}let J=n.attr(Y,"up-if-layer"),re=J?up.layer.getAll(J,{baseLayer:z}):[z],H=up.motion.motionOptions(Y),k=up.event.build("up:fragment:hungry",{log:!1}),b=n.callbackAttr(Y,"up-on-hungry",{exposedKeys:["newFragment","renderOptions"]}),S={selector:I,oldElement:Y,layer:z,origin:h,...H,placement:"swap",keep:!0,maybe:!0,meta:R,selectEvent:k,selectCallback:b,originalRenderOptions:u};re.includes(g)&&(g===z?$.current:$.other).push(S)}}return $.other=up.fragment.compressNestedSteps($.other),$}function t(u,d={}){up.FragmentPolling.forFragment(u).forceStart(d)}function s(u){up.FragmentPolling.forFragment(u).forceStop()}function l(u,d={}){const h={background:!0},g=new up.OptionsParser(u,d,{defaults:h});return g.number("interval",{default:a.pollInterval}),g.string("ifLayer",{default:"front"}),g.include(up.link.requestOptions),g.include(up.status.statusOptions),d}return up.attribute("up-poll",function(u){up.FragmentPolling.forFragment(u).onPollAttributeObserved()}),up.macro("[up-flashes]",function(u){n.setMissingAttrs(u,{"up-hungry":"","up-if-layer":"subtree","up-keep":"",role:"alert"}),u.addEventListener("up:fragment:keep",function(d){n.isEmpty(d.newFragment)||d.preventDefault()})}),{config:a,hungrySteps:o,startPolling:t,stopPolling:s,pollOptions:l}}()},()=>{(function(){const n=up.element;function a(){var o;return window.Rails||((o=window.jQuery)==null?void 0:o.rails)}for(let o of["method","confirm"]){const t=`up-${o}`,s=`data-${o}`;up.macro(`a[${s}]`,function(l){a()&&up.link.isFollowable(l)&&(n.setMissingAttr(l,t,l.getAttribute(s)),l.removeAttribute(s))})}})()}],r={};function i(n){var a=r[n];if(a!==void 0)return a.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i(1),i(2),i(3),i(4),i(5),i(6),i(7),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27),i(28),i(29),i(30),i(31),i(32),i(33),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),i(55),i(56),i(57),i(58),i(59),i(60),i(61),i(62),i(63),i(64),i(65),i(66),i(67),i(68),i(69),i(70),i(71),i(72),i(73),i(74),i(75),i(76),i(77),i(78),i(79),i(80),i(81),i(82),i(83),i(84),i(85),i(86),i(88),i(90),i(91),i(93),i(95),i(97),i(98),i(99),i(100),up.framework.onEvaled()})()}()),ss}Zu();function Oo(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}const ec=()=>({tracks:mt.$persist([]),availableTaals:[],availableInstruments:[],selectedTaal:"teental",selectedInstrument:"santoor",get filteredTracks(){return this.tracks.length?this.tracks.filter(e=>{const r=e.taal===this.selectedTaal,i=this.selectedInstrument==="all"||e.instrument===this.selectedInstrument;return r&&i}):[]},capitalize:Oo,async init(){await this.fetchTracks(),this.populateFilters(),window.tracks=this},async fetchTracks(){if(!(this.tracks.length>0))try{const e=await fetch("tracks.json");this.tracks=await e.json()}catch(e){console.error("Failed to fetch tracks.json:",e)}},populateFilters(){if(!this.tracks.length)return;const e=[...new Set(this.tracks.map(i=>i.taal))];this.availableTaals=e,e.length>0&&(this.selectedTaal=e[0]);const r=[...new Set(this.tracks.map(i=>i.instrument))].sort();this.availableInstruments=["all",...r],this.selectedInstrument="all"}}),tc="modulepreload",rc=function(e){return"/"+e},as={},nc=function(r,i,n){let a=Promise.resolve();if(i&&i.length>0){let t=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=t(i.map(u=>{if(u=rc(u),u in as)return;as[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":tc,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((R,$)=>{g.addEventListener("load",R),g.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(t){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t}return a.then(t=>{for(const s of t||[])s.status==="rejected"&&o(s.reason);return r().catch(o)})};/*!
* sweetalert2 v11.22.1
* Released under the MIT License.
*/function Fo(e,r,i){if(typeof e=="function"?e===r:e.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function ic(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ls(e,r){return e.get(Fo(e,r))}function sc(e,r,i){ic(e,r),r.set(e,i)}function oc(e,r,i){return e.set(Fo(e,r),i),i}const ac=100,ie={},lc=()=>{ie.previousActiveElement instanceof HTMLElement?(ie.previousActiveElement.focus(),ie.previousActiveElement=null):document.body&&document.body.focus()},uc=e=>new Promise(r=>{if(!e)return r();const i=window.scrollX,n=window.scrollY;ie.restoreFocusTimeout=setTimeout(()=>{lc(),r()},ac),window.scrollTo(i,n)}),Ro="swal2-",cc=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],C=cc.reduce((e,r)=>(e[r]=Ro+r,e),{}),dc=["success","warning","info","question","error"],Xr=dc.reduce((e,r)=>(e[r]=Ro+r,e),{}),Mo="SweetAlert2:",vi=e=>e.charAt(0).toUpperCase()+e.slice(1),Fe=e=>{console.warn(`${Mo} ${typeof e=="object"?e.join(" "):e}`)},$t=e=>{console.error(`${Mo} ${e}`)},us=[],fc=e=>{us.includes(e)||(us.push(e),Fe(e))},Do=(e,r=null)=>{fc(`"${e}" is deprecated and will be removed in the next major release.${r?` Use "${r}" instead.`:""}`)},fn=e=>typeof e=="function"?e():e,ki=e=>e&&typeof e.toPromise=="function",Er=e=>ki(e)?e.toPromise():Promise.resolve(e),xi=e=>e&&Promise.resolve(e)===e,Re=()=>document.body.querySelector(`.${C.container}`),Cr=e=>{const r=Re();return r?r.querySelector(e):null},Ie=e=>Cr(`.${e}`),de=()=>Ie(C.popup),er=()=>Ie(C.icon),hc=()=>Ie(C["icon-content"]),$o=()=>Ie(C.title),Si=()=>Ie(C["html-container"]),Bo=()=>Ie(C.image),Ei=()=>Ie(C["progress-steps"]),hn=()=>Ie(C["validation-message"]),Qe=()=>Cr(`.${C.actions} .${C.confirm}`),tr=()=>Cr(`.${C.actions} .${C.cancel}`),Bt=()=>Cr(`.${C.actions} .${C.deny}`),pc=()=>Ie(C["input-label"]),rr=()=>Cr(`.${C.loader}`),Tr=()=>Ie(C.actions),Io=()=>Ie(C.footer),pn=()=>Ie(C["timer-progress-bar"]),Ci=()=>Ie(C.close),mc=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ti=()=>{const e=de();if(!e)return[];const r=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(r).sort((o,t)=>{const s=parseInt(o.getAttribute("tabindex")||"0"),l=parseInt(t.getAttribute("tabindex")||"0");return s>l?1:s<l?-1:0}),n=e.querySelectorAll(mc),a=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(i.concat(a))].filter(o=>$e(o))},Ai=()=>rt(document.body,C.shown)&&!rt(document.body,C["toast-shown"])&&!rt(document.body,C["no-backdrop"]),mn=()=>{const e=de();return e?rt(e,C.toast):!1},gc=()=>{const e=de();return e?e.hasAttribute("data-loading"):!1},Ne=(e,r)=>{if(e.textContent="",r){const n=new DOMParser().parseFromString(r,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(t=>{e.appendChild(t)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},rt=(e,r)=>{if(!r)return!1;const i=r.split(/\s+/);for(let n=0;n<i.length;n++)if(!e.classList.contains(i[n]))return!1;return!0},wc=(e,r)=>{Array.from(e.classList).forEach(i=>{!Object.values(C).includes(i)&&!Object.values(Xr).includes(i)&&!Object.values(r.showClass||{}).includes(i)&&e.classList.remove(i)})},Be=(e,r,i)=>{if(wc(e,r),!r.customClass)return;const n=r.customClass[i];if(n){if(typeof n!="string"&&!n.forEach){Fe(`Invalid type of customClass.${i}! Expected string or iterable object, got "${typeof n}"`);return}he(e,n)}},gn=(e,r)=>{if(!r)return null;switch(r){case"select":case"textarea":case"file":return e.querySelector(`.${C.popup} > .${C[r]}`);case"checkbox":return e.querySelector(`.${C.popup} > .${C.checkbox} input`);case"radio":return e.querySelector(`.${C.popup} > .${C.radio} input:checked`)||e.querySelector(`.${C.popup} > .${C.radio} input:first-child`);case"range":return e.querySelector(`.${C.popup} > .${C.range} input`);default:return e.querySelector(`.${C.popup} > .${C.input}`)}},No=e=>{if(e.focus(),e.type!=="file"){const r=e.value;e.value="",e.value=r}},Ho=(e,r,i)=>{!e||!r||(typeof r=="string"&&(r=r.split(/\s+/).filter(Boolean)),r.forEach(n=>{Array.isArray(e)?e.forEach(a=>{i?a.classList.add(n):a.classList.remove(n)}):i?e.classList.add(n):e.classList.remove(n)}))},he=(e,r)=>{Ho(e,r,!0)},ze=(e,r)=>{Ho(e,r,!1)},dt=(e,r)=>{const i=Array.from(e.children);for(let n=0;n<i.length;n++){const a=i[n];if(a instanceof HTMLElement&&rt(a,r))return a}},Ft=(e,r,i)=>{i===`${parseInt(i)}`&&(i=parseInt(i)),i||parseInt(i)===0?e.style.setProperty(r,typeof i=="number"?`${i}px`:i):e.style.removeProperty(r)},Ae=(e,r="flex")=>{e&&(e.style.display=r)},Le=e=>{e&&(e.style.display="none")},Li=(e,r="block")=>{e&&new MutationObserver(()=>{Ar(e,e.innerHTML,r)}).observe(e,{childList:!0,subtree:!0})},cs=(e,r,i,n)=>{const a=e.querySelector(r);a&&a.style.setProperty(i,n)},Ar=(e,r,i="flex")=>{r?Ae(e,i):Le(e)},$e=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),yc=()=>!$e(Qe())&&!$e(Bt())&&!$e(tr()),Yn=e=>e.scrollHeight>e.clientHeight,_c=(e,r)=>{let i=e;for(;i&&i!==r;){if(Yn(i))return!0;i=i.parentElement}return!1},jo=e=>{const r=window.getComputedStyle(e),i=parseFloat(r.getPropertyValue("animation-duration")||"0"),n=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0||n>0},Pi=(e,r=!1)=>{const i=pn();i&&$e(i)&&(r&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition=`width ${e/1e3}s linear`,i.style.width="0%"},10))},bc=()=>{const e=pn();if(!e)return;const r=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const i=parseInt(window.getComputedStyle(e).width),n=r/i*100;e.style.width=`${n}%`},vc=()=>typeof window>"u"||typeof document>"u",kc=`
 <div aria-labelledby="${C.title}" aria-describedby="${C["html-container"]}" class="${C.popup}" tabindex="-1">
   <button type="button" class="${C.close}"></button>
   <ul class="${C["progress-steps"]}"></ul>
   <div class="${C.icon}"></div>
   <img class="${C.image}" />
   <h2 class="${C.title}" id="${C.title}"></h2>
   <div class="${C["html-container"]}" id="${C["html-container"]}"></div>
   <input class="${C.input}" id="${C.input}" />
   <input type="file" class="${C.file}" />
   <div class="${C.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${C.select}" id="${C.select}"></select>
   <div class="${C.radio}"></div>
   <label class="${C.checkbox}">
     <input type="checkbox" id="${C.checkbox}" />
     <span class="${C.label}"></span>
   </label>
   <textarea class="${C.textarea}" id="${C.textarea}"></textarea>
   <div class="${C["validation-message"]}" id="${C["validation-message"]}"></div>
   <div class="${C.actions}">
     <div class="${C.loader}"></div>
     <button type="button" class="${C.confirm}"></button>
     <button type="button" class="${C.deny}"></button>
     <button type="button" class="${C.cancel}"></button>
   </div>
   <div class="${C.footer}"></div>
   <div class="${C["timer-progress-bar-container"]}">
     <div class="${C["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),xc=()=>{const e=Re();return e?(e.remove(),ze([document.documentElement,document.body],[C["no-backdrop"],C["toast-shown"],C["has-column"]]),!0):!1},Et=()=>{ie.currentInstance.resetValidationMessage()},Sc=()=>{const e=de(),r=dt(e,C.input),i=dt(e,C.file),n=e.querySelector(`.${C.range} input`),a=e.querySelector(`.${C.range} output`),o=dt(e,C.select),t=e.querySelector(`.${C.checkbox} input`),s=dt(e,C.textarea);r.oninput=Et,i.onchange=Et,o.onchange=Et,t.onchange=Et,s.oninput=Et,n.oninput=()=>{Et(),a.value=n.value},n.onchange=()=>{Et(),a.value=n.value}},Ec=e=>typeof e=="string"?document.querySelector(e):e,Cc=e=>{const r=de();r.setAttribute("role",e.toast?"alert":"dialog"),r.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||r.setAttribute("aria-modal","true")},Tc=e=>{window.getComputedStyle(e).direction==="rtl"&&he(Re(),C.rtl)},Ac=e=>{const r=xc();if(vc()){$t("SweetAlert2 requires document to initialize");return}const i=document.createElement("div");i.className=C.container,r&&he(i,C["no-transition"]),Ne(i,kc),i.dataset.swal2Theme=e.theme;const n=Ec(e.target);n.appendChild(i),e.topLayer&&(i.setAttribute("popover",""),i.showPopover()),Cc(e),Tc(n),Sc()},Oi=(e,r)=>{e instanceof HTMLElement?r.appendChild(e):typeof e=="object"?Lc(e,r):e&&Ne(r,e)},Lc=(e,r)=>{e.jquery?Pc(r,e):Ne(r,e.toString())},Pc=(e,r)=>{if(e.textContent="",0 in r)for(let i=0;i in r;i++)e.appendChild(r[i].cloneNode(!0));else e.appendChild(r.cloneNode(!0))},Oc=(e,r)=>{const i=Tr(),n=rr();!i||!n||(!r.showConfirmButton&&!r.showDenyButton&&!r.showCancelButton?Le(i):Ae(i),Be(i,r,"actions"),Fc(i,n,r),Ne(n,r.loaderHtml||""),Be(n,r,"loader"))};function Fc(e,r,i){const n=Qe(),a=Bt(),o=tr();!n||!a||!o||(Fn(n,"confirm",i),Fn(a,"deny",i),Fn(o,"cancel",i),Rc(n,a,o,i),i.reverseButtons&&(i.toast?(e.insertBefore(o,n),e.insertBefore(a,n)):(e.insertBefore(o,r),e.insertBefore(a,r),e.insertBefore(n,r))))}function Rc(e,r,i,n){if(!n.buttonsStyling){ze([e,r,i],C.styled);return}he([e,r,i],C.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&r.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&i.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),On(e),On(r),On(i)}function On(e){const r=window.getComputedStyle(e);if(r.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const i=r.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",r.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${i}`))}function Fn(e,r,i){const n=vi(r);Ar(e,i[`show${n}Button`],"inline-block"),Ne(e,i[`${r}ButtonText`]||""),e.setAttribute("aria-label",i[`${r}ButtonAriaLabel`]||""),e.className=C[r],Be(e,i,`${r}Button`)}const Mc=(e,r)=>{const i=Ci();i&&(Ne(i,r.closeButtonHtml||""),Be(i,r,"closeButton"),Ar(i,r.showCloseButton),i.setAttribute("aria-label",r.closeButtonAriaLabel||""))},Dc=(e,r)=>{const i=Re();i&&($c(i,r.backdrop),Bc(i,r.position),Ic(i,r.grow),Be(i,r,"container"))};function $c(e,r){typeof r=="string"?e.style.background=r:r||he([document.documentElement,document.body],C["no-backdrop"])}function Bc(e,r){r&&(r in C?he(e,C[r]):(Fe('The "position" parameter is not valid, defaulting to "center"'),he(e,C.center)))}function Ic(e,r){r&&he(e,C[`grow-${r}`])}var ye={innerParams:new WeakMap,domCache:new WeakMap};const Nc=["input","file","range","select","radio","checkbox","textarea"],Hc=(e,r)=>{const i=de();if(!i)return;const n=ye.innerParams.get(e),a=!n||r.input!==n.input;Nc.forEach(o=>{const t=dt(i,C[o]);t&&(zc(o,r.inputAttributes),t.className=C[o],a&&Le(t))}),r.input&&(a&&jc(r),Uc(r))},jc=e=>{if(!e.input)return;if(!ve[e.input]){$t(`Unexpected type of input! Expected ${Object.keys(ve).join(" | ")}, got "${e.input}"`);return}const r=qo(e.input);if(!r)return;const i=ve[e.input](r,e);Ae(r),e.inputAutoFocus&&setTimeout(()=>{No(i)})},qc=e=>{for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r].name;["id","type","value","style"].includes(i)||e.removeAttribute(i)}},zc=(e,r)=>{const i=de();if(!i)return;const n=gn(i,e);if(n){qc(n);for(const a in r)n.setAttribute(a,r[a])}},Uc=e=>{if(!e.input)return;const r=qo(e.input);r&&Be(r,e,"input")},Fi=(e,r)=>{!e.placeholder&&r.inputPlaceholder&&(e.placeholder=r.inputPlaceholder)},Lr=(e,r,i)=>{if(i.inputLabel){const n=document.createElement("label"),a=C["input-label"];n.setAttribute("for",e.id),n.className=a,typeof i.customClass=="object"&&he(n,i.customClass.inputLabel),n.innerText=i.inputLabel,r.insertAdjacentElement("beforebegin",n)}},qo=e=>{const r=de();if(r)return dt(r,C[e]||C.input)},Jr=(e,r)=>{["string","number"].includes(typeof r)?e.value=`${r}`:xi(r)||Fe(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof r}"`)},ve={};ve.text=ve.email=ve.password=ve.number=ve.tel=ve.url=ve.search=ve.date=ve["datetime-local"]=ve.time=ve.week=ve.month=(e,r)=>(Jr(e,r.inputValue),Lr(e,e,r),Fi(e,r),e.type=r.input,e);ve.file=(e,r)=>(Lr(e,e,r),Fi(e,r),e);ve.range=(e,r)=>{const i=e.querySelector("input"),n=e.querySelector("output");return Jr(i,r.inputValue),i.type=r.input,Jr(n,r.inputValue),Lr(i,e,r),e};ve.select=(e,r)=>{if(e.textContent="",r.inputPlaceholder){const i=document.createElement("option");Ne(i,r.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,e.appendChild(i)}return Lr(e,e,r),e};ve.radio=e=>(e.textContent="",e);ve.checkbox=(e,r)=>{const i=gn(de(),"checkbox");i.value="1",i.checked=!!r.inputValue;const n=e.querySelector("span");return Ne(n,r.inputPlaceholder||r.inputLabel),i};ve.textarea=(e,r)=>{Jr(e,r.inputValue),Fi(e,r),Lr(e,e,r);const i=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(de()).width),a=()=>{if(!document.body.contains(e))return;const o=e.offsetWidth+i(e);o>n?de().style.width=`${o}px`:Ft(de(),"width",r.width)};new MutationObserver(a).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Vc=(e,r)=>{const i=Si();i&&(Li(i),Be(i,r,"htmlContainer"),r.html?(Oi(r.html,i),Ae(i,"block")):r.text?(i.textContent=r.text,Ae(i,"block")):Le(i),Hc(e,r))},Kc=(e,r)=>{const i=Io();i&&(Li(i),Ar(i,r.footer,"block"),r.footer&&Oi(r.footer,i),Be(i,r,"footer"))},Wc=(e,r)=>{const i=ye.innerParams.get(e),n=er();if(!n)return;if(i&&r.icon===i.icon){fs(n,r),ds(n,r);return}if(!r.icon&&!r.iconHtml){Le(n);return}if(r.icon&&Object.keys(Xr).indexOf(r.icon)===-1){$t(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${r.icon}"`),Le(n);return}Ae(n),fs(n,r),ds(n,r),he(n,r.showClass&&r.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",zo)},ds=(e,r)=>{for(const[i,n]of Object.entries(Xr))r.icon!==i&&ze(e,n);he(e,r.icon&&Xr[r.icon]),Jc(e,r),zo(),Be(e,r,"icon")},zo=()=>{const e=de();if(!e)return;const r=window.getComputedStyle(e).getPropertyValue("background-color"),i=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<i.length;n++)i[n].style.backgroundColor=r},Gc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Xc=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,fs=(e,r)=>{if(!r.icon&&!r.iconHtml)return;let i=e.innerHTML,n="";r.iconHtml?n=hs(r.iconHtml):r.icon==="success"?(n=Gc,i=i.replace(/ style=".*?"/g,"")):r.icon==="error"?n=Xc:r.icon&&(n=hs({question:"?",warning:"!",info:"i"}[r.icon])),i.trim()!==n.trim()&&Ne(e,n)},Jc=(e,r)=>{if(r.iconColor){e.style.color=r.iconColor,e.style.borderColor=r.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])cs(e,i,"background-color",r.iconColor);cs(e,".swal2-success-ring","border-color",r.iconColor)}},hs=e=>`<div class="${C["icon-content"]}">${e}</div>`,Yc=(e,r)=>{const i=Bo();if(i){if(!r.imageUrl){Le(i);return}Ae(i,""),i.setAttribute("src",r.imageUrl),i.setAttribute("alt",r.imageAlt||""),Ft(i,"width",r.imageWidth),Ft(i,"height",r.imageHeight),i.className=C.image,Be(i,r,"image")}};let Ri=!1,Uo=0,Vo=0,Ko=0,Wo=0;const Qc=e=>{e.addEventListener("mousedown",Yr),document.body.addEventListener("mousemove",Qr),e.addEventListener("mouseup",Zr),e.addEventListener("touchstart",Yr),document.body.addEventListener("touchmove",Qr),e.addEventListener("touchend",Zr)},Zc=e=>{e.removeEventListener("mousedown",Yr),document.body.removeEventListener("mousemove",Qr),e.removeEventListener("mouseup",Zr),e.removeEventListener("touchstart",Yr),document.body.removeEventListener("touchmove",Qr),e.removeEventListener("touchend",Zr)},Yr=e=>{const r=de();if(e.target===r||er().contains(e.target)){Ri=!0;const i=Go(e);Uo=i.clientX,Vo=i.clientY,Ko=parseInt(r.style.insetInlineStart)||0,Wo=parseInt(r.style.insetBlockStart)||0,he(r,"swal2-dragging")}},Qr=e=>{const r=de();if(Ri){let{clientX:i,clientY:n}=Go(e);r.style.insetInlineStart=`${Ko+(i-Uo)}px`,r.style.insetBlockStart=`${Wo+(n-Vo)}px`}},Zr=()=>{const e=de();Ri=!1,ze(e,"swal2-dragging")},Go=e=>{let r=0,i=0;return e.type.startsWith("mouse")?(r=e.clientX,i=e.clientY):e.type.startsWith("touch")&&(r=e.touches[0].clientX,i=e.touches[0].clientY),{clientX:r,clientY:i}},ed=(e,r)=>{const i=Re(),n=de();if(!(!i||!n)){if(r.toast){Ft(i,"width",r.width),n.style.width="100%";const a=rr();a&&n.insertBefore(a,er())}else Ft(n,"width",r.width);Ft(n,"padding",r.padding),r.color&&(n.style.color=r.color),r.background&&(n.style.background=r.background),Le(hn()),td(n,r),r.draggable&&!r.toast?(he(n,C.draggable),Qc(n)):(ze(n,C.draggable),Zc(n))}},td=(e,r)=>{const i=r.showClass||{};e.className=`${C.popup} ${$e(e)?i.popup:""}`,r.toast?(he([document.documentElement,document.body],C["toast-shown"]),he(e,C.toast)):he(e,C.modal),Be(e,r,"popup"),typeof r.customClass=="string"&&he(e,r.customClass),r.icon&&he(e,C[`icon-${r.icon}`])},rd=(e,r)=>{const i=Ei();if(!i)return;const{progressSteps:n,currentProgressStep:a}=r;if(!n||n.length===0||a===void 0){Le(i);return}Ae(i),i.textContent="",a>=n.length&&Fe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,t)=>{const s=nd(o);if(i.appendChild(s),t===a&&he(s,C["active-progress-step"]),t!==n.length-1){const l=id(r);i.appendChild(l)}})},nd=e=>{const r=document.createElement("li");return he(r,C["progress-step"]),Ne(r,e),r},id=e=>{const r=document.createElement("li");return he(r,C["progress-step-line"]),e.progressStepsDistance&&Ft(r,"width",e.progressStepsDistance),r},sd=(e,r)=>{const i=$o();i&&(Li(i),Ar(i,r.title||r.titleText,"block"),r.title&&Oi(r.title,i),r.titleText&&(i.innerText=r.titleText),Be(i,r,"title"))},Xo=(e,r)=>{ed(e,r),Dc(e,r),rd(e,r),Wc(e,r),Yc(e,r),sd(e,r),Mc(e,r),Vc(e,r),Oc(e,r),Kc(e,r);const i=de();typeof r.didRender=="function"&&i&&r.didRender(i),ie.eventEmitter.emit("didRender",i)},od=()=>$e(de()),Jo=()=>{var e;return(e=Qe())===null||e===void 0?void 0:e.click()},ad=()=>{var e;return(e=Bt())===null||e===void 0?void 0:e.click()},ld=()=>{var e;return(e=tr())===null||e===void 0?void 0:e.click()},nr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Yo=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},ud=(e,r,i)=>{Yo(e),r.toast||(e.keydownHandler=n=>dd(r,n,i),e.keydownTarget=r.keydownListenerCapture?window:de(),e.keydownListenerCapture=r.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Qn=(e,r)=>{var i;const n=Ti();if(n.length){e=e+r,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(i=de())===null||i===void 0||i.focus()},Qo=["ArrowRight","ArrowDown"],cd=["ArrowLeft","ArrowUp"],dd=(e,r,i)=>{e&&(r.isComposing||r.keyCode===229||(e.stopKeydownPropagation&&r.stopPropagation(),r.key==="Enter"?fd(r,e):r.key==="Tab"?hd(r):[...Qo,...cd].includes(r.key)?pd(r.key):r.key==="Escape"&&md(r,e,i)))},fd=(e,r)=>{if(!fn(r.allowEnterKey))return;const i=gn(de(),r.input);if(e.target&&i&&e.target instanceof HTMLElement&&e.target.outerHTML===i.outerHTML){if(["textarea","file"].includes(r.input))return;Jo(),e.preventDefault()}},hd=e=>{const r=e.target,i=Ti();let n=-1;for(let a=0;a<i.length;a++)if(r===i[a]){n=a;break}e.shiftKey?Qn(n,-1):Qn(n,1),e.stopPropagation(),e.preventDefault()},pd=e=>{const r=Tr(),i=Qe(),n=Bt(),a=tr();if(!r||!i||!n||!a)return;const o=[i,n,a];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const t=Qo.includes(e)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;if(s){for(let l=0;l<r.children.length;l++){if(s=s[t],!s)return;if(s instanceof HTMLButtonElement&&$e(s))break}s instanceof HTMLButtonElement&&s.focus()}},md=(e,r,i)=>{e.preventDefault(),fn(r.allowEscapeKey)&&i(nr.esc)};var Wt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const gd=()=>{const e=Re();Array.from(document.body.children).forEach(i=>{i.contains(e)||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")||""),i.setAttribute("aria-hidden","true"))})},Zo=()=>{Array.from(document.body.children).forEach(r=>{r.hasAttribute("data-previous-aria-hidden")?(r.setAttribute("aria-hidden",r.getAttribute("data-previous-aria-hidden")||""),r.removeAttribute("data-previous-aria-hidden")):r.removeAttribute("aria-hidden")})},ea=typeof window<"u"&&!!window.GestureEvent,wd=()=>{if(ea&&!rt(document.body,C.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,he(document.body,C.iosfix),yd()}},yd=()=>{const e=Re();if(!e)return;let r;e.ontouchstart=i=>{r=_d(i)},e.ontouchmove=i=>{r&&(i.preventDefault(),i.stopPropagation())}},_d=e=>{const r=e.target,i=Re(),n=Si();return!i||!n||bd(e)||vd(e)?!1:r===i||!Yn(i)&&r instanceof HTMLElement&&!_c(r,n)&&r.tagName!=="INPUT"&&r.tagName!=="TEXTAREA"&&!(Yn(n)&&n.contains(r))},bd=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",vd=e=>e.touches&&e.touches.length>1,kd=()=>{if(rt(document.body,C.iosfix)){const e=parseInt(document.body.style.top,10);ze(document.body,C.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},xd=()=>{const e=document.createElement("div");e.className=C["scrollbar-measure"],document.body.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),r};let qt=null;const Sd=e=>{qt===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(qt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${qt+xd()}px`)},Ed=()=>{qt!==null&&(document.body.style.paddingRight=`${qt}px`,qt=null)};function ta(e,r,i,n){mn()?ps(e,n):(uc(i).then(()=>ps(e,n)),Yo(ie)),ea?(r.setAttribute("style","display:none !important"),r.removeAttribute("class"),r.innerHTML=""):r.remove(),Ai()&&(Ed(),kd(),Zo()),Cd()}function Cd(){ze([document.documentElement,document.body],[C.shown,C["height-auto"],C["no-backdrop"],C["toast-shown"]])}function ft(e){e=Ad(e);const r=Wt.swalPromiseResolve.get(this),i=Td(this);this.isAwaitingPromise?e.isDismissed||(Pr(this),r(e)):i&&r(e)}const Td=e=>{const r=de();if(!r)return!1;const i=ye.innerParams.get(e);if(!i||rt(r,i.hideClass.popup))return!1;ze(r,i.showClass.popup),he(r,i.hideClass.popup);const n=Re();return ze(n,i.showClass.backdrop),he(n,i.hideClass.backdrop),Ld(e,r,i),!0};function ra(e){const r=Wt.swalPromiseReject.get(this);Pr(this),r&&r(e)}const Pr=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,ye.innerParams.get(e)||e._destroy())},Ad=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Ld=(e,r,i)=>{var n;const a=Re(),o=jo(r);typeof i.willClose=="function"&&i.willClose(r),(n=ie.eventEmitter)===null||n===void 0||n.emit("willClose",r),o?Pd(e,r,a,i.returnFocus,i.didClose):ta(e,a,i.returnFocus,i.didClose)},Pd=(e,r,i,n,a)=>{ie.swalCloseEventFinishedCallback=ta.bind(null,e,i,n,a);const o=function(t){if(t.target===r){var s;(s=ie.swalCloseEventFinishedCallback)===null||s===void 0||s.call(ie),delete ie.swalCloseEventFinishedCallback,r.removeEventListener("animationend",o),r.removeEventListener("transitionend",o)}};r.addEventListener("animationend",o),r.addEventListener("transitionend",o)},ps=(e,r)=>{setTimeout(()=>{var i;typeof r=="function"&&r.bind(e.params)(),(i=ie.eventEmitter)===null||i===void 0||i.emit("didClose"),e._destroy&&e._destroy()})},Gt=e=>{let r=de();if(r||new Ut,r=de(),!r)return;const i=rr();mn()?Le(er()):Od(r,e),Ae(i),r.setAttribute("data-loading","true"),r.setAttribute("aria-busy","true"),r.focus()},Od=(e,r)=>{const i=Tr(),n=rr();!i||!n||(!r&&$e(Qe())&&(r=Qe()),Ae(i),r&&(Le(r),n.setAttribute("data-button-to-replace",r.className),i.insertBefore(n,r)),he([e,i],C.loading))},Fd=(e,r)=>{r.input==="select"||r.input==="radio"?Bd(e,r):["text","email","number","tel","textarea"].some(i=>i===r.input)&&(ki(r.inputValue)||xi(r.inputValue))&&(Gt(Qe()),Id(e,r))},Rd=(e,r)=>{const i=e.getInput();if(!i)return null;switch(r.input){case"checkbox":return Md(i);case"radio":return Dd(i);case"file":return $d(i);default:return r.inputAutoTrim?i.value.trim():i.value}},Md=e=>e.checked?1:0,Dd=e=>e.checked?e.value:null,$d=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,Bd=(e,r)=>{const i=de();if(!i)return;const n=a=>{r.input==="select"?Nd(i,en(a),r):r.input==="radio"&&Hd(i,en(a),r)};ki(r.inputOptions)||xi(r.inputOptions)?(Gt(Qe()),Er(r.inputOptions).then(a=>{e.hideLoading(),n(a)})):typeof r.inputOptions=="object"?n(r.inputOptions):$t(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof r.inputOptions}`)},Id=(e,r)=>{const i=e.getInput();i&&(Le(i),Er(r.inputValue).then(n=>{i.value=r.input==="number"?`${parseFloat(n)||0}`:`${n}`,Ae(i),i.focus(),e.hideLoading()}).catch(n=>{$t(`Error in inputValue promise: ${n}`),i.value="",Ae(i),i.focus(),e.hideLoading()}))};function Nd(e,r,i){const n=dt(e,C.select);if(!n)return;const a=(o,t,s)=>{const l=document.createElement("option");l.value=s,Ne(l,t),l.selected=na(s,i.inputValue),o.appendChild(l)};r.forEach(o=>{const t=o[0],s=o[1];if(Array.isArray(s)){const l=document.createElement("optgroup");l.label=t,l.disabled=!1,n.appendChild(l),s.forEach(u=>a(l,u[1],u[0]))}else a(n,s,t)}),n.focus()}function Hd(e,r,i){const n=dt(e,C.radio);if(!n)return;r.forEach(o=>{const t=o[0],s=o[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=C.radio,l.value=t,na(t,i.inputValue)&&(l.checked=!0);const d=document.createElement("span");Ne(d,s),d.className=C.label,u.appendChild(l),u.appendChild(d),n.appendChild(u)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const en=e=>{const r=[];return e instanceof Map?e.forEach((i,n)=>{let a=i;typeof a=="object"&&(a=en(a)),r.push([n,a])}):Object.keys(e).forEach(i=>{let n=e[i];typeof n=="object"&&(n=en(n)),r.push([i,n])}),r},na=(e,r)=>!!r&&r.toString()===e.toString(),jd=e=>{const r=ye.innerParams.get(e);e.disableButtons(),r.input?ia(e,"confirm"):Di(e,!0)},qd=e=>{const r=ye.innerParams.get(e);e.disableButtons(),r.returnInputValueOnDeny?ia(e,"deny"):Mi(e,!1)},zd=(e,r)=>{e.disableButtons(),r(nr.cancel)},ia=(e,r)=>{const i=ye.innerParams.get(e);if(!i.input){$t(`The "input" parameter is needed to be set when using returnInputValueOn${vi(r)}`);return}const n=e.getInput(),a=Rd(e,i);i.inputValidator?Ud(e,a,r):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(i.validationMessage||n.validationMessage)):r==="deny"?Mi(e,a):Di(e,a)},Ud=(e,r,i)=>{const n=ye.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Er(n.inputValidator(r,n.validationMessage))).then(o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):i==="deny"?Mi(e,r):Di(e,r)})},Mi=(e,r)=>{const i=ye.innerParams.get(e||void 0);i.showLoaderOnDeny&&Gt(Bt()),i.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Er(i.preDeny(r,i.validationMessage))).then(a=>{a===!1?(e.hideLoading(),Pr(e)):e.close({isDenied:!0,value:typeof a>"u"?r:a})}).catch(a=>sa(e||void 0,a))):e.close({isDenied:!0,value:r})},ms=(e,r)=>{e.close({isConfirmed:!0,value:r})},sa=(e,r)=>{e.rejectPromise(r)},Di=(e,r)=>{const i=ye.innerParams.get(e||void 0);i.showLoaderOnConfirm&&Gt(),i.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Er(i.preConfirm(r,i.validationMessage))).then(a=>{$e(hn())||a===!1?(e.hideLoading(),Pr(e)):ms(e,typeof a>"u"?r:a)}).catch(a=>sa(e||void 0,a))):ms(e,r)};function tn(){const e=ye.innerParams.get(this);if(!e)return;const r=ye.domCache.get(this);Le(r.loader),mn()?e.icon&&Ae(er()):Vd(r),ze([r.popup,r.actions],C.loading),r.popup.removeAttribute("aria-busy"),r.popup.removeAttribute("data-loading"),r.confirmButton.disabled=!1,r.denyButton.disabled=!1,r.cancelButton.disabled=!1}const Vd=e=>{const r=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));r.length?Ae(r[0],"inline-block"):yc()&&Le(e.actions)};function oa(){const e=ye.innerParams.get(this),r=ye.domCache.get(this);return r?gn(r.popup,e.input):null}function aa(e,r,i){const n=ye.domCache.get(e);r.forEach(a=>{n[a].disabled=i})}function la(e,r){const i=de();if(!(!i||!e))if(e.type==="radio"){const n=i.querySelectorAll(`[name="${C.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=r}else e.disabled=r}function ua(){aa(this,["confirmButton","denyButton","cancelButton"],!1)}function ca(){aa(this,["confirmButton","denyButton","cancelButton"],!0)}function da(){la(this.getInput(),!1)}function fa(){la(this.getInput(),!0)}function ha(e){const r=ye.domCache.get(this),i=ye.innerParams.get(this);Ne(r.validationMessage,e),r.validationMessage.className=C["validation-message"],i.customClass&&i.customClass.validationMessage&&he(r.validationMessage,i.customClass.validationMessage),Ae(r.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",C["validation-message"]),No(n),he(n,C.inputerror))}function pa(){const e=ye.domCache.get(this);e.validationMessage&&Le(e.validationMessage);const r=this.getInput();r&&(r.removeAttribute("aria-invalid"),r.removeAttribute("aria-describedby"),ze(r,C.inputerror))}const zt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Kd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Wd={allowEnterKey:void 0},Gd=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ma=e=>Object.prototype.hasOwnProperty.call(zt,e),ga=e=>Kd.indexOf(e)!==-1,wa=e=>Wd[e],Xd=e=>{ma(e)||Fe(`Unknown parameter "${e}"`)},Jd=e=>{Gd.includes(e)&&Fe(`The parameter "${e}" is incompatible with toasts`)},Yd=e=>{const r=wa(e);r&&Do(e,r)},ya=e=>{e.backdrop===!1&&e.allowOutsideClick&&Fe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Fe(`Invalid theme "${e.theme}"`);for(const r in e)Xd(r),e.toast&&Jd(r),Yd(r)};function _a(e){const r=Re(),i=de(),n=ye.innerParams.get(this);if(!i||rt(i,n.hideClass.popup)){Fe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=Qd(e),o=Object.assign({},n,a);ya(o),r.dataset.swal2Theme=o.theme,Xo(this,o),ye.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Qd=e=>{const r={};return Object.keys(e).forEach(i=>{ga(i)?r[i]=e[i]:Fe(`Invalid parameter to update: ${i}`)}),r};function ba(){const e=ye.domCache.get(this),r=ye.innerParams.get(this);if(!r){va(this);return}e.popup&&ie.swalCloseEventFinishedCallback&&(ie.swalCloseEventFinishedCallback(),delete ie.swalCloseEventFinishedCallback),typeof r.didDestroy=="function"&&r.didDestroy(),ie.eventEmitter.emit("didDestroy"),Zd(this)}const Zd=e=>{va(e),delete e.params,delete ie.keydownHandler,delete ie.keydownTarget,delete ie.currentInstance},va=e=>{e.isAwaitingPromise?(Rn(ye,e),e.isAwaitingPromise=!0):(Rn(Wt,e),Rn(ye,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Rn=(e,r)=>{for(const i in e)e[i].delete(r)};var ef=Object.freeze({__proto__:null,_destroy:ba,close:ft,closeModal:ft,closePopup:ft,closeToast:ft,disableButtons:ca,disableInput:fa,disableLoading:tn,enableButtons:ua,enableInput:da,getInput:oa,handleAwaitingPromise:Pr,hideLoading:tn,rejectPromise:ra,resetValidationMessage:pa,showValidationMessage:ha,update:_a});const tf=(e,r,i)=>{e.toast?rf(e,r,i):(sf(r),of(r),af(e,r,i))},rf=(e,r,i)=>{r.popup.onclick=()=>{e&&(nf(e)||e.timer||e.input)||i(nr.close)}},nf=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let rn=!1;const sf=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(r){e.container.onmouseup=()=>{},r.target===e.container&&(rn=!0)}}},of=e=>{e.container.onmousedown=r=>{r.target===e.container&&r.preventDefault(),e.popup.onmouseup=function(i){e.popup.onmouseup=()=>{},(i.target===e.popup||i.target instanceof HTMLElement&&e.popup.contains(i.target))&&(rn=!0)}}},af=(e,r,i)=>{r.container.onclick=n=>{if(rn){rn=!1;return}n.target===r.container&&fn(e.allowOutsideClick)&&i(nr.backdrop)}},lf=e=>typeof e=="object"&&e.jquery,gs=e=>e instanceof Element||lf(e),uf=e=>{const r={};return typeof e[0]=="object"&&!gs(e[0])?Object.assign(r,e[0]):["title","html","icon"].forEach((i,n)=>{const a=e[n];typeof a=="string"||gs(a)?r[i]=a:a!==void 0&&$t(`Unexpected type of ${i}! Expected "string" or "Element", got ${typeof a}`)}),r};function cf(...e){return new this(...e)}function df(e){class r extends this{_main(n,a){return super._main(n,Object.assign({},e,a))}}return r}const ff=()=>ie.timeout&&ie.timeout.getTimerLeft(),ka=()=>{if(ie.timeout)return bc(),ie.timeout.stop()},xa=()=>{if(ie.timeout){const e=ie.timeout.start();return Pi(e),e}},hf=()=>{const e=ie.timeout;return e&&(e.running?ka():xa())},pf=e=>{if(ie.timeout){const r=ie.timeout.increase(e);return Pi(r,!0),r}},mf=()=>!!(ie.timeout&&ie.timeout.isRunning());let ws=!1;const Zn={};function gf(e="data-swal-template"){Zn[e]=this,ws||(document.body.addEventListener("click",wf),ws=!0)}const wf=e=>{for(let r=e.target;r&&r!==document;r=r.parentNode)for(const i in Zn){const n=r.getAttribute(i);if(n){Zn[i].fire({template:n});return}}};class yf{constructor(){this.events={}}_getHandlersByEventName(r){return typeof this.events[r]>"u"&&(this.events[r]=[]),this.events[r]}on(r,i){const n=this._getHandlersByEventName(r);n.includes(i)||n.push(i)}once(r,i){const n=(...a)=>{this.removeListener(r,n),i.apply(this,a)};this.on(r,n)}emit(r,...i){this._getHandlersByEventName(r).forEach(n=>{try{n.apply(this,i)}catch(a){console.error(a)}})}removeListener(r,i){const n=this._getHandlersByEventName(r),a=n.indexOf(i);a>-1&&n.splice(a,1)}removeAllListeners(r){this.events[r]!==void 0&&(this.events[r].length=0)}reset(){this.events={}}}ie.eventEmitter=new yf;const _f=(e,r)=>{ie.eventEmitter.on(e,r)},bf=(e,r)=>{ie.eventEmitter.once(e,r)},vf=(e,r)=>{if(!e){ie.eventEmitter.reset();return}r?ie.eventEmitter.removeListener(e,r):ie.eventEmitter.removeAllListeners(e)};var kf=Object.freeze({__proto__:null,argsToParams:uf,bindClickHandler:gf,clickCancel:ld,clickConfirm:Jo,clickDeny:ad,enableLoading:Gt,fire:cf,getActions:Tr,getCancelButton:tr,getCloseButton:Ci,getConfirmButton:Qe,getContainer:Re,getDenyButton:Bt,getFocusableElements:Ti,getFooter:Io,getHtmlContainer:Si,getIcon:er,getIconContent:hc,getImage:Bo,getInputLabel:pc,getLoader:rr,getPopup:de,getProgressSteps:Ei,getTimerLeft:ff,getTimerProgressBar:pn,getTitle:$o,getValidationMessage:hn,increaseTimer:pf,isDeprecatedParameter:wa,isLoading:gc,isTimerRunning:mf,isUpdatableParameter:ga,isValidParameter:ma,isVisible:od,mixin:df,off:vf,on:_f,once:bf,resumeTimer:xa,showLoading:Gt,stopTimer:ka,toggleTimer:hf});class xf{constructor(r,i){this.callback=r,this.remaining=i,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(r){const i=this.running;return i&&this.stop(),this.remaining+=r,i&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Sa=["swal-title","swal-html","swal-footer"],Sf=e=>{const r=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!r)return{};const i=r.content;return Ff(i),Object.assign(Ef(i),Cf(i),Tf(i),Af(i),Lf(i),Pf(i),Of(i,Sa))},Ef=e=>{const r={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{Mt(n,["name","value"]);const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(typeof zt[a]=="boolean"?r[a]=o!=="false":typeof zt[a]=="object"?r[a]=JSON.parse(o):r[a]=o)}),r},Cf=e=>{const r={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(r[a]=new Function(`return ${o}`)())}),r},Tf=e=>{const r={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{Mt(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(r[`${a}ButtonText`]=n.innerHTML,r[`show${vi(a)}Button`]=!0,n.hasAttribute("color")&&(r[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(r[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),r},Af=e=>{const r={},i=e.querySelector("swal-image");return i&&(Mt(i,["src","width","height","alt"]),i.hasAttribute("src")&&(r.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(r.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(r.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(r.imageAlt=i.getAttribute("alt")||void 0)),r},Lf=e=>{const r={},i=e.querySelector("swal-icon");return i&&(Mt(i,["type","color"]),i.hasAttribute("type")&&(r.icon=i.getAttribute("type")),i.hasAttribute("color")&&(r.iconColor=i.getAttribute("color")),r.iconHtml=i.innerHTML),r},Pf=e=>{const r={},i=e.querySelector("swal-input");i&&(Mt(i,["type","label","placeholder","value"]),r.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(r.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(r.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(r.inputValue=i.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(r.inputOptions={},n.forEach(a=>{Mt(a,["value"]);const o=a.getAttribute("value");if(!o)return;const t=a.innerHTML;r.inputOptions[o]=t})),r},Of=(e,r)=>{const i={};for(const n in r){const a=r[n],o=e.querySelector(a);o&&(Mt(o,[]),i[a.replace(/^swal-/,"")]=o.innerHTML.trim())}return i},Ff=e=>{const r=Sa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(i=>{const n=i.tagName.toLowerCase();r.includes(n)||Fe(`Unrecognized element <${n}>`)})},Mt=(e,r)=>{Array.from(e.attributes).forEach(i=>{r.indexOf(i.name)===-1&&Fe([`Unrecognized attribute "${i.name}" on <${e.tagName.toLowerCase()}>.`,`${r.length?`Allowed attributes are: ${r.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ea=10,Rf=e=>{const r=Re(),i=de();typeof e.willOpen=="function"&&e.willOpen(i),ie.eventEmitter.emit("willOpen",i);const a=window.getComputedStyle(document.body).overflowY;$f(r,i,e),setTimeout(()=>{Mf(r,i)},Ea),Ai()&&(Df(r,e.scrollbarPadding,a),gd()),!mn()&&!ie.previousActiveElement&&(ie.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(i)),ie.eventEmitter.emit("didOpen",i),ze(r,C["no-transition"])},nn=e=>{const r=de();if(e.target!==r)return;const i=Re();r.removeEventListener("animationend",nn),r.removeEventListener("transitionend",nn),i.style.overflowY="auto"},Mf=(e,r)=>{jo(r)?(e.style.overflowY="hidden",r.addEventListener("animationend",nn),r.addEventListener("transitionend",nn)):e.style.overflowY="auto"},Df=(e,r,i)=>{wd(),r&&i!=="hidden"&&Sd(i),setTimeout(()=>{e.scrollTop=0})},$f=(e,r,i)=>{he(e,i.showClass.backdrop),i.animation?(r.style.setProperty("opacity","0","important"),Ae(r,"grid"),setTimeout(()=>{he(r,i.showClass.popup),r.style.removeProperty("opacity")},Ea)):Ae(r,"grid"),he([document.documentElement,document.body],C.shown),i.heightAuto&&i.backdrop&&!i.toast&&he([document.documentElement,document.body],C["height-auto"])};var ys={email:(e,r)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(r||"Invalid email address"),url:(e,r)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(r||"Invalid URL")};function Bf(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=ys.email),e.input==="url"&&(e.inputValidator=ys.url))}function If(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Fe('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Nf(e){Bf(e),e.showLoaderOnConfirm&&!e.preConfirm&&Fe(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),If(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Ac(e)}let Ye;var qr=new WeakMap;class ke{constructor(...r){if(sc(this,qr,void 0),typeof window>"u")return;Ye=this;const i=Object.freeze(this.constructor.argsToParams(r));this.params=i,this.isAwaitingPromise=!1,oc(qr,this,this._main(Ye.params))}_main(r,i={}){if(ya(Object.assign({},i,r)),ie.currentInstance){const o=Wt.swalPromiseResolve.get(ie.currentInstance),{isAwaitingPromise:t}=ie.currentInstance;ie.currentInstance._destroy(),t||o({isDismissed:!0}),Ai()&&Zo()}ie.currentInstance=Ye;const n=jf(r,i);Nf(n),Object.freeze(n),ie.timeout&&(ie.timeout.stop(),delete ie.timeout),clearTimeout(ie.restoreFocusTimeout);const a=qf(Ye);return Xo(Ye,n),ye.innerParams.set(Ye,n),Hf(Ye,a,n)}then(r){return ls(qr,this).then(r)}finally(r){return ls(qr,this).finally(r)}}const Hf=(e,r,i)=>new Promise((n,a)=>{const o=t=>{e.close({isDismissed:!0,dismiss:t})};Wt.swalPromiseResolve.set(e,n),Wt.swalPromiseReject.set(e,a),r.confirmButton.onclick=()=>{jd(e)},r.denyButton.onclick=()=>{qd(e)},r.cancelButton.onclick=()=>{zd(e,o)},r.closeButton.onclick=()=>{o(nr.close)},tf(i,r,o),ud(ie,i,o),Fd(e,i),Rf(i),zf(ie,i,o),Uf(r,i),setTimeout(()=>{r.container.scrollTop=0})}),jf=(e,r)=>{const i=Sf(e),n=Object.assign({},zt,r,i,e);return n.showClass=Object.assign({},zt.showClass,n.showClass),n.hideClass=Object.assign({},zt.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},qf=e=>{const r={popup:de(),container:Re(),actions:Tr(),confirmButton:Qe(),denyButton:Bt(),cancelButton:tr(),loader:rr(),closeButton:Ci(),validationMessage:hn(),progressSteps:Ei()};return ye.domCache.set(e,r),r},zf=(e,r,i)=>{const n=pn();Le(n),r.timer&&(e.timeout=new xf(()=>{i("timer"),delete e.timeout},r.timer),r.timerProgressBar&&(Ae(n),Be(n,r,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Pi(r.timer)})))},Uf=(e,r)=>{if(!r.toast){if(!fn(r.allowEnterKey)){Do("allowEnterKey"),Wf();return}Vf(e)||Kf(e,r)||Qn(-1,1)}},Vf=e=>{const r=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const i of r)if(i instanceof HTMLElement&&$e(i))return i.focus(),!0;return!1},Kf=(e,r)=>r.focusDeny&&$e(e.denyButton)?(e.denyButton.focus(),!0):r.focusCancel&&$e(e.cancelButton)?(e.cancelButton.focus(),!0):r.focusConfirm&&$e(e.confirmButton)?(e.confirmButton.focus(),!0):!1,Wf=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,r=localStorage.getItem("swal-initiation");r?(e.getTime()-Date.parse(r))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const i=document.createElement("audio");i.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",i.loop=!0,document.body.appendChild(i),setTimeout(()=>{i.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}ke.prototype.disableButtons=ca;ke.prototype.enableButtons=ua;ke.prototype.getInput=oa;ke.prototype.disableInput=fa;ke.prototype.enableInput=da;ke.prototype.hideLoading=tn;ke.prototype.disableLoading=tn;ke.prototype.showValidationMessage=ha;ke.prototype.resetValidationMessage=pa;ke.prototype.close=ft;ke.prototype.closePopup=ft;ke.prototype.closeModal=ft;ke.prototype.closeToast=ft;ke.prototype.rejectPromise=ra;ke.prototype.update=_a;ke.prototype._destroy=ba;Object.assign(ke,kf);Object.keys(ef).forEach(e=>{ke[e]=function(...r){return Ye&&Ye[e]?Ye[e](...r):null}});ke.DismissReason=nr;ke.version="11.22.1";const Ut=ke;Ut.default=Ut;typeof document<"u"&&function(e,r){var i=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const jt=(e,r={})=>{const{icon:i="info",...n}=r;Ut.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ut.stopTimer),o.addEventListener("mouseleave",Ut.resumeTimer)},...n}).fire({icon:i,title:e})};async function Gf(){const e=await nc(()=>import("./index-Cvny4KXv.js"),[]);await e.start();const r=new e.Player({loop:!0}),i=new e.PitchShift().toDestination();return r.connect(i),r.sync().start(0),{Tone:e,player:r,pitchShift:i}}const Xf=()=>({tracks:mt.$persist([]),track:null,appVersion:mt.$persist("v0.0.0"),bpm:0,semitoneOffset:0,progress:0,currentTime:0,duration:0,Tone:null,player:null,pitchShift:null,originalBPM:100,isLoading:!1,isPlaying:!1,get currentPitchName(){if(!this.track)return"--";const e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=e.indexOf(this.track.scale.toUpperCase());if(r===-1)return this.track.scale;let i=r+this.semitoneOffset;return i=(i%12+12)%12,e[i]},capitalize:Oo,formatTime(e){if(isNaN(e)||e<0)return"00:00";const r=Math.floor(e/60),i=Math.floor(e%60);return`${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`},async init(){await this.checkAppVersion(),await this.ensureTracksLoaded();const r=new URLSearchParams(window.location.search).get("id");this.track=this.tracks.find(i=>String(i.id)===String(r)),this.track&&(this.bpm=this.track.bpm,this.originalBPM=this.track.bpm),this.$watch("bpm",()=>this.updatePlaybackRate()),this.$watch("semitoneOffset",()=>this.updatePlaybackRate()),window.playerPage=this},async checkAppVersion(){try{const e=await fetch("/version.json?t="+new Date().getTime());if(!e.ok)return;const i=(await e.json()).version;if(i&&this.appVersion!==i){console.log(`New version detected. Old: ${this.appVersion}, New: ${i}.`),jt(`New version detected. Old: ${this.appVersion}, New: ${i}.`);const n=this.appVersion;this.appVersion=i,await this.cleanupOldCaches(),this.track&&this.player&&await this.loadLehra()}}catch(e){console.error("Could not check app version:",e)}},async cleanupOldCaches(){try{const r=(await window.caches.keys()).filter(i=>i.startsWith("riyaazz-audio-cache-")).map(i=>(console.log(`Deleting cache: ${i}`),window.caches.delete(i)));localStorage.removeItem("_x_tracks"),await Promise.all(r),jt("App data cleared for new version.")}catch(e){console.error("Error cleaning up caches",e)}},getCacheName(){return`riyaazz-audio-cache-${this.appVersion}`},async ensureTracksLoaded(){if(!(this.tracks.length>0)){try{const e=await fetch("/tracks.json");this.tracks=await e.json()}catch(e){console.error("Failed to fetch tracks.json for player:",e)}this.currentTime=0;try{const e=`/audio/${this.track.file}`,r=`riyaazz-audio-cache-${this.appVersion}`,i=await window.caches.open(r);let n=await i.match(e),a=!1;if(!n)if(a=!0,n=await fetch(e),n&&n.ok)await i.put(e,n.clone());else throw new Error(`Failed to fetch audio file: ${n.statusText}`);const o=await n.arrayBuffer(),t=await this.Tone.getContext().decodeAudioData(o);this.player.buffer=t,a&&jt("Lehra saved for offline use."),this.duration=this.player.buffer.duration,this.Tone.Transport.loopEnd=this.duration,this.Tone.Transport.loop=!0,this.updatePlaybackRate()}catch(e){console.error("Error loading audio buffer:",e),jt("Failed to load audio.",{icon:"error"})}finally{this.isLoading=!1}}},async initializeAudio(){if(!this.Tone){this.isLoading=!0;try{const e=await Gf();this.Tone=e.Tone,this.player=e.player,this.pitchShift=e.pitchShift,await this.loadLehra()}catch(e){console.error("Failed to initialize audio:",e)}finally{this.isLoading=!1}}},async loadLehra(){if(!(!this.player||!this.track)){this.isLoading=!0,this.isPlaying=!1,this.Tone.Transport.stop(),this.Tone.Transport.position=0,this.progress=0,this.currentTime=0;try{const e=`/audio/${this.track.file}`,r=await window.caches.open(this.getCacheName());let i=await r.match(e),n=!1;if(!i)if(n=!0,i=await fetch(e),i&&i.ok)await r.put(e,i.clone());else throw new Error(`Failed to fetch audio file: ${i.statusText}`);const a=await i.arrayBuffer(),o=await this.Tone.getContext().decodeAudioData(a);this.player.buffer=o,n&&jt("Lehra saved for offline use."),this.duration=this.player.buffer.duration,this.Tone.Transport.loopEnd=this.duration,this.Tone.Transport.loop=!0,this.updatePlaybackRate()}catch(e){console.error("Error loading audio buffer:",e),jt("Failed to load audio.",{icon:"error"})}finally{this.isLoading=!1}}},async togglePlayPause(){this.isLoading||(this.Tone||await this.initializeAudio(),!(!this.player||!this.player.loaded)&&(this.isPlaying?this.Tone.Transport.pause():(this.Tone.Transport.start(),requestAnimationFrame(()=>this.updateTimeline())),this.isPlaying=!this.isPlaying))},updateTimeline(){!this.isPlaying||!this.player||!this.player.loaded||(this.progress=this.Tone.Transport.progress*100,this.currentTime=this.Tone.Transport.seconds,requestAnimationFrame(()=>this.updateTimeline()))},seek(){if(!this.player||!this.player.loaded)return;const e=this.player.buffer.duration/100*this.progress;this.Tone.Transport.seconds=e},updatePlaybackRate(){if(this.player&&this.player.loaded){const e=this.bpm/this.originalBPM;this.player.playbackRate=e;const r=-12*Math.log2(e);this.pitchShift.pitch=this.semitoneOffset+r}},changeScale(e){this.semitoneOffset+=e},changeBpm(e){this.bpm=Math.max(20,this.bpm+e)},destroy(){this.Tone&&this.player&&(this.Tone.Transport.stop(),this.player.unsync(),this.Tone.Transport.cancel(0),this.player.dispose(),this.pitchShift.dispose(),this.Tone=null,this.player=null,this.pitchShift=null,this.isPlaying=!1)}});window.alpine=mt;mt.plugin(Qu);mt.data("tracks",ec);mt.data("playerPage",Xf);mt.start();
